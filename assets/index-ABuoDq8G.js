function X0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var J0={exports:{}},od={},Z0={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tl=Symbol.for("react.element"),jS=Symbol.for("react.portal"),US=Symbol.for("react.fragment"),$S=Symbol.for("react.strict_mode"),zS=Symbol.for("react.profiler"),BS=Symbol.for("react.provider"),HS=Symbol.for("react.context"),WS=Symbol.for("react.forward_ref"),qS=Symbol.for("react.suspense"),GS=Symbol.for("react.memo"),KS=Symbol.for("react.lazy"),Mv=Symbol.iterator;function QS(t){return t===null||typeof t!="object"?null:(t=Mv&&t[Mv]||t["@@iterator"],typeof t=="function"?t:null)}var ew={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tw=Object.assign,nw={};function Oo(t,e,n){this.props=t,this.context=e,this.refs=nw,this.updater=n||ew}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rw(){}rw.prototype=Oo.prototype;function $p(t,e,n){this.props=t,this.context=e,this.refs=nw,this.updater=n||ew}var zp=$p.prototype=new rw;zp.constructor=$p;tw(zp,Oo.prototype);zp.isPureReactComponent=!0;var Vv=Array.isArray,iw=Object.prototype.hasOwnProperty,Bp={current:null},sw={key:!0,ref:!0,__self:!0,__source:!0};function ow(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)iw.call(e,r)&&!sw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Tl,type:t,key:s,ref:o,props:i,_owner:Bp.current}}function YS(t,e){return{$$typeof:Tl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tl}function XS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fv=/\/+/g;function fh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XS(""+t.key):e.toString(36)}function Uu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tl:case jS:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+fh(o,0):r,Vv(i)?(n="",t!=null&&(n=t.replace(Fv,"$&/")+"/"),Uu(i,e,n,"",function(c){return c})):i!=null&&(Hp(i)&&(i=YS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Fv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Vv(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+fh(s,l);o+=Uu(s,e,n,u,i)}else if(u=QS(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+fh(s,l++),o+=Uu(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uu(t,e,n){if(t==null)return t;var r=[],i=0;return Uu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function JS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var en={current:null},$u={transition:null},ZS={ReactCurrentDispatcher:en,ReactCurrentBatchConfig:$u,ReactCurrentOwner:Bp};function aw(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:uu,forEach:function(t,e,n){uu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uu(t,function(){e++}),e},toArray:function(t){return uu(t,function(e){return e})||[]},only:function(t){if(!Hp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=Oo;Re.Fragment=US;Re.Profiler=zS;Re.PureComponent=$p;Re.StrictMode=$S;Re.Suspense=qS;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZS;Re.act=aw;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=tw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)iw.call(e,u)&&!sw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Tl,type:t.type,key:i,ref:s,props:r,_owner:o}};Re.createContext=function(t){return t={$$typeof:HS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BS,_context:t},t.Consumer=t};Re.createElement=ow;Re.createFactory=function(t){var e=ow.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:WS,render:t}};Re.isValidElement=Hp;Re.lazy=function(t){return{$$typeof:KS,_payload:{_status:-1,_result:t},_init:JS}};Re.memo=function(t,e){return{$$typeof:GS,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=$u.transition;$u.transition={};try{t()}finally{$u.transition=e}};Re.unstable_act=aw;Re.useCallback=function(t,e){return en.current.useCallback(t,e)};Re.useContext=function(t){return en.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return en.current.useDeferredValue(t)};Re.useEffect=function(t,e){return en.current.useEffect(t,e)};Re.useId=function(){return en.current.useId()};Re.useImperativeHandle=function(t,e,n){return en.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return en.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return en.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return en.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return en.current.useReducer(t,e,n)};Re.useRef=function(t){return en.current.useRef(t)};Re.useState=function(t){return en.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return en.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return en.current.useTransition()};Re.version="18.3.1";Z0.exports=Re;var N=Z0.exports;const Il=vs(N),ek=X0({__proto__:null,default:Il},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tk=N,nk=Symbol.for("react.element"),rk=Symbol.for("react.fragment"),ik=Object.prototype.hasOwnProperty,sk=tk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ok={key:!0,ref:!0,__self:!0,__source:!0};function lw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ik.call(e,r)&&!ok.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nk,type:t,key:s,ref:o,props:i,_owner:sk.current}}od.Fragment=rk;od.jsx=lw;od.jsxs=lw;J0.exports=od;var A=J0.exports,of={},uw={exports:{}},vn={},cw={exports:{}},dw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,H){var W=L.length;L.push(H);e:for(;0<W;){var ae=W-1>>>1,ne=L[ae];if(0<i(ne,H))L[ae]=H,L[W]=ne,W=ae;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var H=L[0],W=L.pop();if(W!==H){L[0]=W;e:for(var ae=0,ne=L.length,de=ne>>>1;ae<de;){var ke=2*(ae+1)-1,J=L[ke],te=ke+1,ge=L[te];if(0>i(J,W))te<ne&&0>i(ge,J)?(L[ae]=ge,L[te]=W,ae=te):(L[ae]=J,L[ke]=W,ae=ke);else if(te<ne&&0>i(ge,W))L[ae]=ge,L[te]=W,ae=te;else break e}}return H}function i(L,H){var W=L.sortIndex-H.sortIndex;return W!==0?W:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,f=null,m=3,w=!1,k=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(L){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=L)r(c),H.sortIndex=H.expirationTime,e(u,H);else break;H=n(c)}}function O(L){if(E=!1,P(L),!k)if(n(u)!==null)k=!0,Q(V);else{var H=n(c);H!==null&&Z(O,H.startTime-L)}}function V(L,H){k=!1,E&&(E=!1,I(v),v=-1),w=!0;var W=m;try{for(P(H),f=n(u);f!==null&&(!(f.expirationTime>H)||L&&!R());){var ae=f.callback;if(typeof ae=="function"){f.callback=null,m=f.priorityLevel;var ne=ae(f.expirationTime<=H);H=t.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(u)&&r(u),P(H)}else r(u);f=n(u)}if(f!==null)var de=!0;else{var ke=n(c);ke!==null&&Z(O,ke.startTime-H),de=!1}return de}finally{f=null,m=W,w=!1}}var j=!1,g=null,v=-1,T=5,S=-1;function R(){return!(t.unstable_now()-S<T)}function x(){if(g!==null){var L=t.unstable_now();S=L;var H=!0;try{H=g(!0,L)}finally{H?C():(j=!1,g=null)}}else j=!1}var C;if(typeof y=="function")C=function(){y(x)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,B=G.port2;G.port1.onmessage=x,C=function(){B.postMessage(null)}}else C=function(){b(x,0)};function Q(L){g=L,j||(j=!0,C())}function Z(L,H){v=b(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){k||w||(k=!0,Q(V))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var W=m;m=H;try{return L()}finally{m=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=m;m=L;try{return H()}finally{m=W}},t.unstable_scheduleCallback=function(L,H,W){var ae=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,L){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=W+ne,L={id:d++,callback:H,priorityLevel:L,startTime:W,expirationTime:ne,sortIndex:-1},W>ae?(L.sortIndex=W,e(c,L),n(u)===null&&L===n(c)&&(E?(I(v),v=-1):E=!0,Z(O,W-ae))):(L.sortIndex=ne,e(u,L),k||w||(k=!0,Q(V))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var H=m;return function(){var W=m;m=H;try{return L.apply(this,arguments)}finally{m=W}}}})(dw);cw.exports=dw;var ak=cw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lk=N,gn=ak;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hw=new Set,za={};function ys(t,e){mo(t,e),mo(t+"Capture",e)}function mo(t,e){for(za[t]=e,t=0;t<e.length;t++)hw.add(e[t])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),af=Object.prototype.hasOwnProperty,uk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jv={},Uv={};function ck(t){return af.call(Uv,t)?!0:af.call(jv,t)?!1:uk.test(t)?Uv[t]=!0:(jv[t]=!0,!1)}function dk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hk(t,e,n,r){if(e===null||typeof e>"u"||dk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function tn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wp=/[\-:]([a-z])/g;function qp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wp,qp);Lt[e]=new tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wp,qp);Lt[e]=new tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wp,qp);Lt[e]=new tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new tn(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gp(t,e,n,r){var i=Lt.hasOwnProperty(e)?Lt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hk(e,n,i,r)&&(n=null),r||i===null?ck(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mr=lk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cu=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),js=Symbol.for("react.fragment"),Kp=Symbol.for("react.strict_mode"),lf=Symbol.for("react.profiler"),fw=Symbol.for("react.provider"),pw=Symbol.for("react.context"),Qp=Symbol.for("react.forward_ref"),uf=Symbol.for("react.suspense"),cf=Symbol.for("react.suspense_list"),Yp=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),mw=Symbol.for("react.offscreen"),$v=Symbol.iterator;function ra(t){return t===null||typeof t!="object"?null:(t=$v&&t[$v]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,ph;function ma(t){if(ph===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ph=e&&e[1]||""}return`
`+ph+t}var mh=!1;function gh(t,e){if(!t||mh)return"";mh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{mh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ma(t):""}function fk(t){switch(t.tag){case 5:return ma(t.type);case 16:return ma("Lazy");case 13:return ma("Suspense");case 19:return ma("SuspenseList");case 0:case 2:case 15:return t=gh(t.type,!1),t;case 11:return t=gh(t.type.render,!1),t;case 1:return t=gh(t.type,!0),t;default:return""}}function df(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case js:return"Fragment";case Fs:return"Portal";case lf:return"Profiler";case Kp:return"StrictMode";case uf:return"Suspense";case cf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pw:return(t.displayName||"Context")+".Consumer";case fw:return(t._context.displayName||"Context")+".Provider";case Qp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yp:return e=t.displayName||null,e!==null?e:df(t.type)||"Memo";case Xr:e=t._payload,t=t._init;try{return df(t(e))}catch{}}return null}function pk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return df(e);case 8:return e===Kp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ei(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mk(t){var e=gw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function du(t){t._valueTracker||(t._valueTracker=mk(t))}function vw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=gw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hf(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ei(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yw(t,e){e=e.checked,e!=null&&Gp(t,"checked",e,!1)}function ff(t,e){yw(t,e);var n=Ei(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pf(t,e.type,n):e.hasOwnProperty("defaultValue")&&pf(t,e.type,Ei(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pf(t,e,n){(e!=="number"||cc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ga=Array.isArray;function eo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ei(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(ga(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ei(n)}}function _w(t,e){var n=Ei(e.value),r=Ei(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Wv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ww(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ww(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hu,Ew=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hu=hu||document.createElement("div"),hu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ba(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gk=["Webkit","ms","Moz","O"];Object.keys(Sa).forEach(function(t){gk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sa[e]=Sa[t]})});function Tw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sa.hasOwnProperty(t)&&Sa[t]?(""+e).trim():e+"px"}function Iw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Tw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vk=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vf(t,e){if(e){if(vk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function yf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _f=null;function Xp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wf=null,to=null,no=null;function qv(t){if(t=Al(t)){if(typeof wf!="function")throw Error(K(280));var e=t.stateNode;e&&(e=dd(e),wf(t.stateNode,t.type,e))}}function Sw(t){to?no?no.push(t):no=[t]:to=t}function kw(){if(to){var t=to,e=no;if(no=to=null,qv(t),e)for(t=0;t<e.length;t++)qv(e[t])}}function Aw(t,e){return t(e)}function Pw(){}var vh=!1;function Cw(t,e,n){if(vh)return t(e,n);vh=!0;try{return Aw(t,e,n)}finally{vh=!1,(to!==null||no!==null)&&(Pw(),kw())}}function Ha(t,e){var n=t.stateNode;if(n===null)return null;var r=dd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Ef=!1;if(Ar)try{var ia={};Object.defineProperty(ia,"passive",{get:function(){Ef=!0}}),window.addEventListener("test",ia,ia),window.removeEventListener("test",ia,ia)}catch{Ef=!1}function yk(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ka=!1,dc=null,hc=!1,Tf=null,_k={onError:function(t){ka=!0,dc=t}};function wk(t,e,n,r,i,s,o,l,u){ka=!1,dc=null,yk.apply(_k,arguments)}function Ek(t,e,n,r,i,s,o,l,u){if(wk.apply(this,arguments),ka){if(ka){var c=dc;ka=!1,dc=null}else throw Error(K(198));hc||(hc=!0,Tf=c)}}function _s(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Rw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gv(t){if(_s(t)!==t)throw Error(K(188))}function Tk(t){var e=t.alternate;if(!e){if(e=_s(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Gv(i),t;if(s===r)return Gv(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function bw(t){return t=Tk(t),t!==null?xw(t):null}function xw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xw(t);if(e!==null)return e;t=t.sibling}return null}var Nw=gn.unstable_scheduleCallback,Kv=gn.unstable_cancelCallback,Ik=gn.unstable_shouldYield,Sk=gn.unstable_requestPaint,ct=gn.unstable_now,kk=gn.unstable_getCurrentPriorityLevel,Jp=gn.unstable_ImmediatePriority,Dw=gn.unstable_UserBlockingPriority,fc=gn.unstable_NormalPriority,Ak=gn.unstable_LowPriority,Ow=gn.unstable_IdlePriority,ad=null,Xn=null;function Pk(t){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(ad,t,void 0,(t.current.flags&128)===128)}catch{}}var jn=Math.clz32?Math.clz32:bk,Ck=Math.log,Rk=Math.LN2;function bk(t){return t>>>=0,t===0?32:31-(Ck(t)/Rk|0)|0}var fu=64,pu=4194304;function va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=va(l):(s&=o,s!==0&&(r=va(s)))}else o=n&~i,o!==0?r=va(o):s!==0&&(r=va(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jn(e),i=1<<n,r|=t[n],e&=~i;return r}function xk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-jn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=xk(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function If(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lw(){var t=fu;return fu<<=1,!(fu&4194240)&&(fu=64),t}function yh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jn(e),t[e]=n}function Dk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-jn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Zp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ve=0;function Mw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vw,em,Fw,jw,Uw,Sf=!1,mu=[],li=null,ui=null,ci=null,Wa=new Map,qa=new Map,Zr=[],Ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qv(t,e){switch(t){case"focusin":case"focusout":li=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":Wa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qa.delete(e.pointerId)}}function sa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Al(e),e!==null&&em(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Lk(t,e,n,r,i){switch(e){case"focusin":return li=sa(li,t,e,n,r,i),!0;case"dragenter":return ui=sa(ui,t,e,n,r,i),!0;case"mouseover":return ci=sa(ci,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Wa.set(s,sa(Wa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,qa.set(s,sa(qa.get(s)||null,t,e,n,r,i)),!0}return!1}function $w(t){var e=Wi(t.target);if(e!==null){var n=_s(e);if(n!==null){if(e=n.tag,e===13){if(e=Rw(n),e!==null){t.blockedOn=e,Uw(t.priority,function(){Fw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_f=r,n.target.dispatchEvent(r),_f=null}else return e=Al(n),e!==null&&em(e),t.blockedOn=n,!1;e.shift()}return!0}function Yv(t,e,n){zu(t)&&n.delete(e)}function Mk(){Sf=!1,li!==null&&zu(li)&&(li=null),ui!==null&&zu(ui)&&(ui=null),ci!==null&&zu(ci)&&(ci=null),Wa.forEach(Yv),qa.forEach(Yv)}function oa(t,e){t.blockedOn===e&&(t.blockedOn=null,Sf||(Sf=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,Mk)))}function Ga(t){function e(i){return oa(i,t)}if(0<mu.length){oa(mu[0],t);for(var n=1;n<mu.length;n++){var r=mu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(li!==null&&oa(li,t),ui!==null&&oa(ui,t),ci!==null&&oa(ci,t),Wa.forEach(e),qa.forEach(e),n=0;n<Zr.length;n++)r=Zr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zr.length&&(n=Zr[0],n.blockedOn===null);)$w(n),n.blockedOn===null&&Zr.shift()}var ro=Mr.ReactCurrentBatchConfig,mc=!0;function Vk(t,e,n,r){var i=Ve,s=ro.transition;ro.transition=null;try{Ve=1,tm(t,e,n,r)}finally{Ve=i,ro.transition=s}}function Fk(t,e,n,r){var i=Ve,s=ro.transition;ro.transition=null;try{Ve=4,tm(t,e,n,r)}finally{Ve=i,ro.transition=s}}function tm(t,e,n,r){if(mc){var i=kf(t,e,n,r);if(i===null)Ch(t,e,r,gc,n),Qv(t,r);else if(Lk(i,t,e,n,r))r.stopPropagation();else if(Qv(t,r),e&4&&-1<Ok.indexOf(t)){for(;i!==null;){var s=Al(i);if(s!==null&&Vw(s),s=kf(t,e,n,r),s===null&&Ch(t,e,r,gc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ch(t,e,r,null,n)}}var gc=null;function kf(t,e,n,r){if(gc=null,t=Xp(r),t=Wi(t),t!==null)if(e=_s(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Rw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gc=t,null}function zw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kk()){case Jp:return 1;case Dw:return 4;case fc:case Ak:return 16;case Ow:return 536870912;default:return 16}default:return 16}}var ii=null,nm=null,Bu=null;function Bw(){if(Bu)return Bu;var t,e=nm,n=e.length,r,i="value"in ii?ii.value:ii.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Bu=i.slice(t,1<r?1-r:void 0)}function Hu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gu(){return!0}function Xv(){return!1}function yn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gu:Xv,this.isPropagationStopped=Xv,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=gu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=gu)},persist:function(){},isPersistent:gu}),e}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rm=yn(Lo),kl=it({},Lo,{view:0,detail:0}),jk=yn(kl),_h,wh,aa,ld=it({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:im,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==aa&&(aa&&t.type==="mousemove"?(_h=t.screenX-aa.screenX,wh=t.screenY-aa.screenY):wh=_h=0,aa=t),_h)},movementY:function(t){return"movementY"in t?t.movementY:wh}}),Jv=yn(ld),Uk=it({},ld,{dataTransfer:0}),$k=yn(Uk),zk=it({},kl,{relatedTarget:0}),Eh=yn(zk),Bk=it({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),Hk=yn(Bk),Wk=it({},Lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qk=yn(Wk),Gk=it({},Lo,{data:0}),Zv=yn(Gk),Kk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Yk[t])?!!e[t]:!1}function im(){return Xk}var Jk=it({},kl,{key:function(t){if(t.key){var e=Kk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:im,charCode:function(t){return t.type==="keypress"?Hu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zk=yn(Jk),eA=it({},ld,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ey=yn(eA),tA=it({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:im}),nA=yn(tA),rA=it({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),iA=yn(rA),sA=it({},ld,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oA=yn(sA),aA=[9,13,27,32],sm=Ar&&"CompositionEvent"in window,Aa=null;Ar&&"documentMode"in document&&(Aa=document.documentMode);var lA=Ar&&"TextEvent"in window&&!Aa,Hw=Ar&&(!sm||Aa&&8<Aa&&11>=Aa),ty=" ",ny=!1;function Ww(t,e){switch(t){case"keyup":return aA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function uA(t,e){switch(t){case"compositionend":return qw(e);case"keypress":return e.which!==32?null:(ny=!0,ty);case"textInput":return t=e.data,t===ty&&ny?null:t;default:return null}}function cA(t,e){if(Us)return t==="compositionend"||!sm&&Ww(t,e)?(t=Bw(),Bu=nm=ii=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hw&&e.locale!=="ko"?null:e.data;default:return null}}var dA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dA[t.type]:e==="textarea"}function Gw(t,e,n,r){Sw(r),e=vc(e,"onChange"),0<e.length&&(n=new rm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pa=null,Ka=null;function hA(t){i1(t,0)}function ud(t){var e=Bs(t);if(vw(e))return t}function fA(t,e){if(t==="change")return e}var Kw=!1;if(Ar){var Th;if(Ar){var Ih="oninput"in document;if(!Ih){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),Ih=typeof iy.oninput=="function"}Th=Ih}else Th=!1;Kw=Th&&(!document.documentMode||9<document.documentMode)}function sy(){Pa&&(Pa.detachEvent("onpropertychange",Qw),Ka=Pa=null)}function Qw(t){if(t.propertyName==="value"&&ud(Ka)){var e=[];Gw(e,Ka,t,Xp(t)),Cw(hA,e)}}function pA(t,e,n){t==="focusin"?(sy(),Pa=e,Ka=n,Pa.attachEvent("onpropertychange",Qw)):t==="focusout"&&sy()}function mA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ud(Ka)}function gA(t,e){if(t==="click")return ud(e)}function vA(t,e){if(t==="input"||t==="change")return ud(e)}function yA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bn=typeof Object.is=="function"?Object.is:yA;function Qa(t,e){if(Bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!af.call(e,i)||!Bn(t[i],e[i]))return!1}return!0}function oy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ay(t,e){var n=oy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=oy(n)}}function Yw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xw(){for(var t=window,e=cc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cc(t.document)}return e}function om(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _A(t){var e=Xw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yw(n.ownerDocument.documentElement,n)){if(r!==null&&om(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ay(n,s);var o=ay(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wA=Ar&&"documentMode"in document&&11>=document.documentMode,$s=null,Af=null,Ca=null,Pf=!1;function ly(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pf||$s==null||$s!==cc(r)||(r=$s,"selectionStart"in r&&om(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ca&&Qa(Ca,r)||(Ca=r,r=vc(Af,"onSelect"),0<r.length&&(e=new rm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$s)))}function vu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zs={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},Sh={},Jw={};Ar&&(Jw=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function cd(t){if(Sh[t])return Sh[t];if(!zs[t])return t;var e=zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jw)return Sh[t]=e[n];return t}var Zw=cd("animationend"),e1=cd("animationiteration"),t1=cd("animationstart"),n1=cd("transitionend"),r1=new Map,uy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(t,e){r1.set(t,e),ys(e,[t])}for(var kh=0;kh<uy.length;kh++){var Ah=uy[kh],EA=Ah.toLowerCase(),TA=Ah[0].toUpperCase()+Ah.slice(1);bi(EA,"on"+TA)}bi(Zw,"onAnimationEnd");bi(e1,"onAnimationIteration");bi(t1,"onAnimationStart");bi("dblclick","onDoubleClick");bi("focusin","onFocus");bi("focusout","onBlur");bi(n1,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ya));function cy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ek(r,e,void 0,t),t.currentTarget=null}function i1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;cy(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;cy(i,l,c),s=u}}}if(hc)throw t=Tf,hc=!1,Tf=null,t}function Ge(t,e){var n=e[Nf];n===void 0&&(n=e[Nf]=new Set);var r=t+"__bubble";n.has(r)||(s1(e,t,2,!1),n.add(r))}function Ph(t,e,n){var r=0;e&&(r|=4),s1(n,t,r,e)}var yu="_reactListening"+Math.random().toString(36).slice(2);function Ya(t){if(!t[yu]){t[yu]=!0,hw.forEach(function(n){n!=="selectionchange"&&(IA.has(n)||Ph(n,!1,t),Ph(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yu]||(e[yu]=!0,Ph("selectionchange",!1,e))}}function s1(t,e,n,r){switch(zw(e)){case 1:var i=Vk;break;case 4:i=Fk;break;default:i=tm}n=i.bind(null,e,n,t),i=void 0,!Ef||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ch(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Wi(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Cw(function(){var c=s,d=Xp(n),f=[];e:{var m=r1.get(t);if(m!==void 0){var w=rm,k=t;switch(t){case"keypress":if(Hu(n)===0)break e;case"keydown":case"keyup":w=Zk;break;case"focusin":k="focus",w=Eh;break;case"focusout":k="blur",w=Eh;break;case"beforeblur":case"afterblur":w=Eh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Jv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=$k;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=nA;break;case Zw:case e1:case t1:w=Hk;break;case n1:w=iA;break;case"scroll":w=jk;break;case"wheel":w=oA;break;case"copy":case"cut":case"paste":w=qk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=ey}var E=(e&4)!==0,b=!E&&t==="scroll",I=E?m!==null?m+"Capture":null:m;E=[];for(var y=c,P;y!==null;){P=y;var O=P.stateNode;if(P.tag===5&&O!==null&&(P=O,I!==null&&(O=Ha(y,I),O!=null&&E.push(Xa(y,O,P)))),b)break;y=y.return}0<E.length&&(m=new w(m,k,null,n,d),f.push({event:m,listeners:E}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==_f&&(k=n.relatedTarget||n.fromElement)&&(Wi(k)||k[Pr]))break e;if((w||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,w?(k=n.relatedTarget||n.toElement,w=c,k=k?Wi(k):null,k!==null&&(b=_s(k),k!==b||k.tag!==5&&k.tag!==6)&&(k=null)):(w=null,k=c),w!==k)){if(E=Jv,O="onMouseLeave",I="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(E=ey,O="onPointerLeave",I="onPointerEnter",y="pointer"),b=w==null?m:Bs(w),P=k==null?m:Bs(k),m=new E(O,y+"leave",w,n,d),m.target=b,m.relatedTarget=P,O=null,Wi(d)===c&&(E=new E(I,y+"enter",k,n,d),E.target=P,E.relatedTarget=b,O=E),b=O,w&&k)t:{for(E=w,I=k,y=0,P=E;P;P=Ds(P))y++;for(P=0,O=I;O;O=Ds(O))P++;for(;0<y-P;)E=Ds(E),y--;for(;0<P-y;)I=Ds(I),P--;for(;y--;){if(E===I||I!==null&&E===I.alternate)break t;E=Ds(E),I=Ds(I)}E=null}else E=null;w!==null&&dy(f,m,w,E,!1),k!==null&&b!==null&&dy(f,b,k,E,!0)}}e:{if(m=c?Bs(c):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var V=fA;else if(ry(m))if(Kw)V=vA;else{V=mA;var j=pA}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=gA);if(V&&(V=V(t,c))){Gw(f,V,n,d);break e}j&&j(t,m,c),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&pf(m,"number",m.value)}switch(j=c?Bs(c):window,t){case"focusin":(ry(j)||j.contentEditable==="true")&&($s=j,Af=c,Ca=null);break;case"focusout":Ca=Af=$s=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,ly(f,n,d);break;case"selectionchange":if(wA)break;case"keydown":case"keyup":ly(f,n,d)}var g;if(sm)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Us?Ww(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Hw&&n.locale!=="ko"&&(Us||v!=="onCompositionStart"?v==="onCompositionEnd"&&Us&&(g=Bw()):(ii=d,nm="value"in ii?ii.value:ii.textContent,Us=!0)),j=vc(c,v),0<j.length&&(v=new Zv(v,t,null,n,d),f.push({event:v,listeners:j}),g?v.data=g:(g=qw(n),g!==null&&(v.data=g)))),(g=lA?uA(t,n):cA(t,n))&&(c=vc(c,"onBeforeInput"),0<c.length&&(d=new Zv("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=g))}i1(f,e)})}function Xa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ha(t,n),s!=null&&r.unshift(Xa(t,s,i)),s=Ha(t,e),s!=null&&r.push(Xa(t,s,i))),t=t.return}return r}function Ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dy(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=Ha(n,s),u!=null&&o.unshift(Xa(n,u,l))):i||(u=Ha(n,s),u!=null&&o.push(Xa(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var SA=/\r\n?/g,kA=/\u0000|\uFFFD/g;function hy(t){return(typeof t=="string"?t:""+t).replace(SA,`
`).replace(kA,"")}function _u(t,e,n){if(e=hy(e),hy(t)!==e&&n)throw Error(K(425))}function yc(){}var Cf=null,Rf=null;function bf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xf=typeof setTimeout=="function"?setTimeout:void 0,AA=typeof clearTimeout=="function"?clearTimeout:void 0,fy=typeof Promise=="function"?Promise:void 0,PA=typeof queueMicrotask=="function"?queueMicrotask:typeof fy<"u"?function(t){return fy.resolve(null).then(t).catch(CA)}:xf;function CA(t){setTimeout(function(){throw t})}function Rh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ga(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ga(e)}function di(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function py(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Mo,Ja="__reactProps$"+Mo,Pr="__reactContainer$"+Mo,Nf="__reactEvents$"+Mo,RA="__reactListeners$"+Mo,bA="__reactHandles$"+Mo;function Wi(t){var e=t[Qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pr]||n[Qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=py(t);t!==null;){if(n=t[Qn])return n;t=py(t)}return e}t=n,n=t.parentNode}return null}function Al(t){return t=t[Qn]||t[Pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function dd(t){return t[Ja]||null}var Df=[],Hs=-1;function xi(t){return{current:t}}function Qe(t){0>Hs||(t.current=Df[Hs],Df[Hs]=null,Hs--)}function ze(t,e){Hs++,Df[Hs]=t.current,t.current=e}var Ti={},Gt=xi(Ti),on=xi(!1),is=Ti;function go(t,e){var n=t.type.contextTypes;if(!n)return Ti;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function an(t){return t=t.childContextTypes,t!=null}function _c(){Qe(on),Qe(Gt)}function my(t,e,n){if(Gt.current!==Ti)throw Error(K(168));ze(Gt,e),ze(on,n)}function o1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,pk(t)||"Unknown",i));return it({},n,r)}function wc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ti,is=Gt.current,ze(Gt,t),ze(on,on.current),!0}function gy(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=o1(t,e,is),r.__reactInternalMemoizedMergedChildContext=t,Qe(on),Qe(Gt),ze(Gt,t)):Qe(on),ze(on,n)}var pr=null,hd=!1,bh=!1;function a1(t){pr===null?pr=[t]:pr.push(t)}function xA(t){hd=!0,a1(t)}function Ni(){if(!bh&&pr!==null){bh=!0;var t=0,e=Ve;try{var n=pr;for(Ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pr=null,hd=!1}catch(i){throw pr!==null&&(pr=pr.slice(t+1)),Nw(Jp,Ni),i}finally{Ve=e,bh=!1}}return null}var Ws=[],qs=0,Ec=null,Tc=0,Tn=[],In=0,ss=null,vr=1,yr="";function zi(t,e){Ws[qs++]=Tc,Ws[qs++]=Ec,Ec=t,Tc=e}function l1(t,e,n){Tn[In++]=vr,Tn[In++]=yr,Tn[In++]=ss,ss=t;var r=vr;t=yr;var i=32-jn(r)-1;r&=~(1<<i),n+=1;var s=32-jn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,vr=1<<32-jn(e)+i|n<<i|r,yr=s+t}else vr=1<<s|n<<i|r,yr=t}function am(t){t.return!==null&&(zi(t,1),l1(t,1,0))}function lm(t){for(;t===Ec;)Ec=Ws[--qs],Ws[qs]=null,Tc=Ws[--qs],Ws[qs]=null;for(;t===ss;)ss=Tn[--In],Tn[In]=null,yr=Tn[--In],Tn[In]=null,vr=Tn[--In],Tn[In]=null}var mn=null,hn=null,Ze=!1,Vn=null;function u1(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,hn=di(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ss!==null?{id:vr,overflow:yr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mn=t,hn=null,!0):!1;default:return!1}}function Of(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lf(t){if(Ze){var e=hn;if(e){var n=e;if(!vy(t,e)){if(Of(t))throw Error(K(418));e=di(n.nextSibling);var r=mn;e&&vy(t,e)?u1(r,n):(t.flags=t.flags&-4097|2,Ze=!1,mn=t)}}else{if(Of(t))throw Error(K(418));t.flags=t.flags&-4097|2,Ze=!1,mn=t}}}function yy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function wu(t){if(t!==mn)return!1;if(!Ze)return yy(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bf(t.type,t.memoizedProps)),e&&(e=hn)){if(Of(t))throw c1(),Error(K(418));for(;e;)u1(t,e),e=di(e.nextSibling)}if(yy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=di(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=mn?di(t.stateNode.nextSibling):null;return!0}function c1(){for(var t=hn;t;)t=di(t.nextSibling)}function vo(){hn=mn=null,Ze=!1}function um(t){Vn===null?Vn=[t]:Vn.push(t)}var NA=Mr.ReactCurrentBatchConfig;function la(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Eu(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _y(t){var e=t._init;return e(t._payload)}function d1(t){function e(I,y){if(t){var P=I.deletions;P===null?(I.deletions=[y],I.flags|=16):P.push(y)}}function n(I,y){if(!t)return null;for(;y!==null;)e(I,y),y=y.sibling;return null}function r(I,y){for(I=new Map;y!==null;)y.key!==null?I.set(y.key,y):I.set(y.index,y),y=y.sibling;return I}function i(I,y){return I=mi(I,y),I.index=0,I.sibling=null,I}function s(I,y,P){return I.index=P,t?(P=I.alternate,P!==null?(P=P.index,P<y?(I.flags|=2,y):P):(I.flags|=2,y)):(I.flags|=1048576,y)}function o(I){return t&&I.alternate===null&&(I.flags|=2),I}function l(I,y,P,O){return y===null||y.tag!==6?(y=Vh(P,I.mode,O),y.return=I,y):(y=i(y,P),y.return=I,y)}function u(I,y,P,O){var V=P.type;return V===js?d(I,y,P.props.children,O,P.key):y!==null&&(y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Xr&&_y(V)===y.type)?(O=i(y,P.props),O.ref=la(I,y,P),O.return=I,O):(O=Xu(P.type,P.key,P.props,null,I.mode,O),O.ref=la(I,y,P),O.return=I,O)}function c(I,y,P,O){return y===null||y.tag!==4||y.stateNode.containerInfo!==P.containerInfo||y.stateNode.implementation!==P.implementation?(y=Fh(P,I.mode,O),y.return=I,y):(y=i(y,P.children||[]),y.return=I,y)}function d(I,y,P,O,V){return y===null||y.tag!==7?(y=ts(P,I.mode,O,V),y.return=I,y):(y=i(y,P),y.return=I,y)}function f(I,y,P){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Vh(""+y,I.mode,P),y.return=I,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case cu:return P=Xu(y.type,y.key,y.props,null,I.mode,P),P.ref=la(I,null,y),P.return=I,P;case Fs:return y=Fh(y,I.mode,P),y.return=I,y;case Xr:var O=y._init;return f(I,O(y._payload),P)}if(ga(y)||ra(y))return y=ts(y,I.mode,P,null),y.return=I,y;Eu(I,y)}return null}function m(I,y,P,O){var V=y!==null?y.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return V!==null?null:l(I,y,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case cu:return P.key===V?u(I,y,P,O):null;case Fs:return P.key===V?c(I,y,P,O):null;case Xr:return V=P._init,m(I,y,V(P._payload),O)}if(ga(P)||ra(P))return V!==null?null:d(I,y,P,O,null);Eu(I,P)}return null}function w(I,y,P,O,V){if(typeof O=="string"&&O!==""||typeof O=="number")return I=I.get(P)||null,l(y,I,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case cu:return I=I.get(O.key===null?P:O.key)||null,u(y,I,O,V);case Fs:return I=I.get(O.key===null?P:O.key)||null,c(y,I,O,V);case Xr:var j=O._init;return w(I,y,P,j(O._payload),V)}if(ga(O)||ra(O))return I=I.get(P)||null,d(y,I,O,V,null);Eu(y,O)}return null}function k(I,y,P,O){for(var V=null,j=null,g=y,v=y=0,T=null;g!==null&&v<P.length;v++){g.index>v?(T=g,g=null):T=g.sibling;var S=m(I,g,P[v],O);if(S===null){g===null&&(g=T);break}t&&g&&S.alternate===null&&e(I,g),y=s(S,y,v),j===null?V=S:j.sibling=S,j=S,g=T}if(v===P.length)return n(I,g),Ze&&zi(I,v),V;if(g===null){for(;v<P.length;v++)g=f(I,P[v],O),g!==null&&(y=s(g,y,v),j===null?V=g:j.sibling=g,j=g);return Ze&&zi(I,v),V}for(g=r(I,g);v<P.length;v++)T=w(g,I,v,P[v],O),T!==null&&(t&&T.alternate!==null&&g.delete(T.key===null?v:T.key),y=s(T,y,v),j===null?V=T:j.sibling=T,j=T);return t&&g.forEach(function(R){return e(I,R)}),Ze&&zi(I,v),V}function E(I,y,P,O){var V=ra(P);if(typeof V!="function")throw Error(K(150));if(P=V.call(P),P==null)throw Error(K(151));for(var j=V=null,g=y,v=y=0,T=null,S=P.next();g!==null&&!S.done;v++,S=P.next()){g.index>v?(T=g,g=null):T=g.sibling;var R=m(I,g,S.value,O);if(R===null){g===null&&(g=T);break}t&&g&&R.alternate===null&&e(I,g),y=s(R,y,v),j===null?V=R:j.sibling=R,j=R,g=T}if(S.done)return n(I,g),Ze&&zi(I,v),V;if(g===null){for(;!S.done;v++,S=P.next())S=f(I,S.value,O),S!==null&&(y=s(S,y,v),j===null?V=S:j.sibling=S,j=S);return Ze&&zi(I,v),V}for(g=r(I,g);!S.done;v++,S=P.next())S=w(g,I,v,S.value,O),S!==null&&(t&&S.alternate!==null&&g.delete(S.key===null?v:S.key),y=s(S,y,v),j===null?V=S:j.sibling=S,j=S);return t&&g.forEach(function(x){return e(I,x)}),Ze&&zi(I,v),V}function b(I,y,P,O){if(typeof P=="object"&&P!==null&&P.type===js&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case cu:e:{for(var V=P.key,j=y;j!==null;){if(j.key===V){if(V=P.type,V===js){if(j.tag===7){n(I,j.sibling),y=i(j,P.props.children),y.return=I,I=y;break e}}else if(j.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Xr&&_y(V)===j.type){n(I,j.sibling),y=i(j,P.props),y.ref=la(I,j,P),y.return=I,I=y;break e}n(I,j);break}else e(I,j);j=j.sibling}P.type===js?(y=ts(P.props.children,I.mode,O,P.key),y.return=I,I=y):(O=Xu(P.type,P.key,P.props,null,I.mode,O),O.ref=la(I,y,P),O.return=I,I=O)}return o(I);case Fs:e:{for(j=P.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===P.containerInfo&&y.stateNode.implementation===P.implementation){n(I,y.sibling),y=i(y,P.children||[]),y.return=I,I=y;break e}else{n(I,y);break}else e(I,y);y=y.sibling}y=Fh(P,I.mode,O),y.return=I,I=y}return o(I);case Xr:return j=P._init,b(I,y,j(P._payload),O)}if(ga(P))return k(I,y,P,O);if(ra(P))return E(I,y,P,O);Eu(I,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,y!==null&&y.tag===6?(n(I,y.sibling),y=i(y,P),y.return=I,I=y):(n(I,y),y=Vh(P,I.mode,O),y.return=I,I=y),o(I)):n(I,y)}return b}var yo=d1(!0),h1=d1(!1),Ic=xi(null),Sc=null,Gs=null,cm=null;function dm(){cm=Gs=Sc=null}function hm(t){var e=Ic.current;Qe(Ic),t._currentValue=e}function Mf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function io(t,e){Sc=t,cm=Gs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(sn=!0),t.firstContext=null)}function Cn(t){var e=t._currentValue;if(cm!==t)if(t={context:t,memoizedValue:e,next:null},Gs===null){if(Sc===null)throw Error(K(308));Gs=t,Sc.dependencies={lanes:0,firstContext:t}}else Gs=Gs.next=t;return e}var qi=null;function fm(t){qi===null?qi=[t]:qi.push(t)}function f1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Cr(t,r)}function Cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Jr=!1;function pm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Cr(t,n)}return i=r.interleaved,i===null?(e.next=e,fm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Cr(t,n)}function Wu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zp(t,n)}}function wy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kc(t,e,n,r){var i=t.updateQueue;Jr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var f=i.baseState;o=0,d=c=u=null,l=s;do{var m=l.lane,w=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=t,E=l;switch(m=e,w=n,E.tag){case 1:if(k=E.payload,typeof k=="function"){f=k.call(w,f,m);break e}f=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=E.payload,m=typeof k=="function"?k.call(w,f,m):k,m==null)break e;f=it({},f,m);break e;case 2:Jr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else w={eventTime:w,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=w,u=f):d=d.next=w,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);as|=o,t.lanes=o,t.memoizedState=f}}function Ey(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var Pl={},Jn=xi(Pl),Za=xi(Pl),el=xi(Pl);function Gi(t){if(t===Pl)throw Error(K(174));return t}function mm(t,e){switch(ze(el,e),ze(Za,t),ze(Jn,Pl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gf(e,t)}Qe(Jn),ze(Jn,e)}function _o(){Qe(Jn),Qe(Za),Qe(el)}function m1(t){Gi(el.current);var e=Gi(Jn.current),n=gf(e,t.type);e!==n&&(ze(Za,t),ze(Jn,n))}function gm(t){Za.current===t&&(Qe(Jn),Qe(Za))}var nt=xi(0);function Ac(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xh=[];function vm(){for(var t=0;t<xh.length;t++)xh[t]._workInProgressVersionPrimary=null;xh.length=0}var qu=Mr.ReactCurrentDispatcher,Nh=Mr.ReactCurrentBatchConfig,os=0,rt=null,yt=null,It=null,Pc=!1,Ra=!1,tl=0,DA=0;function Ut(){throw Error(K(321))}function ym(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bn(t[n],e[n]))return!1;return!0}function _m(t,e,n,r,i,s){if(os=s,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qu.current=t===null||t.memoizedState===null?VA:FA,t=n(r,i),Ra){s=0;do{if(Ra=!1,tl=0,25<=s)throw Error(K(301));s+=1,It=yt=null,e.updateQueue=null,qu.current=jA,t=n(r,i)}while(Ra)}if(qu.current=Cc,e=yt!==null&&yt.next!==null,os=0,It=yt=rt=null,Pc=!1,e)throw Error(K(300));return t}function wm(){var t=tl!==0;return tl=0,t}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?rt.memoizedState=It=t:It=It.next=t,It}function Rn(){if(yt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=It===null?rt.memoizedState:It.next;if(e!==null)It=e,yt=t;else{if(t===null)throw Error(K(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},It===null?rt.memoizedState=It=t:It=It.next=t}return It}function nl(t,e){return typeof e=="function"?e(t):e}function Dh(t){var e=Rn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((os&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,rt.lanes|=d,as|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,Bn(r,e.memoizedState)||(sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,rt.lanes|=s,as|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Oh(t){var e=Rn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Bn(s,e.memoizedState)||(sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function g1(){}function v1(t,e){var n=rt,r=Rn(),i=e(),s=!Bn(r.memoizedState,i);if(s&&(r.memoizedState=i,sn=!0),r=r.queue,Em(w1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,rl(9,_1.bind(null,n,r,i,e),void 0,null),St===null)throw Error(K(349));os&30||y1(n,e,i)}return i}function y1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _1(t,e,n,r){e.value=n,e.getSnapshot=r,E1(e)&&T1(t)}function w1(t,e,n){return n(function(){E1(e)&&T1(t)})}function E1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bn(t,n)}catch{return!0}}function T1(t){var e=Cr(t,1);e!==null&&Un(e,t,1,-1)}function Ty(t){var e=Gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:t},e.queue=t,t=t.dispatch=MA.bind(null,rt,t),[e.memoizedState,t]}function rl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function I1(){return Rn().memoizedState}function Gu(t,e,n,r){var i=Gn();rt.flags|=t,i.memoizedState=rl(1|e,n,void 0,r===void 0?null:r)}function fd(t,e,n,r){var i=Rn();r=r===void 0?null:r;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,r!==null&&ym(r,o.deps)){i.memoizedState=rl(e,n,s,r);return}}rt.flags|=t,i.memoizedState=rl(1|e,n,s,r)}function Iy(t,e){return Gu(8390656,8,t,e)}function Em(t,e){return fd(2048,8,t,e)}function S1(t,e){return fd(4,2,t,e)}function k1(t,e){return fd(4,4,t,e)}function A1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function P1(t,e,n){return n=n!=null?n.concat([t]):null,fd(4,4,A1.bind(null,e,t),n)}function Tm(){}function C1(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ym(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function R1(t,e){var n=Rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ym(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function b1(t,e,n){return os&21?(Bn(n,e)||(n=Lw(),rt.lanes|=n,as|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,sn=!0),t.memoizedState=n)}function OA(t,e){var n=Ve;Ve=n!==0&&4>n?n:4,t(!0);var r=Nh.transition;Nh.transition={};try{t(!1),e()}finally{Ve=n,Nh.transition=r}}function x1(){return Rn().memoizedState}function LA(t,e,n){var r=pi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},N1(t))D1(e,n);else if(n=f1(t,e,n,r),n!==null){var i=Jt();Un(n,t,r,i),O1(n,e,r)}}function MA(t,e,n){var r=pi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(N1(t))D1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Bn(l,o)){var u=e.interleaved;u===null?(i.next=i,fm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=f1(t,e,i,r),n!==null&&(i=Jt(),Un(n,t,r,i),O1(n,e,r))}}function N1(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function D1(t,e){Ra=Pc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function O1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zp(t,n)}}var Cc={readContext:Cn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},VA={readContext:Cn,useCallback:function(t,e){return Gn().memoizedState=[t,e===void 0?null:e],t},useContext:Cn,useEffect:Iy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gu(4194308,4,A1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gu(4,2,t,e)},useMemo:function(t,e){var n=Gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=LA.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=Gn();return t={current:t},e.memoizedState=t},useState:Ty,useDebugValue:Tm,useDeferredValue:function(t){return Gn().memoizedState=t},useTransition:function(){var t=Ty(!1),e=t[0];return t=OA.bind(null,t[1]),Gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,i=Gn();if(Ze){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),St===null)throw Error(K(349));os&30||y1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Iy(w1.bind(null,r,s,t),[t]),r.flags|=2048,rl(9,_1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Gn(),e=St.identifierPrefix;if(Ze){var n=yr,r=vr;n=(r&~(1<<32-jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=DA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FA={readContext:Cn,useCallback:C1,useContext:Cn,useEffect:Em,useImperativeHandle:P1,useInsertionEffect:S1,useLayoutEffect:k1,useMemo:R1,useReducer:Dh,useRef:I1,useState:function(){return Dh(nl)},useDebugValue:Tm,useDeferredValue:function(t){var e=Rn();return b1(e,yt.memoizedState,t)},useTransition:function(){var t=Dh(nl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:g1,useSyncExternalStore:v1,useId:x1,unstable_isNewReconciler:!1},jA={readContext:Cn,useCallback:C1,useContext:Cn,useEffect:Em,useImperativeHandle:P1,useInsertionEffect:S1,useLayoutEffect:k1,useMemo:R1,useReducer:Oh,useRef:I1,useState:function(){return Oh(nl)},useDebugValue:Tm,useDeferredValue:function(t){var e=Rn();return yt===null?e.memoizedState=t:b1(e,yt.memoizedState,t)},useTransition:function(){var t=Oh(nl)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:g1,useSyncExternalStore:v1,useId:x1,unstable_isNewReconciler:!1};function On(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var pd={isMounted:function(t){return(t=t._reactInternals)?_s(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),i=pi(t),s=Sr(r,i);s.payload=e,n!=null&&(s.callback=n),e=hi(t,s,i),e!==null&&(Un(e,t,i,r),Wu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),i=pi(t),s=Sr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=hi(t,s,i),e!==null&&(Un(e,t,i,r),Wu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=pi(t),i=Sr(n,r);i.tag=2,e!=null&&(i.callback=e),e=hi(t,i,r),e!==null&&(Un(e,t,r,n),Wu(e,t,r))}};function Sy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Qa(n,r)||!Qa(i,s):!0}function L1(t,e,n){var r=!1,i=Ti,s=e.contextType;return typeof s=="object"&&s!==null?s=Cn(s):(i=an(e)?is:Gt.current,r=e.contextTypes,s=(r=r!=null)?go(t,i):Ti),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ky(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&pd.enqueueReplaceState(e,e.state,null)}function Ff(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},pm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Cn(s):(s=an(e)?is:Gt.current,i.context=go(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Vf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&pd.enqueueReplaceState(i,i.state,null),kc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wo(t,e){try{var n="",r=e;do n+=fk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Lh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UA=typeof WeakMap=="function"?WeakMap:Map;function M1(t,e,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){bc||(bc=!0,Qf=r),jf(t,e)},n}function V1(t,e,n){n=Sr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jf(t,e),typeof r!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ay(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=eP.bind(null,t,e,n),e.then(t,t))}function Py(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sr(-1,1),e.tag=2,hi(n,e,1))),n.lanes|=1),t)}var $A=Mr.ReactCurrentOwner,sn=!1;function Xt(t,e,n,r){e.child=t===null?h1(e,null,n,r):yo(e,t.child,n,r)}function Ry(t,e,n,r,i){n=n.render;var s=e.ref;return io(e,i),r=_m(t,e,n,r,s,i),n=wm(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(Ze&&n&&am(e),e.flags|=1,Xt(t,e,r,i),e.child)}function by(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!bm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,F1(t,e,s,r,i)):(t=Xu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Qa,n(o,r)&&t.ref===e.ref)return Rr(t,e,i)}return e.flags|=1,t=mi(s,r),t.ref=e.ref,t.return=e,e.child=t}function F1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Qa(s,r)&&t.ref===e.ref)if(sn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(sn=!0);else return e.lanes=t.lanes,Rr(t,e,i)}return Uf(t,e,n,r,i)}function j1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Qs,dn),dn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(Qs,dn),dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ze(Qs,dn),dn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ze(Qs,dn),dn|=r;return Xt(t,e,i,n),e.child}function U1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uf(t,e,n,r,i){var s=an(n)?is:Gt.current;return s=go(e,s),io(e,i),n=_m(t,e,n,r,s,i),r=wm(),t!==null&&!sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rr(t,e,i)):(Ze&&r&&am(e),e.flags|=1,Xt(t,e,n,i),e.child)}function xy(t,e,n,r,i){if(an(n)){var s=!0;wc(e)}else s=!1;if(io(e,i),e.stateNode===null)Ku(t,e),L1(e,n,r),Ff(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Cn(c):(c=an(n)?is:Gt.current,c=go(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&ky(e,o,r,c),Jr=!1;var m=e.memoizedState;o.state=m,kc(e,r,o,i),u=e.memoizedState,l!==r||m!==u||on.current||Jr?(typeof d=="function"&&(Vf(e,n,d,r),u=e.memoizedState),(l=Jr||Sy(e,n,l,r,m,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,p1(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:On(e.type,l),o.props=c,f=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Cn(u):(u=an(n)?is:Gt.current,u=go(e,u));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==u)&&ky(e,o,r,u),Jr=!1,m=e.memoizedState,o.state=m,kc(e,r,o,i);var k=e.memoizedState;l!==f||m!==k||on.current||Jr?(typeof w=="function"&&(Vf(e,n,w,r),k=e.memoizedState),(c=Jr||Sy(e,n,c,r,m,k,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return $f(t,e,n,r,s,i)}function $f(t,e,n,r,i,s){U1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&gy(e,n,!1),Rr(t,e,s);r=e.stateNode,$A.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=yo(e,t.child,null,s),e.child=yo(e,null,l,s)):Xt(t,e,l,s),e.memoizedState=r.state,i&&gy(e,n,!0),e.child}function $1(t){var e=t.stateNode;e.pendingContext?my(t,e.pendingContext,e.pendingContext!==e.context):e.context&&my(t,e.context,!1),mm(t,e.containerInfo)}function Ny(t,e,n,r,i){return vo(),um(i),e.flags|=256,Xt(t,e,n,r),e.child}var zf={dehydrated:null,treeContext:null,retryLane:0};function Bf(t){return{baseLanes:t,cachePool:null,transitions:null}}function z1(t,e,n){var r=e.pendingProps,i=nt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ze(nt,i&1),t===null)return Lf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=vd(o,r,0,null),t=ts(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Bf(n),e.memoizedState=zf,t):Im(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return zA(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=mi(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=mi(l,s):(s=ts(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Bf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=zf,r}return s=t.child,t=s.sibling,r=mi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Im(t,e){return e=vd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tu(t,e,n,r){return r!==null&&um(r),yo(e,t.child,null,n),t=Im(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Lh(Error(K(422))),Tu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=vd({mode:"visible",children:r.children},i,0,null),s=ts(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&yo(e,t.child,null,o),e.child.memoizedState=Bf(o),e.memoizedState=zf,s);if(!(e.mode&1))return Tu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(K(419)),r=Lh(s,r,void 0),Tu(t,e,o,r)}if(l=(o&t.childLanes)!==0,sn||l){if(r=St,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Cr(t,i),Un(r,t,i,-1))}return Rm(),r=Lh(Error(K(421))),Tu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hn=di(i.nextSibling),mn=e,Ze=!0,Vn=null,t!==null&&(Tn[In++]=vr,Tn[In++]=yr,Tn[In++]=ss,vr=t.id,yr=t.overflow,ss=e),e=Im(e,r.children),e.flags|=4096,e)}function Dy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Mf(t.return,e,n)}function Mh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function B1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xt(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dy(t,n,e);else if(t.tag===19)Dy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(nt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ac(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ac(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mh(e,!0,n,null,s);break;case"together":Mh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ku(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),as|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=mi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BA(t,e,n){switch(e.tag){case 3:$1(e),vo();break;case 5:m1(e);break;case 1:an(e.type)&&wc(e);break;case 4:mm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ze(Ic,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?z1(t,e,n):(ze(nt,nt.current&1),t=Rr(t,e,n),t!==null?t.sibling:null);ze(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return B1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,j1(t,e,n)}return Rr(t,e,n)}var H1,Hf,W1,q1;H1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hf=function(){};W1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Gi(Jn.current);var s=null;switch(n){case"input":i=hf(t,i),r=hf(t,r),s=[];break;case"select":i=it({},i,{value:void 0}),r=it({},r,{value:void 0}),s=[];break;case"textarea":i=mf(t,i),r=mf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yc)}vf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(za.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(za.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ge("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};q1=function(t,e,n,r){n!==r&&(e.flags|=4)};function ua(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HA(t,e,n){var r=e.pendingProps;switch(lm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return an(e.type)&&_c(),$t(e),null;case 3:return r=e.stateNode,_o(),Qe(on),Qe(Gt),vm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(Jf(Vn),Vn=null))),Hf(t,e),$t(e),null;case 5:gm(e);var i=Gi(el.current);if(n=e.type,t!==null&&e.stateNode!=null)W1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return $t(e),null}if(t=Gi(Jn.current),wu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qn]=e,r[Ja]=s,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<ya.length;i++)Ge(ya[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":zv(r,s),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ge("invalid",r);break;case"textarea":Hv(r,s),Ge("invalid",r)}vf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&_u(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&_u(r.textContent,l,t),i=["children",""+l]):za.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":du(r),Bv(r,s,!0);break;case"textarea":du(r),Wv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ww(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qn]=e,t[Ja]=r,H1(t,e,!1,!1),e.stateNode=t;e:{switch(o=yf(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),i=r;break;case"iframe":case"object":case"embed":Ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<ya.length;i++)Ge(ya[i],t);i=r;break;case"source":Ge("error",t),i=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=r;break;case"details":Ge("toggle",t),i=r;break;case"input":zv(t,r),i=hf(t,r),Ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=it({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":Hv(t,r),i=mf(t,r),Ge("invalid",t);break;default:i=r}vf(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Iw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ew(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ba(t,u):typeof u=="number"&&Ba(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(za.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ge("scroll",t):u!=null&&Gp(t,s,u,o))}switch(n){case"input":du(t),Bv(t,r,!1);break;case"textarea":du(t),Wv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ei(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?eo(t,!!r.multiple,s,!1):r.defaultValue!=null&&eo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)q1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=Gi(el.current),Gi(Jn.current),wu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qn]=e,(s=r.nodeValue!==n)&&(t=mn,t!==null))switch(t.tag){case 3:_u(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_u(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qn]=e,e.stateNode=r}return $t(e),null;case 13:if(Qe(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&hn!==null&&e.mode&1&&!(e.flags&128))c1(),vo(),e.flags|=98560,s=!1;else if(s=wu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Qn]=e}else vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),s=!1}else Vn!==null&&(Jf(Vn),Vn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?_t===0&&(_t=3):Rm())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return _o(),Hf(t,e),t===null&&Ya(e.stateNode.containerInfo),$t(e),null;case 10:return hm(e.type._context),$t(e),null;case 17:return an(e.type)&&_c(),$t(e),null;case 19:if(Qe(nt),s=e.memoizedState,s===null)return $t(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ua(s,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ac(t),o!==null){for(e.flags|=128,ua(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(nt,nt.current&1|2),e.child}t=t.sibling}s.tail!==null&&ct()>Eo&&(e.flags|=128,r=!0,ua(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ac(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ua(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ze)return $t(e),null}else 2*ct()-s.renderingStartTime>Eo&&n!==1073741824&&(e.flags|=128,r=!0,ua(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ct(),e.sibling=null,n=nt.current,ze(nt,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return Cm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?dn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function WA(t,e){switch(lm(e),e.tag){case 1:return an(e.type)&&_c(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _o(),Qe(on),Qe(Gt),vm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gm(e),null;case 13:if(Qe(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(nt),null;case 4:return _o(),null;case 10:return hm(e.type._context),null;case 22:case 23:return Cm(),null;case 24:return null;default:return null}}var Iu=!1,Ht=!1,qA=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ks(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function Wf(t,e,n){try{n()}catch(r){at(t,e,r)}}var Oy=!1;function GA(t,e){if(Cf=mc,t=Xw(),om(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var w;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(w=f.firstChild)!==null;)m=f,f=w;for(;;){if(f===t)break t;if(m===n&&++c===i&&(l=o),m===s&&++d===r&&(u=o),(w=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=w}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rf={focusedElem:t,selectionRange:n},mc=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var E=k.memoizedProps,b=k.memoizedState,I=e.stateNode,y=I.getSnapshotBeforeUpdate(e.elementType===e.type?E:On(e.type,E),b);I.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(O){at(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return k=Oy,Oy=!1,k}function ba(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Wf(e,n,s)}i=i.next}while(i!==r)}}function md(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function G1(t){var e=t.alternate;e!==null&&(t.alternate=null,G1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qn],delete e[Ja],delete e[Nf],delete e[RA],delete e[bA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function K1(t){return t.tag===5||t.tag===3||t.tag===4}function Ly(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||K1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yc));else if(r!==4&&(t=t.child,t!==null))for(Gf(t,e,n),t=t.sibling;t!==null;)Gf(t,e,n),t=t.sibling}function Kf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kf(t,e,n),t=t.sibling;t!==null;)Kf(t,e,n),t=t.sibling}var Rt=null,Ln=!1;function Gr(t,e,n){for(n=n.child;n!==null;)Q1(t,e,n),n=n.sibling}function Q1(t,e,n){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(ad,n)}catch{}switch(n.tag){case 5:Ht||Ks(n,e);case 6:var r=Rt,i=Ln;Rt=null,Gr(t,e,n),Rt=r,Ln=i,Rt!==null&&(Ln?(t=Rt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rt.removeChild(n.stateNode));break;case 18:Rt!==null&&(Ln?(t=Rt,n=n.stateNode,t.nodeType===8?Rh(t.parentNode,n):t.nodeType===1&&Rh(t,n),Ga(t)):Rh(Rt,n.stateNode));break;case 4:r=Rt,i=Ln,Rt=n.stateNode.containerInfo,Ln=!0,Gr(t,e,n),Rt=r,Ln=i;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Wf(n,e,o),i=i.next}while(i!==r)}Gr(t,e,n);break;case 1:if(!Ht&&(Ks(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){at(n,e,l)}Gr(t,e,n);break;case 21:Gr(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,Gr(t,e,n),Ht=r):Gr(t,e,n);break;default:Gr(t,e,n)}}function My(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qA),e.forEach(function(r){var i=nP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Rt=l.stateNode,Ln=!1;break e;case 3:Rt=l.stateNode.containerInfo,Ln=!0;break e;case 4:Rt=l.stateNode.containerInfo,Ln=!0;break e}l=l.return}if(Rt===null)throw Error(K(160));Q1(s,o,i),Rt=null,Ln=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){at(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Y1(e,t),e=e.sibling}function Y1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),qn(t),r&4){try{ba(3,t,t.return),md(3,t)}catch(E){at(t,t.return,E)}try{ba(5,t,t.return)}catch(E){at(t,t.return,E)}}break;case 1:Dn(e,t),qn(t),r&512&&n!==null&&Ks(n,n.return);break;case 5:if(Dn(e,t),qn(t),r&512&&n!==null&&Ks(n,n.return),t.flags&32){var i=t.stateNode;try{Ba(i,"")}catch(E){at(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&yw(i,s),yf(l,o);var c=yf(l,s);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?Iw(i,f):d==="dangerouslySetInnerHTML"?Ew(i,f):d==="children"?Ba(i,f):Gp(i,d,f,c)}switch(l){case"input":ff(i,s);break;case"textarea":_w(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?eo(i,!!s.multiple,w,!1):m!==!!s.multiple&&(s.defaultValue!=null?eo(i,!!s.multiple,s.defaultValue,!0):eo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ja]=s}catch(E){at(t,t.return,E)}}break;case 6:if(Dn(e,t),qn(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){at(t,t.return,E)}}break;case 3:if(Dn(e,t),qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ga(e.containerInfo)}catch(E){at(t,t.return,E)}break;case 4:Dn(e,t),qn(t);break;case 13:Dn(e,t),qn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Am=ct())),r&4&&My(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(c=Ht)||d,Dn(e,t),Ht=c):Dn(e,t),qn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(oe=t,d=t.child;d!==null;){for(f=oe=d;oe!==null;){switch(m=oe,w=m.child,m.tag){case 0:case 11:case 14:case 15:ba(4,m,m.return);break;case 1:Ks(m,m.return);var k=m.stateNode;if(typeof k.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(E){at(r,n,E)}}break;case 5:Ks(m,m.return);break;case 22:if(m.memoizedState!==null){Fy(f);continue}}w!==null?(w.return=m,oe=w):Fy(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Tw("display",o))}catch(E){at(t,t.return,E)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(E){at(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dn(e,t),qn(t),r&4&&My(t);break;case 21:break;default:Dn(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(K1(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ba(i,""),r.flags&=-33);var s=Ly(t);Kf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Ly(t);Gf(t,l,o);break;default:throw Error(K(161))}}catch(u){at(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KA(t,e,n){oe=t,X1(t)}function X1(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Iu;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Ht;l=Iu;var c=Ht;if(Iu=o,(Ht=u)&&!c)for(oe=i;oe!==null;)o=oe,u=o.child,o.tag===22&&o.memoizedState!==null?jy(i):u!==null?(u.return=o,oe=u):jy(i);for(;s!==null;)oe=s,X1(s),s=s.sibling;oe=i,Iu=l,Ht=c}Vy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):Vy(t)}}function Vy(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||md(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:On(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ey(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ey(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ga(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Ht||e.flags&512&&qf(e)}catch(m){at(e,e.return,m)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function Fy(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function jy(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{md(4,e)}catch(u){at(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){at(e,i,u)}}var s=e.return;try{qf(e)}catch(u){at(e,s,u)}break;case 5:var o=e.return;try{qf(e)}catch(u){at(e,o,u)}}}catch(u){at(e,e.return,u)}if(e===t){oe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,oe=l;break}oe=e.return}}var QA=Math.ceil,Rc=Mr.ReactCurrentDispatcher,Sm=Mr.ReactCurrentOwner,An=Mr.ReactCurrentBatchConfig,De=0,St=null,mt=null,Dt=0,dn=0,Qs=xi(0),_t=0,il=null,as=0,gd=0,km=0,xa=null,nn=null,Am=0,Eo=1/0,fr=null,bc=!1,Qf=null,fi=null,Su=!1,si=null,xc=0,Na=0,Yf=null,Qu=-1,Yu=0;function Jt(){return De&6?ct():Qu!==-1?Qu:Qu=ct()}function pi(t){return t.mode&1?De&2&&Dt!==0?Dt&-Dt:NA.transition!==null?(Yu===0&&(Yu=Lw()),Yu):(t=Ve,t!==0||(t=window.event,t=t===void 0?16:zw(t.type)),t):1}function Un(t,e,n,r){if(50<Na)throw Na=0,Yf=null,Error(K(185));Sl(t,n,r),(!(De&2)||t!==St)&&(t===St&&(!(De&2)&&(gd|=n),_t===4&&ei(t,Dt)),ln(t,r),n===1&&De===0&&!(e.mode&1)&&(Eo=ct()+500,hd&&Ni()))}function ln(t,e){var n=t.callbackNode;Nk(t,e);var r=pc(t,t===St?Dt:0);if(r===0)n!==null&&Kv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Kv(n),e===1)t.tag===0?xA(Uy.bind(null,t)):a1(Uy.bind(null,t)),PA(function(){!(De&6)&&Ni()}),n=null;else{switch(Mw(r)){case 1:n=Jp;break;case 4:n=Dw;break;case 16:n=fc;break;case 536870912:n=Ow;break;default:n=fc}n=sE(n,J1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function J1(t,e){if(Qu=-1,Yu=0,De&6)throw Error(K(327));var n=t.callbackNode;if(so()&&t.callbackNode!==n)return null;var r=pc(t,t===St?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nc(t,r);else{e=r;var i=De;De|=2;var s=eE();(St!==t||Dt!==e)&&(fr=null,Eo=ct()+500,es(t,e));do try{JA();break}catch(l){Z1(t,l)}while(!0);dm(),Rc.current=s,De=i,mt!==null?e=0:(St=null,Dt=0,e=_t)}if(e!==0){if(e===2&&(i=If(t),i!==0&&(r=i,e=Xf(t,i))),e===1)throw n=il,es(t,0),ei(t,r),ln(t,ct()),n;if(e===6)ei(t,r);else{if(i=t.current.alternate,!(r&30)&&!YA(i)&&(e=Nc(t,r),e===2&&(s=If(t),s!==0&&(r=s,e=Xf(t,s))),e===1))throw n=il,es(t,0),ei(t,r),ln(t,ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Bi(t,nn,fr);break;case 3:if(ei(t,r),(r&130023424)===r&&(e=Am+500-ct(),10<e)){if(pc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=xf(Bi.bind(null,t,nn,fr),e);break}Bi(t,nn,fr);break;case 4:if(ei(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-jn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QA(r/1960))-r,10<r){t.timeoutHandle=xf(Bi.bind(null,t,nn,fr),r);break}Bi(t,nn,fr);break;case 5:Bi(t,nn,fr);break;default:throw Error(K(329))}}}return ln(t,ct()),t.callbackNode===n?J1.bind(null,t):null}function Xf(t,e){var n=xa;return t.current.memoizedState.isDehydrated&&(es(t,e).flags|=256),t=Nc(t,e),t!==2&&(e=nn,nn=n,e!==null&&Jf(e)),t}function Jf(t){nn===null?nn=t:nn.push.apply(nn,t)}function YA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Bn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ei(t,e){for(e&=~km,e&=~gd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jn(e),r=1<<n;t[n]=-1,e&=~r}}function Uy(t){if(De&6)throw Error(K(327));so();var e=pc(t,0);if(!(e&1))return ln(t,ct()),null;var n=Nc(t,e);if(t.tag!==0&&n===2){var r=If(t);r!==0&&(e=r,n=Xf(t,r))}if(n===1)throw n=il,es(t,0),ei(t,e),ln(t,ct()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bi(t,nn,fr),ln(t,ct()),null}function Pm(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(Eo=ct()+500,hd&&Ni())}}function ls(t){si!==null&&si.tag===0&&!(De&6)&&so();var e=De;De|=1;var n=An.transition,r=Ve;try{if(An.transition=null,Ve=1,t)return t()}finally{Ve=r,An.transition=n,De=e,!(De&6)&&Ni()}}function Cm(){dn=Qs.current,Qe(Qs)}function es(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AA(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(lm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_c();break;case 3:_o(),Qe(on),Qe(Gt),vm();break;case 5:gm(r);break;case 4:_o();break;case 13:Qe(nt);break;case 19:Qe(nt);break;case 10:hm(r.type._context);break;case 22:case 23:Cm()}n=n.return}if(St=t,mt=t=mi(t.current,null),Dt=dn=e,_t=0,il=null,km=gd=as=0,nn=xa=null,qi!==null){for(e=0;e<qi.length;e++)if(n=qi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}qi=null}return t}function Z1(t,e){do{var n=mt;try{if(dm(),qu.current=Cc,Pc){for(var r=rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pc=!1}if(os=0,It=yt=rt=null,Ra=!1,tl=0,Sm.current=null,n===null||n.return===null){_t=1,il=e,mt=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Dt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Py(o);if(w!==null){w.flags&=-257,Cy(w,o,l,s,e),w.mode&1&&Ay(s,c,e),e=w,u=c;var k=e.updateQueue;if(k===null){var E=new Set;E.add(u),e.updateQueue=E}else k.add(u);break e}else{if(!(e&1)){Ay(s,c,e),Rm();break e}u=Error(K(426))}}else if(Ze&&l.mode&1){var b=Py(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Cy(b,o,l,s,e),um(wo(u,l));break e}}s=u=wo(u,l),_t!==4&&(_t=2),xa===null?xa=[s]:xa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=M1(s,u,e);wy(s,I);break e;case 1:l=u;var y=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(fi===null||!fi.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=V1(s,l,e);wy(s,O);break e}}s=s.return}while(s!==null)}nE(n)}catch(V){e=V,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function eE(){var t=Rc.current;return Rc.current=Cc,t===null?Cc:t}function Rm(){(_t===0||_t===3||_t===2)&&(_t=4),St===null||!(as&268435455)&&!(gd&268435455)||ei(St,Dt)}function Nc(t,e){var n=De;De|=2;var r=eE();(St!==t||Dt!==e)&&(fr=null,es(t,e));do try{XA();break}catch(i){Z1(t,i)}while(!0);if(dm(),De=n,Rc.current=r,mt!==null)throw Error(K(261));return St=null,Dt=0,_t}function XA(){for(;mt!==null;)tE(mt)}function JA(){for(;mt!==null&&!Ik();)tE(mt)}function tE(t){var e=iE(t.alternate,t,dn);t.memoizedProps=t.pendingProps,e===null?nE(t):mt=e,Sm.current=null}function nE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WA(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,mt=null;return}}else if(n=HA(n,e,dn),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);_t===0&&(_t=5)}function Bi(t,e,n){var r=Ve,i=An.transition;try{An.transition=null,Ve=1,ZA(t,e,n,r)}finally{An.transition=i,Ve=r}return null}function ZA(t,e,n,r){do so();while(si!==null);if(De&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Dk(t,s),t===St&&(mt=St=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Su||(Su=!0,sE(fc,function(){return so(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=An.transition,An.transition=null;var o=Ve;Ve=1;var l=De;De|=4,Sm.current=null,GA(t,n),Y1(n,t),_A(Rf),mc=!!Cf,Rf=Cf=null,t.current=n,KA(n),Sk(),De=l,Ve=o,An.transition=s}else t.current=n;if(Su&&(Su=!1,si=t,xc=i),s=t.pendingLanes,s===0&&(fi=null),Pk(n.stateNode),ln(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(bc)throw bc=!1,t=Qf,Qf=null,t;return xc&1&&t.tag!==0&&so(),s=t.pendingLanes,s&1?t===Yf?Na++:(Na=0,Yf=t):Na=0,Ni(),null}function so(){if(si!==null){var t=Mw(xc),e=An.transition,n=Ve;try{if(An.transition=null,Ve=16>t?16:t,si===null)var r=!1;else{if(t=si,si=null,xc=0,De&6)throw Error(K(331));var i=De;for(De|=4,oe=t.current;oe!==null;){var s=oe,o=s.child;if(oe.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(oe=c;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:ba(8,d,s)}var f=d.child;if(f!==null)f.return=d,oe=f;else for(;oe!==null;){d=oe;var m=d.sibling,w=d.return;if(G1(d),d===c){oe=null;break}if(m!==null){m.return=w,oe=m;break}oe=w}}}var k=s.alternate;if(k!==null){var E=k.child;if(E!==null){k.child=null;do{var b=E.sibling;E.sibling=null,E=b}while(E!==null)}}oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,oe=o;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ba(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,oe=I;break e}oe=s.return}}var y=t.current;for(oe=y;oe!==null;){o=oe;var P=o.child;if(o.subtreeFlags&2064&&P!==null)P.return=o,oe=P;else e:for(o=y;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:md(9,l)}}catch(V){at(l,l.return,V)}if(l===o){oe=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,oe=O;break e}oe=l.return}}if(De=i,Ni(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(ad,t)}catch{}r=!0}return r}finally{Ve=n,An.transition=e}}return!1}function $y(t,e,n){e=wo(n,e),e=M1(t,e,1),t=hi(t,e,1),e=Jt(),t!==null&&(Sl(t,1,e),ln(t,e))}function at(t,e,n){if(t.tag===3)$y(t,t,n);else for(;e!==null;){if(e.tag===3){$y(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fi===null||!fi.has(r))){t=wo(n,t),t=V1(e,t,1),e=hi(e,t,1),t=Jt(),e!==null&&(Sl(e,1,t),ln(e,t));break}}e=e.return}}function eP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(Dt&n)===n&&(_t===4||_t===3&&(Dt&130023424)===Dt&&500>ct()-Am?es(t,0):km|=n),ln(t,e)}function rE(t,e){e===0&&(t.mode&1?(e=pu,pu<<=1,!(pu&130023424)&&(pu=4194304)):e=1);var n=Jt();t=Cr(t,e),t!==null&&(Sl(t,e,n),ln(t,n))}function tP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rE(t,n)}function nP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),rE(t,n)}var iE;iE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return sn=!1,BA(t,e,n);sn=!!(t.flags&131072)}else sn=!1,Ze&&e.flags&1048576&&l1(e,Tc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ku(t,e),t=e.pendingProps;var i=go(e,Gt.current);io(e,n),i=_m(null,e,r,t,i,n);var s=wm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,an(r)?(s=!0,wc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pm(e),i.updater=pd,e.stateNode=i,i._reactInternals=e,Ff(e,r,t,n),e=$f(null,e,r,!0,s,n)):(e.tag=0,Ze&&s&&am(e),Xt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ku(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=iP(r),t=On(r,t),i){case 0:e=Uf(null,e,r,t,n);break e;case 1:e=xy(null,e,r,t,n);break e;case 11:e=Ry(null,e,r,t,n);break e;case 14:e=by(null,e,r,On(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),Uf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),xy(t,e,r,i,n);case 3:e:{if($1(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,p1(t,e),kc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=wo(Error(K(423)),e),e=Ny(t,e,r,n,i);break e}else if(r!==i){i=wo(Error(K(424)),e),e=Ny(t,e,r,n,i);break e}else for(hn=di(e.stateNode.containerInfo.firstChild),mn=e,Ze=!0,Vn=null,n=h1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vo(),r===i){e=Rr(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return m1(e),t===null&&Lf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,bf(r,i)?o=null:s!==null&&bf(r,s)&&(e.flags|=32),U1(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&Lf(e),null;case 13:return z1(t,e,n);case 4:return mm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=yo(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),Ry(t,e,r,i,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ze(Ic,r._currentValue),r._currentValue=o,s!==null)if(Bn(s.value,o)){if(s.children===i.children&&!on.current){e=Rr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Sr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Mf(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Mf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,io(e,n),i=Cn(i),r=r(i),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,i=On(r,e.pendingProps),i=On(r.type,i),by(t,e,r,i,n);case 15:return F1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:On(r,i),Ku(t,e),e.tag=1,an(r)?(t=!0,wc(e)):t=!1,io(e,n),L1(e,r,i),Ff(e,r,i,n),$f(null,e,r,!0,t,n);case 19:return B1(t,e,n);case 22:return j1(t,e,n)}throw Error(K(156,e.tag))};function sE(t,e){return Nw(t,e)}function rP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new rP(t,e,n,r)}function bm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iP(t){if(typeof t=="function")return bm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qp)return 11;if(t===Yp)return 14}return 2}function mi(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")bm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case js:return ts(n.children,i,s,e);case Kp:o=8,i|=8;break;case lf:return t=kn(12,n,e,i|2),t.elementType=lf,t.lanes=s,t;case uf:return t=kn(13,n,e,i),t.elementType=uf,t.lanes=s,t;case cf:return t=kn(19,n,e,i),t.elementType=cf,t.lanes=s,t;case mw:return vd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fw:o=10;break e;case pw:o=9;break e;case Qp:o=11;break e;case Yp:o=14;break e;case Xr:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=kn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ts(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function vd(t,e,n,r){return t=kn(22,t,r,e),t.elementType=mw,t.lanes=n,t.stateNode={isHidden:!1},t}function Vh(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function Fh(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yh(0),this.expirationTimes=yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xm(t,e,n,r,i,s,o,l,u){return t=new sP(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=kn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pm(s),t}function oP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function oE(t){if(!t)return Ti;t=t._reactInternals;e:{if(_s(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(an(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(an(n))return o1(t,n,e)}return e}function aE(t,e,n,r,i,s,o,l,u){return t=xm(n,r,!0,t,i,s,o,l,u),t.context=oE(null),n=t.current,r=Jt(),i=pi(n),s=Sr(r,i),s.callback=e??null,hi(n,s,i),t.current.lanes=i,Sl(t,i,r),ln(t,r),t}function yd(t,e,n,r){var i=e.current,s=Jt(),o=pi(i);return n=oE(n),e.context===null?e.context=n:e.pendingContext=n,e=Sr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hi(i,e,o),t!==null&&(Un(t,i,o,s),Wu(t,i,o)),o}function Dc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Nm(t,e){zy(t,e),(t=t.alternate)&&zy(t,e)}function aP(){return null}var lE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dm(t){this._internalRoot=t}_d.prototype.render=Dm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));yd(t,e,null,null)};_d.prototype.unmount=Dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ls(function(){yd(null,t,null,null)}),e[Pr]=null}};function _d(t){this._internalRoot=t}_d.prototype.unstable_scheduleHydration=function(t){if(t){var e=jw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zr.length&&e!==0&&e<Zr[n].priority;n++);Zr.splice(n,0,t),n===0&&$w(t)}};function Om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function By(){}function lP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Dc(o);s.call(c)}}var o=aE(e,r,t,0,null,!1,!1,"",By);return t._reactRootContainer=o,t[Pr]=o.current,Ya(t.nodeType===8?t.parentNode:t),ls(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Dc(u);l.call(c)}}var u=xm(t,0,!1,null,null,!1,!1,"",By);return t._reactRootContainer=u,t[Pr]=u.current,Ya(t.nodeType===8?t.parentNode:t),ls(function(){yd(e,u,n,r)}),u}function Ed(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Dc(o);l.call(u)}}yd(e,o,t,i)}else o=lP(n,e,t,i,r);return Dc(o)}Vw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=va(e.pendingLanes);n!==0&&(Zp(e,n|1),ln(e,ct()),!(De&6)&&(Eo=ct()+500,Ni()))}break;case 13:ls(function(){var r=Cr(t,1);if(r!==null){var i=Jt();Un(r,t,1,i)}}),Nm(t,1)}};em=function(t){if(t.tag===13){var e=Cr(t,134217728);if(e!==null){var n=Jt();Un(e,t,134217728,n)}Nm(t,134217728)}};Fw=function(t){if(t.tag===13){var e=pi(t),n=Cr(t,e);if(n!==null){var r=Jt();Un(n,t,e,r)}Nm(t,e)}};jw=function(){return Ve};Uw=function(t,e){var n=Ve;try{return Ve=t,e()}finally{Ve=n}};wf=function(t,e,n){switch(e){case"input":if(ff(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=dd(r);if(!i)throw Error(K(90));vw(r),ff(r,i)}}}break;case"textarea":_w(t,n);break;case"select":e=n.value,e!=null&&eo(t,!!n.multiple,e,!1)}};Aw=Pm;Pw=ls;var uP={usingClientEntryPoint:!1,Events:[Al,Bs,dd,Sw,kw,Pm]},ca={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cP={bundleType:ca.bundleType,version:ca.version,rendererPackageName:ca.rendererPackageName,rendererConfig:ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bw(t),t===null?null:t.stateNode},findFiberByHostInstance:ca.findFiberByHostInstance||aP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{ad=ku.inject(cP),Xn=ku}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uP;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Om(e))throw Error(K(200));return oP(t,e,null,n)};vn.createRoot=function(t,e){if(!Om(t))throw Error(K(299));var n=!1,r="",i=lE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=xm(t,1,!1,null,null,n,!1,r,i),t[Pr]=e.current,Ya(t.nodeType===8?t.parentNode:t),new Dm(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=bw(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return ls(t)};vn.hydrate=function(t,e,n){if(!wd(e))throw Error(K(200));return Ed(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!Om(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=lE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=aE(e,null,t,1,n??null,i,!1,s,o),t[Pr]=e.current,Ya(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new _d(e)};vn.render=function(t,e,n){if(!wd(e))throw Error(K(200));return Ed(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!wd(t))throw Error(K(40));return t._reactRootContainer?(ls(function(){Ed(null,null,t,!1,function(){t._reactRootContainer=null,t[Pr]=null})}),!0):!1};vn.unstable_batchedUpdates=Pm;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wd(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Ed(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function uE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uE)}catch(t){console.error(t)}}uE(),uw.exports=vn;var Td=uw.exports;const dP=vs(Td),hP=X0({__proto__:null,default:dP},[Td]);var Hy=Td;of.createRoot=Hy.createRoot,of.hydrateRoot=Hy.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tt.apply(this,arguments)}var ft;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ft||(ft={}));const Wy="popstate";function fP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return sl("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Cl(i)}return mP(e,n,null,t)}function Ce(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function To(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pP(){return Math.random().toString(36).substr(2,8)}function qy(t,e){return{usr:t.state,key:t.key,idx:e}}function sl(t,e,n,r){return n===void 0&&(n=null),tt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Di(e):e,{state:n,key:e&&e.key||r||pP()})}function Cl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Di(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=ft.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(tt({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ft.Pop;let b=d(),I=b==null?null:b-c;c=b,u&&u({action:l,location:E.location,delta:I})}function m(b,I){l=ft.Push;let y=sl(E.location,b,I);c=d()+1;let P=qy(y,c),O=E.createHref(y);try{o.pushState(P,"",O)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(O)}s&&u&&u({action:l,location:E.location,delta:1})}function w(b,I){l=ft.Replace;let y=sl(E.location,b,I);c=d();let P=qy(y,c),O=E.createHref(y);o.replaceState(P,"",O),s&&u&&u({action:l,location:E.location,delta:0})}function k(b){let I=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof b=="string"?b:Cl(b);return y=y.replace(/ $/,"%20"),Ce(I,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,I)}let E={get action(){return l},get location(){return t(i,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Wy,f),u=b,()=>{i.removeEventListener(Wy,f),u=null}},createHref(b){return e(i,b)},createURL:k,encodeLocation(b){let I=k(b);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:m,replace:w,go(b){return o.go(b)}};return E}var Je;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Je||(Je={}));const gP=new Set(["lazy","caseSensitive","path","id","index","children"]);function vP(t){return t.index===!0}function Zf(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],l=typeof i.id=="string"?i.id:o.join("-");if(Ce(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ce(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),vP(i)){let u=tt({},i,e(i),{id:l});return r[l]=u,u}else{let u=tt({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=Zf(i.children,e,o,r)),u}})}function Ys(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Di(e):e,i=Rl(r.pathname||"/",n);if(i==null)return null;let s=cE(t);_P(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=xP(i);o=CP(s[l],u)}return o}function yP(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function cE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ce(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=gi([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(Ce(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),cE(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:AP(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of dE(s.path))i(s,o,u)}),e}function dE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=dE(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function _P(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wP=/^:[\w-]+$/,EP=3,TP=2,IP=1,SP=10,kP=-2,Gy=t=>t==="*";function AP(t,e){let n=t.split("/"),r=n.length;return n.some(Gy)&&(r+=kP),e&&(r+=TP),n.filter(i=>!Gy(i)).reduce((i,s)=>i+(wP.test(s)?EP:s===""?IP:SP),r)}function PP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CP(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=RP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c);if(!d)return null;Object.assign(r,d.params);let f=l.route;s.push({params:r,pathname:gi([i,d.pathname]),pathnameBase:OP(gi([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=gi([i,d.pathnameBase]))}return s}function RP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:w}=d;if(m==="*"){let E=l[f]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const k=l[f];return w&&!k?c[m]=void 0:c[m]=(k||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function bP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),To(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function xP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return To(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Rl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function NP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Di(t):t;return{pathname:n?n.startsWith("/")?n:DP(n,e):e,search:LP(r),hash:MP(i)}}function DP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Lm(t,e){let n=hE(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Di(t):(i=tt({},t),Ce(!i.pathname||!i.pathname.includes("?"),jh("?","pathname","search",i)),Ce(!i.pathname||!i.pathname.includes("#"),jh("#","pathname","hash",i)),Ce(!i.search||!i.search.includes("#"),jh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?e[f]:"/"}let u=NP(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const gi=t=>t.join("/").replace(/\/\/+/g,"/"),OP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),LP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Vm{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Fm(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fE=["post","put","patch","delete"],VP=new Set(fE),FP=["get",...fE],jP=new Set(FP),UP=new Set([301,302,303,307,308]),$P=new Set([307,308]),Uh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},da={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},jm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BP=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),pE="remix-router-transitions";function HP(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ce(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let D=t.detectErrorBoundary;i=F=>({hasErrorBoundary:D(F)})}else i=BP;let s={},o=Zf(t.routes,i,void 0,s),l,u=t.basename||"/",c=t.unstable_dataStrategy||KP,d=tt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),f=null,m=new Set,w=null,k=null,E=null,b=t.hydrationData!=null,I=Ys(o,t.history.location,u),y=null;if(I==null){let D=En(404,{pathname:t.history.location.pathname}),{matches:F,route:$}=r_(o);I=F,y={[$.id]:D}}let P,O=I.some(D=>D.route.lazy),V=I.some(D=>D.route.loader);if(O)P=!1;else if(!V)P=!0;else if(d.v7_partialHydration){let D=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null,$=Y=>Y.route.loader?typeof Y.route.loader=="function"&&Y.route.loader.hydrate===!0?!1:D&&D[Y.route.id]!==void 0||F&&F[Y.route.id]!==void 0:!0;if(F){let Y=I.findIndex(ie=>F[ie.route.id]!==void 0);P=I.slice(0,Y+1).every($)}else P=I.every($)}else P=t.hydrationData!=null;let j,g={historyAction:t.history.action,location:t.history.location,matches:I,initialized:P,navigation:Uh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},v=ft.Pop,T=!1,S,R=!1,x=new Map,C=null,G=!1,B=!1,Q=[],Z=[],L=new Map,H=0,W=-1,ae=new Map,ne=new Set,de=new Map,ke=new Map,J=new Set,te=new Map,ge=new Map,Oe=!1;function Se(){if(f=t.history.listen(D=>{let{action:F,location:$,delta:Y}=D;if(Oe){Oe=!1;return}To(ge.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=Ps({currentLocation:g.location,nextLocation:$,historyAction:F});if(ie&&Y!=null){Oe=!0,t.history.go(Y*-1),As(ie,{state:"blocked",location:$,proceed(){As(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),t.history.go(Y)},reset(){let ce=new Map(g.blockers);ce.set(ie,da),He({blockers:ce})}});return}return Qt(F,$)}),n){oC(e,x);let D=()=>aC(e,x);e.addEventListener("pagehide",D),C=()=>e.removeEventListener("pagehide",D)}return g.initialized||Qt(ft.Pop,g.location,{initialHydration:!0}),j}function we(){f&&f(),C&&C(),m.clear(),S&&S.abort(),g.fetchers.forEach((D,F)=>Fi(F)),g.blockers.forEach((D,F)=>Xl(F))}function Ee(D){return m.add(D),()=>m.delete(D)}function He(D,F){F===void 0&&(F={}),g=tt({},g,D);let $=[],Y=[];d.v7_fetcherPersist&&g.fetchers.forEach((ie,ce)=>{ie.state==="idle"&&(J.has(ce)?Y.push(ce):$.push(ce))}),[...m].forEach(ie=>ie(g,{deletedFetchers:Y,unstable_viewTransitionOpts:F.viewTransitionOpts,unstable_flushSync:F.flushSync===!0})),d.v7_fetcherPersist&&($.forEach(ie=>g.fetchers.delete(ie)),Y.forEach(ie=>Fi(ie)))}function Fe(D,F,$){var Y,ie;let{flushSync:ce}=$===void 0?{}:$,fe=g.actionData!=null&&g.navigation.formMethod!=null&&Mn(g.navigation.formMethod)&&g.navigation.state==="loading"&&((Y=D.state)==null?void 0:Y._isRedirect)!==!0,re;F.actionData?Object.keys(F.actionData).length>0?re=F.actionData:re=null:fe?re=g.actionData:re=null;let me=F.loaderData?t_(g.loaderData,F.loaderData,F.matches||[],F.errors):g.loaderData,ve=g.blockers;ve.size>0&&(ve=new Map(ve),ve.forEach((pe,Ue)=>ve.set(Ue,da)));let vt=T===!0||g.navigation.formMethod!=null&&Mn(g.navigation.formMethod)&&((ie=D.state)==null?void 0:ie._isRedirect)!==!0;l&&(o=l,l=void 0),G||v===ft.Pop||(v===ft.Push?t.history.push(D,D.state):v===ft.Replace&&t.history.replace(D,D.state));let Xe;if(v===ft.Pop){let pe=x.get(g.location.pathname);pe&&pe.has(D.pathname)?Xe={currentLocation:g.location,nextLocation:D}:x.has(D.pathname)&&(Xe={currentLocation:D,nextLocation:g.location})}else if(R){let pe=x.get(g.location.pathname);pe?pe.add(D.pathname):(pe=new Set([D.pathname]),x.set(g.location.pathname,pe)),Xe={currentLocation:g.location,nextLocation:D}}He(tt({},F,{actionData:re,loaderData:me,historyAction:v,location:D,initialized:!0,navigation:Uh,revalidation:"idle",restoreScrollPosition:Rs(D,F.matches||g.matches),preventScrollReset:vt,blockers:ve}),{viewTransitionOpts:Xe,flushSync:ce===!0}),v=ft.Pop,T=!1,R=!1,G=!1,B=!1,Q=[],Z=[]}async function kt(D,F){if(typeof D=="number"){t.history.go(D);return}let $=ep(g.location,g.matches,u,d.v7_prependBasename,D,d.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:Y,submission:ie,error:ce}=Ky(d.v7_normalizeFormMethod,!1,$,F),fe=g.location,re=sl(g.location,Y,F&&F.state);re=tt({},re,t.history.encodeLocation(re));let me=F&&F.replace!=null?F.replace:void 0,ve=ft.Push;me===!0?ve=ft.Replace:me===!1||ie!=null&&Mn(ie.formMethod)&&ie.formAction===g.location.pathname+g.location.search&&(ve=ft.Replace);let vt=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Xe=(F&&F.unstable_flushSync)===!0,pe=Ps({currentLocation:fe,nextLocation:re,historyAction:ve});if(pe){As(pe,{state:"blocked",location:re,proceed(){As(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),kt(D,F)},reset(){let Ue=new Map(g.blockers);Ue.set(pe,da),He({blockers:Ue})}});return}return await Qt(ve,re,{submission:ie,pendingError:ce,preventScrollReset:vt,replace:F&&F.replace,enableViewTransition:F&&F.unstable_viewTransition,flushSync:Xe})}function sr(){if(ks(),He({revalidation:"loading"}),g.navigation.state!=="submitting"){if(g.navigation.state==="idle"){Qt(g.historyAction,g.location,{startUninterruptedRevalidation:!0});return}Qt(v||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation})}}async function Qt(D,F,$){S&&S.abort(),S=null,v=D,G=($&&$.startUninterruptedRevalidation)===!0,Ko(g.location,g.matches),T=($&&$.preventScrollReset)===!0,R=($&&$.enableViewTransition)===!0;let Y=l||o,ie=$&&$.overrideNavigation,ce=Ys(Y,F,u),fe=($&&$.flushSync)===!0;if(!ce){let pe=En(404,{pathname:F.pathname}),{matches:Ue,route:et}=r_(Y);Cs(),Fe(F,{matches:Ue,loaderData:{},errors:{[et.id]:pe}},{flushSync:fe});return}if(g.initialized&&!B&&eC(g.location,F)&&!($&&$.submission&&Mn($.submission.formMethod))){Fe(F,{matches:ce},{flushSync:fe});return}S=new AbortController;let re=Os(t.history,F,S.signal,$&&$.submission),me;if($&&$.pendingError)me=[Da(ce).route.id,{type:Je.error,error:$.pendingError}];else if($&&$.submission&&Mn($.submission.formMethod)){let pe=await rh(re,F,$.submission,ce,{replace:$.replace,flushSync:fe});if(pe.shortCircuited)return;me=pe.pendingActionResult,ie=$h(F,$.submission),fe=!1,re=Os(t.history,re.url,re.signal)}let{shortCircuited:ve,loaderData:vt,errors:Xe}=await ih(re,F,ce,ie,$&&$.submission,$&&$.fetcherSubmission,$&&$.replace,$&&$.initialHydration===!0,fe,me);ve||(S=null,Fe(F,tt({matches:ce},n_(me),{loaderData:vt,errors:Xe})))}async function rh(D,F,$,Y,ie){ie===void 0&&(ie={}),ks();let ce=iC(F,$);He({navigation:ce},{flushSync:ie.flushSync===!0});let fe,re=np(Y,F);if(!re.route.action&&!re.route.lazy)fe={type:Je.error,error:En(405,{method:D.method,pathname:F.pathname,routeId:re.route.id})};else if(fe=(await or("action",D,[re],Y))[0],D.signal.aborted)return{shortCircuited:!0};if(Qi(fe)){let me;return ie&&ie.replace!=null?me=ie.replace:me=Jy(fe.response.headers.get("Location"),new URL(D.url),u)===g.location.pathname+g.location.search,await Mi(D,fe,{submission:$,replace:me}),{shortCircuited:!0}}if(Ki(fe))throw En(400,{type:"defer-action"});if(Sn(fe)){let me=Da(Y,re.route.id);return(ie&&ie.replace)!==!0&&(v=ft.Push),{pendingActionResult:[me.route.id,fe]}}return{pendingActionResult:[re.route.id,fe]}}async function ih(D,F,$,Y,ie,ce,fe,re,me,ve){let vt=Y||$h(F,ie),Xe=ie||ce||o_(vt),pe=l||o,[Ue,et]=Qy(t.history,g,$,Xe,F,d.v7_partialHydration&&re===!0,d.unstable_skipActionErrorRevalidation,B,Q,Z,J,de,ne,pe,u,ve);if(Cs(Ae=>!($&&$.some(At=>At.route.id===Ae))||Ue&&Ue.some(At=>At.route.id===Ae)),W=++H,Ue.length===0&&et.length===0){let Ae=Wo();return Fe(F,tt({matches:$,loaderData:{},errors:ve&&Sn(ve[1])?{[ve[0]]:ve[1].error}:null},n_(ve),Ae?{fetchers:new Map(g.fetchers)}:{}),{flushSync:me}),{shortCircuited:!0}}if(!G&&(!d.v7_partialHydration||!re)){et.forEach(At=>{let Pt=g.fetchers.get(At.key),dt=ha(void 0,Pt?Pt.data:void 0);g.fetchers.set(At.key,dt)});let Ae;ve&&!Sn(ve[1])?Ae={[ve[0]]:ve[1].data}:g.actionData&&(Object.keys(g.actionData).length===0?Ae=null:Ae=g.actionData),He(tt({navigation:vt},Ae!==void 0?{actionData:Ae}:{},et.length>0?{fetchers:new Map(g.fetchers)}:{}),{flushSync:me})}et.forEach(Ae=>{L.has(Ae.key)&&Wn(Ae.key),Ae.controller&&L.set(Ae.key,Ae.controller)});let $r=()=>et.forEach(Ae=>Wn(Ae.key));S&&S.signal.addEventListener("abort",$r);let{loaderResults:wn,fetcherResults:xn}=await Ss(g.matches,$,Ue,et,D);if(D.signal.aborted)return{shortCircuited:!0};S&&S.signal.removeEventListener("abort",$r),et.forEach(Ae=>L.delete(Ae.key));let Yt=i_([...wn,...xn]);if(Yt){if(Yt.idx>=Ue.length){let Ae=et[Yt.idx-Ue.length].key;ne.add(Ae)}return await Mi(D,Yt.result,{replace:fe}),{shortCircuited:!0}}let{loaderData:lr,errors:un}=e_(g,$,Ue,wn,ve,et,xn,te);te.forEach((Ae,At)=>{Ae.subscribe(Pt=>{(Pt||Ae.done)&&te.delete(At)})}),d.v7_partialHydration&&re&&g.errors&&Object.entries(g.errors).filter(Ae=>{let[At]=Ae;return!Ue.some(Pt=>Pt.route.id===At)}).forEach(Ae=>{let[At,Pt]=Ae;un=Object.assign(un||{},{[At]:Pt})});let zr=Wo(),Br=qo(W),ji=zr||Br||et.length>0;return tt({loaderData:lr,errors:un},ji?{fetchers:new Map(g.fetchers)}:{})}function Kl(D,F,$,Y){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");L.has(D)&&Wn(D);let ie=(Y&&Y.unstable_flushSync)===!0,ce=l||o,fe=ep(g.location,g.matches,u,d.v7_prependBasename,$,d.v7_relativeSplatPath,F,Y==null?void 0:Y.relative),re=Ys(ce,fe,u);if(!re){ut(D,F,En(404,{pathname:fe}),{flushSync:ie});return}let{path:me,submission:ve,error:vt}=Ky(d.v7_normalizeFormMethod,!0,fe,Y);if(vt){ut(D,F,vt,{flushSync:ie});return}let Xe=np(re,me);if(T=(Y&&Y.preventScrollReset)===!0,ve&&Mn(ve.formMethod)){Ho(D,F,me,Xe,re,ie,ve);return}de.set(D,{routeId:F,path:me}),Ql(D,F,me,Xe,re,ie,ve)}async function Ho(D,F,$,Y,ie,ce,fe){if(ks(),de.delete(D),!Y.route.action&&!Y.route.lazy){let dt=En(405,{method:fe.formMethod,pathname:$,routeId:F});ut(D,F,dt,{flushSync:ce});return}let re=g.fetchers.get(D);We(D,sC(fe,re),{flushSync:ce});let me=new AbortController,ve=Os(t.history,$,me.signal,fe);L.set(D,me);let vt=H,pe=(await or("action",ve,[Y],ie))[0];if(ve.signal.aborted){L.get(D)===me&&L.delete(D);return}if(d.v7_fetcherPersist&&J.has(D)){if(Qi(pe)||Sn(pe)){We(D,Yr(void 0));return}}else{if(Qi(pe))if(L.delete(D),W>vt){We(D,Yr(void 0));return}else return ne.add(D),We(D,ha(fe)),Mi(ve,pe,{fetcherSubmission:fe});if(Sn(pe)){ut(D,F,pe.error);return}}if(Ki(pe))throw En(400,{type:"defer-action"});let Ue=g.navigation.location||g.location,et=Os(t.history,Ue,me.signal),$r=l||o,wn=g.navigation.state!=="idle"?Ys($r,g.navigation.location,u):g.matches;Ce(wn,"Didn't find any matches after fetcher action");let xn=++H;ae.set(D,xn);let Yt=ha(fe,pe.data);g.fetchers.set(D,Yt);let[lr,un]=Qy(t.history,g,wn,fe,Ue,!1,d.unstable_skipActionErrorRevalidation,B,Q,Z,J,de,ne,$r,u,[Y.route.id,pe]);un.filter(dt=>dt.key!==D).forEach(dt=>{let ur=dt.key,Hr=g.fetchers.get(ur),cr=ha(void 0,Hr?Hr.data:void 0);g.fetchers.set(ur,cr),L.has(ur)&&Wn(ur),dt.controller&&L.set(ur,dt.controller)}),He({fetchers:new Map(g.fetchers)});let zr=()=>un.forEach(dt=>Wn(dt.key));me.signal.addEventListener("abort",zr);let{loaderResults:Br,fetcherResults:ji}=await Ss(g.matches,wn,lr,un,et);if(me.signal.aborted)return;me.signal.removeEventListener("abort",zr),ae.delete(D),L.delete(D),un.forEach(dt=>L.delete(dt.key));let Ae=i_([...Br,...ji]);if(Ae){if(Ae.idx>=lr.length){let dt=un[Ae.idx-lr.length].key;ne.add(dt)}return Mi(et,Ae.result)}let{loaderData:At,errors:Pt}=e_(g,g.matches,lr,Br,void 0,un,ji,te);if(g.fetchers.has(D)){let dt=Yr(pe.data);g.fetchers.set(D,dt)}qo(xn),g.navigation.state==="loading"&&xn>W?(Ce(v,"Expected pending action"),S&&S.abort(),Fe(g.navigation.location,{matches:wn,loaderData:At,errors:Pt,fetchers:new Map(g.fetchers)})):(He({errors:Pt,loaderData:t_(g.loaderData,At,wn,Pt),fetchers:new Map(g.fetchers)}),B=!1)}async function Ql(D,F,$,Y,ie,ce,fe){let re=g.fetchers.get(D);We(D,ha(fe,re?re.data:void 0),{flushSync:ce});let me=new AbortController,ve=Os(t.history,$,me.signal);L.set(D,me);let vt=H,pe=(await or("loader",ve,[Y],ie))[0];if(Ki(pe)&&(pe=await yE(pe,ve.signal,!0)||pe),L.get(D)===me&&L.delete(D),!ve.signal.aborted){if(J.has(D)){We(D,Yr(void 0));return}if(Qi(pe))if(W>vt){We(D,Yr(void 0));return}else{ne.add(D),await Mi(ve,pe);return}if(Sn(pe)){ut(D,F,pe.error);return}Ce(!Ki(pe),"Unhandled fetcher deferred data"),We(D,Yr(pe.data))}}async function Mi(D,F,$){let{submission:Y,fetcherSubmission:ie,replace:ce}=$===void 0?{}:$;F.response.headers.has("X-Remix-Revalidate")&&(B=!0);let fe=F.response.headers.get("Location");Ce(fe,"Expected a Location header on the redirect Response"),fe=Jy(fe,new URL(D.url),u);let re=sl(g.location,fe,{_isRedirect:!0});if(n){let Ue=!1;if(F.response.headers.has("X-Remix-Reload-Document"))Ue=!0;else if(jm.test(fe)){const et=t.history.createURL(fe);Ue=et.origin!==e.location.origin||Rl(et.pathname,u)==null}if(Ue){ce?e.location.replace(fe):e.location.assign(fe);return}}S=null;let me=ce===!0?ft.Replace:ft.Push,{formMethod:ve,formAction:vt,formEncType:Xe}=g.navigation;!Y&&!ie&&ve&&vt&&Xe&&(Y=o_(g.navigation));let pe=Y||ie;if($P.has(F.response.status)&&pe&&Mn(pe.formMethod))await Qt(me,re,{submission:tt({},pe,{formAction:fe}),preventScrollReset:T});else{let Ue=$h(re,Y);await Qt(me,re,{overrideNavigation:Ue,fetcherSubmission:ie,preventScrollReset:T})}}async function or(D,F,$,Y){try{let ie=await QP(c,D,F,$,Y,s,i);return await Promise.all(ie.map((ce,fe)=>{if(tC(ce)){let re=ce.result;return{type:Je.redirect,response:JP(re,F,$[fe].route.id,Y,u,d.v7_relativeSplatPath)}}return XP(ce)}))}catch(ie){return $.map(()=>({type:Je.error,error:ie}))}}async function Ss(D,F,$,Y,ie){let[ce,...fe]=await Promise.all([$.length?or("loader",ie,$,F):[],...Y.map(re=>{if(re.matches&&re.match&&re.controller){let me=Os(t.history,re.path,re.controller.signal);return or("loader",me,[re.match],re.matches).then(ve=>ve[0])}else return Promise.resolve({type:Je.error,error:En(404,{pathname:re.path})})})]);return await Promise.all([s_(D,$,ce,ce.map(()=>ie.signal),!1,g.loaderData),s_(D,Y.map(re=>re.match),fe,Y.map(re=>re.controller?re.controller.signal:null),!0)]),{loaderResults:ce,fetcherResults:fe}}function ks(){B=!0,Q.push(...Cs()),de.forEach((D,F)=>{L.has(F)&&(Z.push(F),Wn(F))})}function We(D,F,$){$===void 0&&($={}),g.fetchers.set(D,F),He({fetchers:new Map(g.fetchers)},{flushSync:($&&$.flushSync)===!0})}function ut(D,F,$,Y){Y===void 0&&(Y={});let ie=Da(g.matches,F);Fi(D),He({errors:{[ie.route.id]:$},fetchers:new Map(g.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function Vi(D){return d.v7_fetcherPersist&&(ke.set(D,(ke.get(D)||0)+1),J.has(D)&&J.delete(D)),g.fetchers.get(D)||zP}function Fi(D){let F=g.fetchers.get(D);L.has(D)&&!(F&&F.state==="loading"&&ae.has(D))&&Wn(D),de.delete(D),ae.delete(D),ne.delete(D),J.delete(D),g.fetchers.delete(D)}function Yl(D){if(d.v7_fetcherPersist){let F=(ke.get(D)||0)-1;F<=0?(ke.delete(D),J.add(D)):ke.set(D,F)}else Fi(D);He({fetchers:new Map(g.fetchers)})}function Wn(D){let F=L.get(D);Ce(F,"Expected fetch controller: "+D),F.abort(),L.delete(D)}function jr(D){for(let F of D){let $=Vi(F),Y=Yr($.data);g.fetchers.set(F,Y)}}function Wo(){let D=[],F=!1;for(let $ of ne){let Y=g.fetchers.get($);Ce(Y,"Expected fetcher: "+$),Y.state==="loading"&&(ne.delete($),D.push($),F=!0)}return jr(D),F}function qo(D){let F=[];for(let[$,Y]of ae)if(Y<D){let ie=g.fetchers.get($);Ce(ie,"Expected fetcher: "+$),ie.state==="loading"&&(Wn($),ae.delete($),F.push($))}return jr(F),F.length>0}function Go(D,F){let $=g.blockers.get(D)||da;return ge.get(D)!==F&&ge.set(D,F),$}function Xl(D){g.blockers.delete(D),ge.delete(D)}function As(D,F){let $=g.blockers.get(D)||da;Ce($.state==="unblocked"&&F.state==="blocked"||$.state==="blocked"&&F.state==="blocked"||$.state==="blocked"&&F.state==="proceeding"||$.state==="blocked"&&F.state==="unblocked"||$.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+$.state+" -> "+F.state);let Y=new Map(g.blockers);Y.set(D,F),He({blockers:Y})}function Ps(D){let{currentLocation:F,nextLocation:$,historyAction:Y}=D;if(ge.size===0)return;ge.size>1&&To(!1,"A router only supports one blocker at a time");let ie=Array.from(ge.entries()),[ce,fe]=ie[ie.length-1],re=g.blockers.get(ce);if(!(re&&re.state==="proceeding")&&fe({currentLocation:F,nextLocation:$,historyAction:Y}))return ce}function Cs(D){let F=[];return te.forEach(($,Y)=>{(!D||D(Y))&&($.cancel(),F.push(Y),te.delete(Y))}),F}function Jl(D,F,$){if(w=D,E=F,k=$||null,!b&&g.navigation===Uh){b=!0;let Y=Rs(g.location,g.matches);Y!=null&&He({restoreScrollPosition:Y})}return()=>{w=null,E=null,k=null}}function Ur(D,F){return k&&k(D,F.map(Y=>yP(Y,g.loaderData)))||D.key}function Ko(D,F){if(w&&E){let $=Ur(D,F);w[$]=E()}}function Rs(D,F){if(w){let $=Ur(D,F),Y=w[$];if(typeof Y=="number")return Y}return null}function ar(D){s={},l=Zf(D,i,void 0,s)}return j={get basename(){return u},get future(){return d},get state(){return g},get routes(){return o},get window(){return e},initialize:Se,subscribe:Ee,enableScrollRestoration:Jl,navigate:kt,fetch:Kl,revalidate:sr,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:Vi,deleteFetcher:Yl,dispose:we,getBlocker:Go,deleteBlocker:Xl,_internalFetchControllers:L,_internalActiveDeferreds:te,_internalSetRoutes:ar},j}function WP(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ep(t,e,n,r,i,s,o,l){let u,c;if(o){u=[];for(let f of e)if(u.push(f),f.route.id===o){c=f;break}}else u=e,c=e[e.length-1];let d=Mm(i||".",Lm(u,s),Rl(t.pathname,n)||t.pathname,l==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Um(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:gi([n,d.pathname])),Cl(d)}function Ky(t,e,n,r){if(!r||!WP(r))return{path:n};if(r.formMethod&&!rC(r.formMethod))return{path:n,error:En(405,{method:r.formMethod})};let i=()=>({path:n,error:En(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=gE(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Mn(o))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((w,k)=>{let[E,b]=k;return""+w+E+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!Mn(o))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}Ce(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=tp(r.formData),c=r.formData;else if(r.body instanceof FormData)u=tp(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=Zy(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=Zy(u)}catch{return i()}let d={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Mn(d.formMethod))return{path:n,submission:d};let f=Di(n);return e&&f.search&&Um(f.search)&&u.append("index",""),f.search="?"+u,{path:Cl(f),submission:d}}function qP(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Qy(t,e,n,r,i,s,o,l,u,c,d,f,m,w,k,E){let b=E?Sn(E[1])?E[1].error:E[1].data:void 0,I=t.createURL(e.location),y=t.createURL(i),P=E&&Sn(E[1])?E[0]:void 0,O=P?qP(n,P):n,V=E?E[1].statusCode:void 0,j=o&&V&&V>=400,g=O.filter((T,S)=>{let{route:R}=T;if(R.lazy)return!0;if(R.loader==null)return!1;if(s)return typeof R.loader!="function"||R.loader.hydrate?!0:e.loaderData[R.id]===void 0&&(!e.errors||e.errors[R.id]===void 0);if(GP(e.loaderData,e.matches[S],T)||u.some(G=>G===T.route.id))return!0;let x=e.matches[S],C=T;return Yy(T,tt({currentUrl:I,currentParams:x.params,nextUrl:y,nextParams:C.params},r,{actionResult:b,unstable_actionStatus:V,defaultShouldRevalidate:j?!1:l||I.pathname+I.search===y.pathname+y.search||I.search!==y.search||mE(x,C)}))}),v=[];return f.forEach((T,S)=>{if(s||!n.some(B=>B.route.id===T.routeId)||d.has(S))return;let R=Ys(w,T.path,k);if(!R){v.push({key:S,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let x=e.fetchers.get(S),C=np(R,T.path),G=!1;m.has(S)?G=!1:c.includes(S)?G=!0:x&&x.state!=="idle"&&x.data===void 0?G=l:G=Yy(C,tt({currentUrl:I,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:b,unstable_actionStatus:V,defaultShouldRevalidate:j?!1:l})),G&&v.push({key:S,routeId:T.routeId,path:T.path,matches:R,match:C,controller:new AbortController})}),[g,v]}function GP(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function mE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Yy(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Xy(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ce(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";To(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!gP.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,tt({},e(i),{lazy:void 0}))}function KP(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function QP(t,e,n,r,i,s,o,l){let u=r.reduce((f,m)=>f.add(m.route.id),new Set),c=new Set,d=await t({matches:i.map(f=>{let m=u.has(f.route.id);return tt({},f,{shouldLoad:m,resolve:k=>(c.add(f.route.id),m?YP(e,n,f,s,o,k,l):Promise.resolve({type:Je.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(f=>Ce(c.has(f.route.id),'`match.resolve()` was not called for route id "'+f.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),d.filter((f,m)=>u.has(i[m].route.id))}async function YP(t,e,n,r,i,s,o){let l,u,c=d=>{let f,m=new Promise((E,b)=>f=b);u=()=>f(),e.signal.addEventListener("abort",u);let w=E=>typeof d!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):d({request:e,params:n.params,context:o},...E!==void 0?[E]:[]),k;return s?k=s(E=>w(E)):k=(async()=>{try{return{type:"data",result:await w()}}catch(E){return{type:"error",result:E}}})(),Promise.race([k,m])};try{let d=n.route[t];if(n.route.lazy)if(d){let f,[m]=await Promise.all([c(d).catch(w=>{f=w}),Xy(n.route,i,r)]);if(f!==void 0)throw f;l=m}else if(await Xy(n.route,i,r),d=n.route[t],d)l=await c(d);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw En(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Je.data,result:void 0};else if(d)l=await c(d);else{let f=new URL(e.url),m=f.pathname+f.search;throw En(404,{pathname:m})}Ce(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(d){return{type:Je.error,result:d}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function XP(t){let{result:e,type:n,status:r}=t;if(vE(e)){let o;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(l){return{type:Je.error,error:l}}return n===Je.error?{type:Je.error,error:new Vm(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Je.data,data:o,statusCode:e.status,headers:e.headers}}if(n===Je.error)return{type:Je.error,error:e,statusCode:Fm(e)?e.status:r};if(nC(e)){var i,s;return{type:Je.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Je.data,data:e,statusCode:r}}function JP(t,e,n,r,i,s){let o=t.headers.get("Location");if(Ce(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!jm.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=ep(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function Jy(t,e,n){if(jm.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Rl(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Os(t,e,n,r){let i=t.createURL(gE(e)).toString(),s={signal:n};if(r&&Mn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=tp(r.formData):s.body=r.formData}return new Request(i,s)}function tp(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Zy(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function ZP(t,e,n,r,i,s){let o={},l=null,u,c=!1,d={},f=r&&Sn(r[1])?r[1].error:void 0;return n.forEach((m,w)=>{let k=e[w].route.id;if(Ce(!Qi(m),"Cannot handle redirect results in processLoaderData"),Sn(m)){let E=m.error;f!==void 0&&(E=f,f=void 0),l=l||{};{let b=Da(t,k);l[b.route.id]==null&&(l[b.route.id]=E)}o[k]=void 0,c||(c=!0,u=Fm(m.error)?m.error.status:500),m.headers&&(d[k]=m.headers)}else Ki(m)?(i.set(k,m.deferredData),o[k]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(d[k]=m.headers)):(o[k]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(u=m.statusCode),m.headers&&(d[k]=m.headers))}),f!==void 0&&r&&(l={[r[0]]:f},o[r[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:d}}function e_(t,e,n,r,i,s,o,l){let{loaderData:u,errors:c}=ZP(e,n,r,i,l);for(let d=0;d<s.length;d++){let{key:f,match:m,controller:w}=s[d];Ce(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let k=o[d];if(!(w&&w.signal.aborted))if(Sn(k)){let E=Da(t.matches,m==null?void 0:m.route.id);c&&c[E.route.id]||(c=tt({},c,{[E.route.id]:k.error})),t.fetchers.delete(f)}else if(Qi(k))Ce(!1,"Unhandled fetcher revalidation redirect");else if(Ki(k))Ce(!1,"Unhandled fetcher deferred data");else{let E=Yr(k.data);t.fetchers.set(f,E)}}return{loaderData:u,errors:c}}function t_(t,e,n,r){let i=tt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function n_(t){return t?Sn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Da(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function r_(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function En(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",l='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Vm(t||500,o,new Error(l),!0)}function i_(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Qi(n))return{result:n,idx:e}}}function gE(t){let e=typeof t=="string"?Di(t):t;return Cl(tt({},e,{hash:""}))}function eC(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function tC(t){return vE(t.result)&&UP.has(t.result.status)}function Ki(t){return t.type===Je.deferred}function Sn(t){return t.type===Je.error}function Qi(t){return(t&&t.type)===Je.redirect}function nC(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function vE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function rC(t){return jP.has(t.toLowerCase())}function Mn(t){return VP.has(t.toLowerCase())}async function s_(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let l=n[o],u=e[o];if(!u)continue;let c=t.find(f=>f.route.id===u.route.id),d=c!=null&&!mE(c,u)&&(s&&s[u.route.id])!==void 0;if(Ki(l)&&(i||d)){let f=r[o];Ce(f,"Expected an AbortSignal for revalidating fetcher deferred result"),await yE(l,f,i).then(m=>{m&&(n[o]=m||n[o])})}}}async function yE(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Je.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Je.error,error:i}}return{type:Je.data,data:t.deferredData.data}}}function Um(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function np(t,e){let n=typeof e=="string"?Di(e).search:e.search;if(t[t.length-1].route.index&&Um(n||""))return t[t.length-1];let r=hE(t);return r[r.length-1]}function o_(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function $h(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function iC(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ha(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function sC(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Yr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function oC(t,e){try{let n=t.sessionStorage.getItem(pE);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function aC(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(pE,JSON.stringify(n))}catch(r){To(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oc.apply(this,arguments)}const Id=N.createContext(null),_E=N.createContext(null),bl=N.createContext(null),$m=N.createContext(null),Oi=N.createContext({outlet:null,matches:[],isDataRoute:!1}),wE=N.createContext(null);function xl(){return N.useContext($m)!=null}function Sd(){return xl()||Ce(!1),N.useContext($m).location}function EE(t){N.useContext(bl).static||N.useLayoutEffect(t)}function ws(){let{isDataRoute:t}=N.useContext(Oi);return t?EC():lC()}function lC(){xl()||Ce(!1);let t=N.useContext(Id),{basename:e,future:n,navigator:r}=N.useContext(bl),{matches:i}=N.useContext(Oi),{pathname:s}=Sd(),o=JSON.stringify(Lm(i,n.v7_relativeSplatPath)),l=N.useRef(!1);return EE(()=>{l.current=!0}),N.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let f=Mm(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:gi([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}const uC=N.createContext(null);function cC(t){let e=N.useContext(Oi).outlet;return e&&N.createElement(uC.Provider,{value:t},e)}function dC(t,e,n,r){xl()||Ce(!1);let{navigator:i}=N.useContext(bl),{matches:s}=N.useContext(Oi),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Sd(),d;d=c;let f=d.pathname||"/",m=f;if(u!=="/"){let E=u.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=Ys(t,{pathname:m});return gC(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:gi([u,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:gi([u,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r)}function hC(){let t=wC(),e=Fm(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const fC=N.createElement(hC,null);class pC extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Oi.Provider,{value:this.props.routeContext},N.createElement(wE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mC(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(Id);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Oi.Provider,{value:e},r)}function gC(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||Ce(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:w}=n,k=f.route.loader&&m[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||k){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let w,k=!1,E=null,b=null;n&&(w=l&&f.route.id?l[f.route.id]:void 0,E=f.route.errorElement||fC,u&&(c<0&&m===0?(TC("route-fallback"),k=!0,b=null):c===m&&(k=!0,b=f.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,m+1)),y=()=>{let P;return w?P=E:k?P=b:f.route.Component?P=N.createElement(f.route.Component,null):f.route.element?P=f.route.element:P=d,N.createElement(mC,{match:f,routeContext:{outlet:d,matches:I,isDataRoute:n!=null},children:P})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?N.createElement(pC,{location:n.location,revalidation:n.revalidation,component:E,error:w,children:y(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):y()},null)}var TE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TE||{}),Lc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lc||{});function vC(t){let e=N.useContext(Id);return e||Ce(!1),e}function yC(t){let e=N.useContext(_E);return e||Ce(!1),e}function _C(t){let e=N.useContext(Oi);return e||Ce(!1),e}function IE(t){let e=_C(),n=e.matches[e.matches.length-1];return n.route.id||Ce(!1),n.route.id}function wC(){var t;let e=N.useContext(wE),n=yC(Lc.UseRouteError),r=IE(Lc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function EC(){let{router:t}=vC(TE.UseNavigateStable),e=IE(Lc.UseNavigateStable),n=N.useRef(!1);return EE(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Oc({fromRouteId:e},s)))},[t,e])}const a_={};function TC(t,e,n){a_[t]||(a_[t]=!0)}function IC(t){let{to:e,replace:n,state:r,relative:i}=t;xl()||Ce(!1);let{future:s,static:o}=N.useContext(bl),{matches:l}=N.useContext(Oi),{pathname:u}=Sd(),c=ws(),d=Mm(e,Lm(l,s.v7_relativeSplatPath),u,i==="path"),f=JSON.stringify(d);return N.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function SC(t){return cC(t.context)}function kC(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ft.Pop,navigator:s,static:o=!1,future:l}=t;xl()&&Ce(!1);let u=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:u,navigator:s,static:o,future:Oc({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Di(r));let{pathname:d="/",search:f="",hash:m="",state:w=null,key:k="default"}=r,E=N.useMemo(()=>{let b=Rl(d,u);return b==null?null:{location:{pathname:b,search:f,hash:m,state:w,key:k},navigationType:i}},[u,d,f,m,w,k,i]);return E==null?null:N.createElement(bl.Provider,{value:c},N.createElement($m.Provider,{children:n,value:E}))}new Promise(()=>{});function AC(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:N.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:N.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:N.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(this,arguments)}const PC="6";try{window.__reactRouterVersion=PC}catch{}function CC(t,e){return HP({basename:void 0,future:Mc({},void 0,{v7_prependBasename:!0}),history:fP({window:void 0}),hydrationData:RC(),routes:t,mapRouteProperties:AC,unstable_dataStrategy:void 0,window:void 0}).initialize()}function RC(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Mc({},e,{errors:bC(e.errors)})),e}function bC(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Vm(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const xC=N.createContext({isTransitioning:!1}),NC=N.createContext(new Map),DC="startTransition",l_=ek[DC],OC="flushSync",u_=hP[OC];function LC(t){l_?l_(t):t()}function fa(t){u_?u_(t):t()}let MC=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function VC(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=N.useState(n.state),[o,l]=N.useState(),[u,c]=N.useState({isTransitioning:!1}),[d,f]=N.useState(),[m,w]=N.useState(),[k,E]=N.useState(),b=N.useRef(new Map),{v7_startTransition:I}=r||{},y=N.useCallback(g=>{I?LC(g):g()},[I]),P=N.useCallback((g,v)=>{let{deletedFetchers:T,unstable_flushSync:S,unstable_viewTransitionOpts:R}=v;T.forEach(C=>b.current.delete(C)),g.fetchers.forEach((C,G)=>{C.data!==void 0&&b.current.set(G,C.data)});let x=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!R||x){S?fa(()=>s(g)):y(()=>s(g));return}if(S){fa(()=>{m&&(d&&d.resolve(),m.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let C=n.window.document.startViewTransition(()=>{fa(()=>s(g))});C.finished.finally(()=>{fa(()=>{f(void 0),w(void 0),l(void 0),c({isTransitioning:!1})})}),fa(()=>w(C));return}m?(d&&d.resolve(),m.skipTransition(),E({state:g,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(l(g),c({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[n.window,m,d,b,y]);N.useLayoutEffect(()=>n.subscribe(P),[n,P]),N.useEffect(()=>{u.isTransitioning&&!u.flushSync&&f(new MC)},[u]),N.useEffect(()=>{if(d&&o&&n.window){let g=o,v=d.promise,T=n.window.document.startViewTransition(async()=>{y(()=>s(g)),await v});T.finished.finally(()=>{f(void 0),w(void 0),l(void 0),c({isTransitioning:!1})}),w(T)}},[y,o,d,n.window]),N.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,m,i.location,o]),N.useEffect(()=>{!u.isTransitioning&&k&&(l(k.state),c({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}),E(void 0))},[u.isTransitioning,k]),N.useEffect(()=>{},[]);let O=N.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:g=>n.navigate(g),push:(g,v,T)=>n.navigate(g,{state:v,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(g,v,T)=>n.navigate(g,{replace:!0,state:v,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[n]),V=n.basename||"/",j=N.useMemo(()=>({router:n,navigator:O,static:!1,basename:V}),[n,O,V]);return N.createElement(N.Fragment,null,N.createElement(Id.Provider,{value:j},N.createElement(_E.Provider,{value:i},N.createElement(NC.Provider,{value:b.current},N.createElement(xC.Provider,{value:u},N.createElement(kC,{basename:V,location:i.location,navigationType:i.historyAction,navigator:O,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?N.createElement(FC,{routes:n.routes,future:n.future,state:i}):e))))),null)}function FC(t){let{routes:e,future:n,state:r}=t;return dC(e,void 0,r,n)}var c_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(c_||(c_={}));var d_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(d_||(d_={}));const oo=N.forwardRef(({placeholder:t,handlerFunctionOnChange:e,handlerFunctionOnClick:n,addClass:r,value:i,icon:s,file:o,required:l,title:u},c)=>A.jsx(A.Fragment,{children:o?A.jsx("input",{ref:c,type:"file",className:`input ${r}`,placeholder:t,onClick:n,onChange:e,accept:"image/png, image/jpeg",required:l,title:u}):A.jsxs(A.Fragment,{children:[s,A.jsx("input",{ref:c,type:"text",className:`input ${r}`,placeholder:t,onClick:n,onChange:e,value:i,required:l,title:u})]})})),kd=N.createContext(void 0),jC=({children:t})=>{const[e,n]=N.useState("dark"),r=()=>{n(i=>i==="light"?"dark":"light")};return A.jsx(kd.Provider,{value:{theme:e,toggleTheme:r},children:t})},Ad=N.createContext(void 0),UC=({children:t})=>{const[e,n]=N.useState("Kalam"),r=()=>{n(i=>i==="Open Sans"?"Kalam":"Open Sans")};return A.jsx(Ad.Provider,{value:{font:e,toggleFont:r},children:t})},zm=({children:t,open:e,addClass:n=""})=>{const r=N.useContext(kd),i=N.useContext(Ad),s=N.useRef(null);return N.useEffect(()=>{const o=s.current;return e&&(o==null||o.showModal()),()=>o==null?void 0:o.close()},[e]),Td.createPortal(A.jsx("dialog",{className:`modal modal__${(r==null?void 0:r.theme)==="dark"?"dark":"light"} app__${(i==null?void 0:i.font)==="Kalam"?"handWriting":"typeWriting"} ${n}`,ref:s,onClick:()=>console.log("clicked"),children:t}),document.getElementById("modal"))},xt=({children:t,addClass:e="",type:n,handleFunction:r})=>A.jsx("button",{className:`button ${e}`,type:n||"button",onClick:r,children:t}),$C="/storycorner/assets/user-C5i50U7w.png",Nl=({image:t,addClass:e="",about:n,name:r,description:i})=>A.jsxs(A.Fragment,{children:[A.jsx("img",{src:t||$C,alt:n,className:`card__picture ${e}`}),r&&A.jsxs("div",{children:[r&&A.jsxs("p",{className:"card__name",children:["Hi ",r,"!"]}),i?A.jsx("p",{className:"card__description",children:i}):A.jsx(A.Fragment,{})]})]}),Vo=({children:t,addClass:e=""})=>A.jsx("div",{className:`container ${e}`,children:t}),bn=N.createContext(void 0),zC=({children:t})=>{const[e,n]=N.useState(null),r=s=>{n(s)},i=()=>{n(null)};return A.jsx(bn.Provider,{value:{user:e,login:r,logout:i},children:t})},BC=N.forwardRef(({placeholder:t,rows:e=0,addClass:n,value:r,required:i,handlerFunctionOnChange:s},o)=>A.jsx("textarea",{ref:o,placeholder:t,rows:e,className:`textarea ${n}`,value:r,required:i,onChange:s}));var h_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},HC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,f=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,w=c&63;u||(w=64,o||(m=64)),r.push(n[d],n[f],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||f==null)throw new WC;const m=s<<2|l>>4;if(r.push(m),c!==64){const w=l<<4&240|c>>2;if(r.push(w),f!==64){const k=c<<6&192|f;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qC=function(t){const e=SE(t);return kE.encodeByteArray(e,!0)},Vc=function(t){return qC(t).replace(/\./g,"")},AE=function(t){try{return kE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=()=>GC().__FIREBASE_DEFAULTS__,QC=()=>{if(typeof process>"u"||typeof h_>"u")return;const t=h_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AE(t[1]);return e&&JSON.parse(e)},Pd=()=>{try{return KC()||QC()||YC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PE=t=>{var e,n;return(n=(e=Pd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},XC=t=>{const e=PE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CE=()=>{var t;return(t=Pd())===null||t===void 0?void 0:t.config},RE=t=>{var e;return(e=Pd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vc(JSON.stringify(n)),Vc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function tR(){var t;const e=(t=Pd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function rR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iR(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sR(){return!tR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oR(){try{return typeof indexedDB=="object"}catch{return!1}}function aR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="FirebaseError";class Vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lR,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?uR(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Vr(i,l,r)}}function uR(t,e){return t.replace(cR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cR=/\{\$([^}]+)}/g;function dR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(f_(s)&&f_(o)){if(!Fc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function f_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hR(t,e){const n=new fR(t,e);return n.subscribe.bind(n)}class fR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zh),i.error===void 0&&(i.error=zh),i.complete===void 0&&(i.complete=zh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t){return t&&t._delegate?t._delegate:t}class us{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new JC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vR(e))try{this.getOrInitializeService({instanceIdentifier:Hi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hi){return this.instances.has(e)}getOptions(e=Hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hi){return this.component?this.component.multipleInstances?e:Hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gR(t){return t===Hi?void 0:t}function vR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const _R={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},wR=xe.INFO,ER={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},TR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ER[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bm{constructor(e){this.name=e,this._logLevel=wR,this._logHandler=TR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const IR=(t,e)=>e.some(n=>t instanceof n);let p_,m_;function SR(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kR(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bE=new WeakMap,rp=new WeakMap,xE=new WeakMap,Bh=new WeakMap,Hm=new WeakMap;function AR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bE.set(n,t)}).catch(()=>{}),Hm.set(e,t),e}function PR(t){if(rp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});rp.set(t,e)}let ip={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CR(t){ip=t(ip)}function RR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hh(this),e,...n);return xE.set(r,e.sort?e.sort():[e]),vi(r)}:kR().includes(t)?function(...e){return t.apply(Hh(this),e),vi(bE.get(this))}:function(...e){return vi(t.apply(Hh(this),e))}}function bR(t){return typeof t=="function"?RR(t):(t instanceof IDBTransaction&&PR(t),IR(t,SR())?new Proxy(t,ip):t)}function vi(t){if(t instanceof IDBRequest)return AR(t);if(Bh.has(t))return Bh.get(t);const e=bR(t);return e!==t&&(Bh.set(t,e),Hm.set(e,t)),e}const Hh=t=>Hm.get(t);function xR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=vi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(vi(o.result),u.oldVersion,u.newVersion,vi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const NR=["get","getKey","getAll","getAllKeys","count"],DR=["put","add","delete","clear"],Wh=new Map;function g_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wh.get(e))return Wh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||NR.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Wh.set(e,s),s}CR(t=>({...t,get:(e,n,r)=>g_(e,n)||t.get(e,n,r),has:(e,n)=>!!g_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sp="@firebase/app",v_="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Bm("@firebase/app"),MR="@firebase/app-compat",VR="@firebase/analytics-compat",FR="@firebase/analytics",jR="@firebase/app-check-compat",UR="@firebase/app-check",$R="@firebase/auth",zR="@firebase/auth-compat",BR="@firebase/database",HR="@firebase/database-compat",WR="@firebase/functions",qR="@firebase/functions-compat",GR="@firebase/installations",KR="@firebase/installations-compat",QR="@firebase/messaging",YR="@firebase/messaging-compat",XR="@firebase/performance",JR="@firebase/performance-compat",ZR="@firebase/remote-config",e2="@firebase/remote-config-compat",t2="@firebase/storage",n2="@firebase/storage-compat",r2="@firebase/firestore",i2="@firebase/vertexai-preview",s2="@firebase/firestore-compat",o2="firebase",a2="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",l2={[sp]:"fire-core",[MR]:"fire-core-compat",[FR]:"fire-analytics",[VR]:"fire-analytics-compat",[UR]:"fire-app-check",[jR]:"fire-app-check-compat",[$R]:"fire-auth",[zR]:"fire-auth-compat",[BR]:"fire-rtdb",[HR]:"fire-rtdb-compat",[WR]:"fire-fn",[qR]:"fire-fn-compat",[GR]:"fire-iid",[KR]:"fire-iid-compat",[QR]:"fire-fcm",[YR]:"fire-fcm-compat",[XR]:"fire-perf",[JR]:"fire-perf-compat",[ZR]:"fire-rc",[e2]:"fire-rc-compat",[t2]:"fire-gcs",[n2]:"fire-gcs-compat",[r2]:"fire-fst",[s2]:"fire-fst-compat",[i2]:"fire-vertex","fire-js":"fire-js",[o2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,u2=new Map,ap=new Map;function y_(t,e){try{t.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Io(t){const e=t.name;if(ap.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;ap.set(e,t);for(const n of jc.values())y_(n,t);for(const n of u2.values())y_(n,t);return!0}function Wm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _r(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new Dl("app","Firebase",c2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=a2;function NE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:op,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw yi.create("bad-app-name",{appName:String(i)});if(n||(n=CE()),!n)throw yi.create("no-options");const s=jc.get(i);if(s){if(Fc(n,s.options)&&Fc(r,s.config))return s;throw yi.create("duplicate-app",{appName:i})}const o=new yR(i);for(const u of ap.values())o.addComponent(u);const l=new d2(n,r,o);return jc.set(i,l),l}function DE(t=op){const e=jc.get(t);if(!e&&t===op&&CE())return NE();if(!e)throw yi.create("no-app",{appName:t});return e}function _i(t,e,n){var r;let i=(r=l2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(l.join(" "));return}Io(new us(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="firebase-heartbeat-database",f2=1,ol="firebase-heartbeat-store";let qh=null;function OE(){return qh||(qh=xR(h2,f2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ol)}catch(n){console.warn(n)}}}}).catch(t=>{throw yi.create("idb-open",{originalErrorMessage:t.message})})),qh}async function p2(t){try{const n=(await OE()).transaction(ol),r=await n.objectStore(ol).get(LE(t));return await n.done,r}catch(e){if(e instanceof Vr)cs.warn(e.message);else{const n=yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cs.warn(n.message)}}}async function __(t,e){try{const r=(await OE()).transaction(ol,"readwrite");await r.objectStore(ol).put(e,LE(t)),await r.done}catch(n){if(n instanceof Vr)cs.warn(n.message);else{const r=yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cs.warn(r.message)}}}function LE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=1024,g2=30*24*60*60*1e3;class v2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=w_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=g2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=w_(),{heartbeatsToSend:r,unsentEntries:i}=y2(this._heartbeatsCache.heartbeats),s=Vc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function w_(){return new Date().toISOString().substring(0,10)}function y2(t,e=m2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),E_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),E_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oR()?aR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return __(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return __(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function E_(t){return Vc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t){Io(new us("platform-logger",e=>new OR(e),"PRIVATE")),Io(new us("heartbeat",e=>new v2(e),"PRIVATE")),_i(sp,v_,t),_i(sp,v_,"esm2017"),_i("fire-js","")}w2("");var T_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,ME;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(g,v){function T(){}T.prototype=v.prototype,g.D=v.prototype,g.prototype=new T,g.prototype.constructor=g,g.C=function(S,R,x){for(var C=Array(arguments.length-2),G=2;G<arguments.length;G++)C[G-2]=arguments[G];return v.prototype[R].apply(S,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(g,v,T){T||(T=0);var S=Array(16);if(typeof v=="string")for(var R=0;16>R;++R)S[R]=v.charCodeAt(T++)|v.charCodeAt(T++)<<8|v.charCodeAt(T++)<<16|v.charCodeAt(T++)<<24;else for(R=0;16>R;++R)S[R]=v[T++]|v[T++]<<8|v[T++]<<16|v[T++]<<24;v=g.g[0],T=g.g[1],R=g.g[2];var x=g.g[3],C=v+(x^T&(R^x))+S[0]+3614090360&4294967295;v=T+(C<<7&4294967295|C>>>25),C=x+(R^v&(T^R))+S[1]+3905402710&4294967295,x=v+(C<<12&4294967295|C>>>20),C=R+(T^x&(v^T))+S[2]+606105819&4294967295,R=x+(C<<17&4294967295|C>>>15),C=T+(v^R&(x^v))+S[3]+3250441966&4294967295,T=R+(C<<22&4294967295|C>>>10),C=v+(x^T&(R^x))+S[4]+4118548399&4294967295,v=T+(C<<7&4294967295|C>>>25),C=x+(R^v&(T^R))+S[5]+1200080426&4294967295,x=v+(C<<12&4294967295|C>>>20),C=R+(T^x&(v^T))+S[6]+2821735955&4294967295,R=x+(C<<17&4294967295|C>>>15),C=T+(v^R&(x^v))+S[7]+4249261313&4294967295,T=R+(C<<22&4294967295|C>>>10),C=v+(x^T&(R^x))+S[8]+1770035416&4294967295,v=T+(C<<7&4294967295|C>>>25),C=x+(R^v&(T^R))+S[9]+2336552879&4294967295,x=v+(C<<12&4294967295|C>>>20),C=R+(T^x&(v^T))+S[10]+4294925233&4294967295,R=x+(C<<17&4294967295|C>>>15),C=T+(v^R&(x^v))+S[11]+2304563134&4294967295,T=R+(C<<22&4294967295|C>>>10),C=v+(x^T&(R^x))+S[12]+1804603682&4294967295,v=T+(C<<7&4294967295|C>>>25),C=x+(R^v&(T^R))+S[13]+4254626195&4294967295,x=v+(C<<12&4294967295|C>>>20),C=R+(T^x&(v^T))+S[14]+2792965006&4294967295,R=x+(C<<17&4294967295|C>>>15),C=T+(v^R&(x^v))+S[15]+1236535329&4294967295,T=R+(C<<22&4294967295|C>>>10),C=v+(R^x&(T^R))+S[1]+4129170786&4294967295,v=T+(C<<5&4294967295|C>>>27),C=x+(T^R&(v^T))+S[6]+3225465664&4294967295,x=v+(C<<9&4294967295|C>>>23),C=R+(v^T&(x^v))+S[11]+643717713&4294967295,R=x+(C<<14&4294967295|C>>>18),C=T+(x^v&(R^x))+S[0]+3921069994&4294967295,T=R+(C<<20&4294967295|C>>>12),C=v+(R^x&(T^R))+S[5]+3593408605&4294967295,v=T+(C<<5&4294967295|C>>>27),C=x+(T^R&(v^T))+S[10]+38016083&4294967295,x=v+(C<<9&4294967295|C>>>23),C=R+(v^T&(x^v))+S[15]+3634488961&4294967295,R=x+(C<<14&4294967295|C>>>18),C=T+(x^v&(R^x))+S[4]+3889429448&4294967295,T=R+(C<<20&4294967295|C>>>12),C=v+(R^x&(T^R))+S[9]+568446438&4294967295,v=T+(C<<5&4294967295|C>>>27),C=x+(T^R&(v^T))+S[14]+3275163606&4294967295,x=v+(C<<9&4294967295|C>>>23),C=R+(v^T&(x^v))+S[3]+4107603335&4294967295,R=x+(C<<14&4294967295|C>>>18),C=T+(x^v&(R^x))+S[8]+1163531501&4294967295,T=R+(C<<20&4294967295|C>>>12),C=v+(R^x&(T^R))+S[13]+2850285829&4294967295,v=T+(C<<5&4294967295|C>>>27),C=x+(T^R&(v^T))+S[2]+4243563512&4294967295,x=v+(C<<9&4294967295|C>>>23),C=R+(v^T&(x^v))+S[7]+1735328473&4294967295,R=x+(C<<14&4294967295|C>>>18),C=T+(x^v&(R^x))+S[12]+2368359562&4294967295,T=R+(C<<20&4294967295|C>>>12),C=v+(T^R^x)+S[5]+4294588738&4294967295,v=T+(C<<4&4294967295|C>>>28),C=x+(v^T^R)+S[8]+2272392833&4294967295,x=v+(C<<11&4294967295|C>>>21),C=R+(x^v^T)+S[11]+1839030562&4294967295,R=x+(C<<16&4294967295|C>>>16),C=T+(R^x^v)+S[14]+4259657740&4294967295,T=R+(C<<23&4294967295|C>>>9),C=v+(T^R^x)+S[1]+2763975236&4294967295,v=T+(C<<4&4294967295|C>>>28),C=x+(v^T^R)+S[4]+1272893353&4294967295,x=v+(C<<11&4294967295|C>>>21),C=R+(x^v^T)+S[7]+4139469664&4294967295,R=x+(C<<16&4294967295|C>>>16),C=T+(R^x^v)+S[10]+3200236656&4294967295,T=R+(C<<23&4294967295|C>>>9),C=v+(T^R^x)+S[13]+681279174&4294967295,v=T+(C<<4&4294967295|C>>>28),C=x+(v^T^R)+S[0]+3936430074&4294967295,x=v+(C<<11&4294967295|C>>>21),C=R+(x^v^T)+S[3]+3572445317&4294967295,R=x+(C<<16&4294967295|C>>>16),C=T+(R^x^v)+S[6]+76029189&4294967295,T=R+(C<<23&4294967295|C>>>9),C=v+(T^R^x)+S[9]+3654602809&4294967295,v=T+(C<<4&4294967295|C>>>28),C=x+(v^T^R)+S[12]+3873151461&4294967295,x=v+(C<<11&4294967295|C>>>21),C=R+(x^v^T)+S[15]+530742520&4294967295,R=x+(C<<16&4294967295|C>>>16),C=T+(R^x^v)+S[2]+3299628645&4294967295,T=R+(C<<23&4294967295|C>>>9),C=v+(R^(T|~x))+S[0]+4096336452&4294967295,v=T+(C<<6&4294967295|C>>>26),C=x+(T^(v|~R))+S[7]+1126891415&4294967295,x=v+(C<<10&4294967295|C>>>22),C=R+(v^(x|~T))+S[14]+2878612391&4294967295,R=x+(C<<15&4294967295|C>>>17),C=T+(x^(R|~v))+S[5]+4237533241&4294967295,T=R+(C<<21&4294967295|C>>>11),C=v+(R^(T|~x))+S[12]+1700485571&4294967295,v=T+(C<<6&4294967295|C>>>26),C=x+(T^(v|~R))+S[3]+2399980690&4294967295,x=v+(C<<10&4294967295|C>>>22),C=R+(v^(x|~T))+S[10]+4293915773&4294967295,R=x+(C<<15&4294967295|C>>>17),C=T+(x^(R|~v))+S[1]+2240044497&4294967295,T=R+(C<<21&4294967295|C>>>11),C=v+(R^(T|~x))+S[8]+1873313359&4294967295,v=T+(C<<6&4294967295|C>>>26),C=x+(T^(v|~R))+S[15]+4264355552&4294967295,x=v+(C<<10&4294967295|C>>>22),C=R+(v^(x|~T))+S[6]+2734768916&4294967295,R=x+(C<<15&4294967295|C>>>17),C=T+(x^(R|~v))+S[13]+1309151649&4294967295,T=R+(C<<21&4294967295|C>>>11),C=v+(R^(T|~x))+S[4]+4149444226&4294967295,v=T+(C<<6&4294967295|C>>>26),C=x+(T^(v|~R))+S[11]+3174756917&4294967295,x=v+(C<<10&4294967295|C>>>22),C=R+(v^(x|~T))+S[2]+718787259&4294967295,R=x+(C<<15&4294967295|C>>>17),C=T+(x^(R|~v))+S[9]+3951481745&4294967295,g.g[0]=g.g[0]+v&4294967295,g.g[1]=g.g[1]+(R+(C<<21&4294967295|C>>>11))&4294967295,g.g[2]=g.g[2]+R&4294967295,g.g[3]=g.g[3]+x&4294967295}r.prototype.u=function(g,v){v===void 0&&(v=g.length);for(var T=v-this.blockSize,S=this.B,R=this.h,x=0;x<v;){if(R==0)for(;x<=T;)i(this,g,x),x+=this.blockSize;if(typeof g=="string"){for(;x<v;)if(S[R++]=g.charCodeAt(x++),R==this.blockSize){i(this,S),R=0;break}}else for(;x<v;)if(S[R++]=g[x++],R==this.blockSize){i(this,S),R=0;break}}this.h=R,this.o+=v},r.prototype.v=function(){var g=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);g[0]=128;for(var v=1;v<g.length-8;++v)g[v]=0;var T=8*this.o;for(v=g.length-8;v<g.length;++v)g[v]=T&255,T/=256;for(this.u(g),g=Array(16),v=T=0;4>v;++v)for(var S=0;32>S;S+=8)g[T++]=this.g[v]>>>S&255;return g};function s(g,v){var T=l;return Object.prototype.hasOwnProperty.call(T,g)?T[g]:T[g]=v(g)}function o(g,v){this.h=v;for(var T=[],S=!0,R=g.length-1;0<=R;R--){var x=g[R]|0;S&&x==v||(T[R]=x,S=!1)}this.g=T}var l={};function u(g){return-128<=g&&128>g?s(g,function(v){return new o([v|0],0>v?-1:0)}):new o([g|0],0>g?-1:0)}function c(g){if(isNaN(g)||!isFinite(g))return f;if(0>g)return b(c(-g));for(var v=[],T=1,S=0;g>=T;S++)v[S]=g/T|0,T*=4294967296;return new o(v,0)}function d(g,v){if(g.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(g.charAt(0)=="-")return b(d(g.substring(1),v));if(0<=g.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(v,8)),S=f,R=0;R<g.length;R+=8){var x=Math.min(8,g.length-R),C=parseInt(g.substring(R,R+x),v);8>x?(x=c(Math.pow(v,x)),S=S.j(x).add(c(C))):(S=S.j(T),S=S.add(c(C)))}return S}var f=u(0),m=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(E(this))return-b(this).m();for(var g=0,v=1,T=0;T<this.g.length;T++){var S=this.i(T);g+=(0<=S?S:4294967296+S)*v,v*=4294967296}return g},t.toString=function(g){if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(k(this))return"0";if(E(this))return"-"+b(this).toString(g);for(var v=c(Math.pow(g,6)),T=this,S="";;){var R=O(T,v).g;T=I(T,R.j(v));var x=((0<T.g.length?T.g[0]:T.h)>>>0).toString(g);if(T=R,k(T))return x+S;for(;6>x.length;)x="0"+x;S=x+S}},t.i=function(g){return 0>g?0:g<this.g.length?this.g[g]:this.h};function k(g){if(g.h!=0)return!1;for(var v=0;v<g.g.length;v++)if(g.g[v]!=0)return!1;return!0}function E(g){return g.h==-1}t.l=function(g){return g=I(this,g),E(g)?-1:k(g)?0:1};function b(g){for(var v=g.g.length,T=[],S=0;S<v;S++)T[S]=~g.g[S];return new o(T,~g.h).add(m)}t.abs=function(){return E(this)?b(this):this},t.add=function(g){for(var v=Math.max(this.g.length,g.g.length),T=[],S=0,R=0;R<=v;R++){var x=S+(this.i(R)&65535)+(g.i(R)&65535),C=(x>>>16)+(this.i(R)>>>16)+(g.i(R)>>>16);S=C>>>16,x&=65535,C&=65535,T[R]=C<<16|x}return new o(T,T[T.length-1]&-2147483648?-1:0)};function I(g,v){return g.add(b(v))}t.j=function(g){if(k(this)||k(g))return f;if(E(this))return E(g)?b(this).j(b(g)):b(b(this).j(g));if(E(g))return b(this.j(b(g)));if(0>this.l(w)&&0>g.l(w))return c(this.m()*g.m());for(var v=this.g.length+g.g.length,T=[],S=0;S<2*v;S++)T[S]=0;for(S=0;S<this.g.length;S++)for(var R=0;R<g.g.length;R++){var x=this.i(S)>>>16,C=this.i(S)&65535,G=g.i(R)>>>16,B=g.i(R)&65535;T[2*S+2*R]+=C*B,y(T,2*S+2*R),T[2*S+2*R+1]+=x*B,y(T,2*S+2*R+1),T[2*S+2*R+1]+=C*G,y(T,2*S+2*R+1),T[2*S+2*R+2]+=x*G,y(T,2*S+2*R+2)}for(S=0;S<v;S++)T[S]=T[2*S+1]<<16|T[2*S];for(S=v;S<2*v;S++)T[S]=0;return new o(T,0)};function y(g,v){for(;(g[v]&65535)!=g[v];)g[v+1]+=g[v]>>>16,g[v]&=65535,v++}function P(g,v){this.g=g,this.h=v}function O(g,v){if(k(v))throw Error("division by zero");if(k(g))return new P(f,f);if(E(g))return v=O(b(g),v),new P(b(v.g),b(v.h));if(E(v))return v=O(g,b(v)),new P(b(v.g),v.h);if(30<g.g.length){if(E(g)||E(v))throw Error("slowDivide_ only works with positive integers.");for(var T=m,S=v;0>=S.l(g);)T=V(T),S=V(S);var R=j(T,1),x=j(S,1);for(S=j(S,2),T=j(T,2);!k(S);){var C=x.add(S);0>=C.l(g)&&(R=R.add(T),x=C),S=j(S,1),T=j(T,1)}return v=I(g,R.j(v)),new P(R,v)}for(R=f;0<=g.l(v);){for(T=Math.max(1,Math.floor(g.m()/v.m())),S=Math.ceil(Math.log(T)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),x=c(T),C=x.j(v);E(C)||0<C.l(g);)T-=S,x=c(T),C=x.j(v);k(x)&&(x=m),R=R.add(x),g=I(g,C)}return new P(R,g)}t.A=function(g){return O(this,g).h},t.and=function(g){for(var v=Math.max(this.g.length,g.g.length),T=[],S=0;S<v;S++)T[S]=this.i(S)&g.i(S);return new o(T,this.h&g.h)},t.or=function(g){for(var v=Math.max(this.g.length,g.g.length),T=[],S=0;S<v;S++)T[S]=this.i(S)|g.i(S);return new o(T,this.h|g.h)},t.xor=function(g){for(var v=Math.max(this.g.length,g.g.length),T=[],S=0;S<v;S++)T[S]=this.i(S)^g.i(S);return new o(T,this.h^g.h)};function V(g){for(var v=g.g.length+1,T=[],S=0;S<v;S++)T[S]=g.i(S)<<1|g.i(S-1)>>>31;return new o(T,g.h)}function j(g,v){var T=v>>5;v%=32;for(var S=g.g.length-T,R=[],x=0;x<S;x++)R[x]=0<v?g.i(x+T)>>>v|g.i(x+T+1)<<32-v:g.i(x+T);return new o(R,g.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ME=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,ns=o}).apply(typeof T_<"u"?T_:typeof self<"u"?self:typeof window<"u"?window:{});var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VE,FE,_a,jE,Ju,lp,UE,$E,zE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,p){return a==Array.prototype||a==Object.prototype||(a[h]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Au=="object"&&Au];for(var h=0;h<a.length;++h){var p=a[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var p=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var M=a[_];if(!(M in p))break e;p=p[M]}a=a[a.length-1],_=p[a],h=h(_),h!=_&&h!=null&&e(p,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var p=0,_=!1,M={next:function(){if(!_&&p<a.length){var U=p++;return{value:h(U,a[U]),done:!1}}return _=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,p){return a.call.apply(a.bind,arguments)}function f(a,h,p){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,_),a.apply(h,M)}}return function(){return a.apply(h,arguments)}}function m(a,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function w(a,h){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function k(a,h){function p(){}p.prototype=h.prototype,a.aa=h.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(_,M,U){for(var X=Array(arguments.length-2),je=2;je<arguments.length;je++)X[je-2]=arguments[je];return h.prototype[M].apply(_,X)}}function E(a){const h=a.length;if(0<h){const p=Array(h);for(let _=0;_<h;_++)p[_]=a[_];return p}return[]}function b(a,h){for(let p=1;p<arguments.length;p++){const _=arguments[p];if(u(_)){const M=a.length||0,U=_.length||0;a.length=M+U;for(let X=0;X<U;X++)a[M+X]=_[X]}else a.push(_)}}class I{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(a){return/^[\s\xa0]*$/.test(a)}function P(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function O(a){return O[" "](a),a}O[" "]=function(){};var V=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function j(a,h,p){for(const _ in a)h.call(p,a[_],_,a)}function g(a,h){for(const p in a)h.call(void 0,a[p],p,a)}function v(a){const h={};for(const p in a)h[p]=a[p];return h}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(a,h){let p,_;for(let M=1;M<arguments.length;M++){_=arguments[M];for(p in _)a[p]=_[p];for(let U=0;U<T.length;U++)p=T[U],Object.prototype.hasOwnProperty.call(_,p)&&(a[p]=_[p])}}function R(a){var h=1;a=a.split(":");const p=[];for(;0<h&&a.length;)p.push(a.shift()),h--;return a.length&&p.push(a.join(":")),p}function x(a){l.setTimeout(()=>{throw a},0)}function C(){var a=H;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class G{constructor(){this.h=this.g=null}add(h,p){const _=B.get();_.set(h,p),this.h?this.h.next=_:this.g=_,this.h=_}}var B=new I(()=>new Q,a=>a.reset());class Q{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,L=!1,H=new G,W=()=>{const a=l.Promise.resolve(void 0);Z=()=>{a.then(ae)}};var ae=()=>{for(var a;a=C();){try{a.h.call(a.g)}catch(p){x(p)}var h=B;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}L=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,h),l.removeEventListener("test",p,h)}catch{}return a}();function J(a,h){if(de.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(V){e:{try{O(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else p=="mouseover"?h=a.fromElement:p=="mouseout"&&(h=a.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:te[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&J.aa.h.call(this)}}k(J,de);var te={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Se(a,h,p,_,M){this.listener=a,this.proxy=null,this.src=h,this.type=p,this.capture=!!_,this.ha=M,this.key=++Oe,this.da=this.fa=!1}function we(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ee(a){this.src=a,this.g={},this.h=0}Ee.prototype.add=function(a,h,p,_,M){var U=a.toString();a=this.g[U],a||(a=this.g[U]=[],this.h++);var X=Fe(a,h,_,M);return-1<X?(h=a[X],p||(h.fa=!1)):(h=new Se(h,this.src,U,!!_,M),h.fa=p,a.push(h)),h};function He(a,h){var p=h.type;if(p in a.g){var _=a.g[p],M=Array.prototype.indexOf.call(_,h,void 0),U;(U=0<=M)&&Array.prototype.splice.call(_,M,1),U&&(we(h),a.g[p].length==0&&(delete a.g[p],a.h--))}}function Fe(a,h,p,_){for(var M=0;M<a.length;++M){var U=a[M];if(!U.da&&U.listener==h&&U.capture==!!p&&U.ha==_)return M}return-1}var kt="closure_lm_"+(1e6*Math.random()|0),sr={};function Qt(a,h,p,_,M){if(Array.isArray(h)){for(var U=0;U<h.length;U++)Qt(a,h[U],p,_,M);return null}return p=ks(p),a&&a[ge]?a.K(h,p,c(_)?!!_.capture:!!_,M):rh(a,h,p,!1,_,M)}function rh(a,h,p,_,M,U){if(!h)throw Error("Invalid event type");var X=c(M)?!!M.capture:!!M,je=or(a);if(je||(a[kt]=je=new Ee(a)),p=je.add(h,p,_,X,U),p.proxy)return p;if(_=ih(),p.proxy=_,_.src=a,_.listener=p,a.addEventListener)ke||(M=X),M===void 0&&(M=!1),a.addEventListener(h.toString(),_,M);else if(a.attachEvent)a.attachEvent(Ql(h.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ih(){function a(p){return h.call(a.src,a.listener,p)}const h=Mi;return a}function Kl(a,h,p,_,M){if(Array.isArray(h))for(var U=0;U<h.length;U++)Kl(a,h[U],p,_,M);else _=c(_)?!!_.capture:!!_,p=ks(p),a&&a[ge]?(a=a.i,h=String(h).toString(),h in a.g&&(U=a.g[h],p=Fe(U,p,_,M),-1<p&&(we(U[p]),Array.prototype.splice.call(U,p,1),U.length==0&&(delete a.g[h],a.h--)))):a&&(a=or(a))&&(h=a.g[h.toString()],a=-1,h&&(a=Fe(h,p,_,M)),(p=-1<a?h[a]:null)&&Ho(p))}function Ho(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[ge])He(h.i,a);else{var p=a.type,_=a.proxy;h.removeEventListener?h.removeEventListener(p,_,a.capture):h.detachEvent?h.detachEvent(Ql(p),_):h.addListener&&h.removeListener&&h.removeListener(_),(p=or(h))?(He(p,a),p.h==0&&(p.src=null,h[kt]=null)):we(a)}}}function Ql(a){return a in sr?sr[a]:sr[a]="on"+a}function Mi(a,h){if(a.da)a=!0;else{h=new J(h,this);var p=a.listener,_=a.ha||a.src;a.fa&&Ho(a),a=p.call(_,h)}return a}function or(a){return a=a[kt],a instanceof Ee?a:null}var Ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function ks(a){return typeof a=="function"?a:(a[Ss]||(a[Ss]=function(h){return a.handleEvent(h)}),a[Ss])}function We(){ne.call(this),this.i=new Ee(this),this.M=this,this.F=null}k(We,ne),We.prototype[ge]=!0,We.prototype.removeEventListener=function(a,h,p,_){Kl(this,a,h,p,_)};function ut(a,h){var p,_=a.F;if(_)for(p=[];_;_=_.F)p.push(_);if(a=a.M,_=h.type||h,typeof h=="string")h=new de(h,a);else if(h instanceof de)h.target=h.target||a;else{var M=h;h=new de(_,a),S(h,M)}if(M=!0,p)for(var U=p.length-1;0<=U;U--){var X=h.g=p[U];M=Vi(X,_,!0,h)&&M}if(X=h.g=a,M=Vi(X,_,!0,h)&&M,M=Vi(X,_,!1,h)&&M,p)for(U=0;U<p.length;U++)X=h.g=p[U],M=Vi(X,_,!1,h)&&M}We.prototype.N=function(){if(We.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var p=a.g[h],_=0;_<p.length;_++)we(p[_]);delete a.g[h],a.h--}}this.F=null},We.prototype.K=function(a,h,p,_){return this.i.add(String(a),h,!1,p,_)},We.prototype.L=function(a,h,p,_){return this.i.add(String(a),h,!0,p,_)};function Vi(a,h,p,_){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,U=0;U<h.length;++U){var X=h[U];if(X&&!X.da&&X.capture==p){var je=X.listener,Ct=X.ha||X.src;X.fa&&He(a.i,X),M=je.call(Ct,_)!==!1&&M}}return M&&!_.defaultPrevented}function Fi(a,h,p){if(typeof a=="function")p&&(a=m(a,p));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Yl(a){a.g=Fi(()=>{a.g=null,a.i&&(a.i=!1,Yl(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Wn extends ne{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Yl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(a){ne.call(this),this.h=a,this.g={}}k(jr,ne);var Wo=[];function qo(a){j(a.g,function(h,p){this.g.hasOwnProperty(p)&&Ho(h)},a),a.g={}}jr.prototype.N=function(){jr.aa.N.call(this),qo(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Go=l.JSON.stringify,Xl=l.JSON.parse,As=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Ps(){}Ps.prototype.h=null;function Cs(a){return a.h||(a.h=a.i())}function Jl(){}var Ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ko(){de.call(this,"d")}k(Ko,de);function Rs(){de.call(this,"c")}k(Rs,de);var ar={},D=null;function F(){return D=D||new We}ar.La="serverreachability";function $(a){de.call(this,ar.La,a)}k($,de);function Y(a){const h=F();ut(h,new $(h))}ar.STAT_EVENT="statevent";function ie(a,h){de.call(this,ar.STAT_EVENT,a),this.stat=h}k(ie,de);function ce(a){const h=F();ut(h,new ie(h,a))}ar.Ma="timingevent";function fe(a,h){de.call(this,ar.Ma,a),this.size=h}k(fe,de);function re(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function me(){this.g=!0}me.prototype.xa=function(){this.g=!1};function ve(a,h,p,_,M,U){a.info(function(){if(a.g)if(U)for(var X="",je=U.split("&"),Ct=0;Ct<je.length;Ct++){var Le=je[Ct].split("=");if(1<Le.length){var Ft=Le[0];Le=Le[1];var jt=Ft.split("_");X=2<=jt.length&&jt[1]=="type"?X+(Ft+"="+Le+"&"):X+(Ft+"=redacted&")}}else X=null;else X=U;return"XMLHTTP REQ ("+_+") [attempt "+M+"]: "+h+`
`+p+`
`+X})}function vt(a,h,p,_,M,U,X){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+M+"]: "+h+`
`+p+`
`+U+" "+X})}function Xe(a,h,p,_){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Ue(a,p)+(_?" "+_:"")})}function pe(a,h){a.info(function(){return"TIMEOUT: "+h})}me.prototype.info=function(){};function Ue(a,h){if(!a.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var _=p[a];if(!(2>_.length)){var M=_[1];if(Array.isArray(M)&&!(1>M.length)){var U=M[0];if(U!="noop"&&U!="stop"&&U!="close")for(var X=1;X<M.length;X++)M[X]=""}}}}return Go(p)}catch{return h}}var et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$r={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wn;function xn(){}k(xn,Ps),xn.prototype.g=function(){return new XMLHttpRequest},xn.prototype.i=function(){return{}},wn=new xn;function Yt(a,h,p,_){this.j=a,this.i=h,this.l=p,this.R=_||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lr}function lr(){this.i=null,this.g="",this.h=!1}var un={},zr={};function Br(a,h,p){a.L=1,a.v=tu(dr(h)),a.m=p,a.P=!0,ji(a,null)}function ji(a,h){a.F=Date.now(),Pt(a),a.A=dr(a.v);var p=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),pv(p.i,"t",_),a.C=0,p=a.j.J,a.h=new lr,a.g=Nv(a.j,p?h:null,!a.m),0<a.O&&(a.M=new Wn(m(a.Y,a,a.g),a.O)),h=a.U,p=a.g,_=a.ca;var M="readystatechange";Array.isArray(M)||(M&&(Wo[0]=M.toString()),M=Wo);for(var U=0;U<M.length;U++){var X=Qt(p,M[U],_||h.handleEvent,!1,h.h||h);if(!X)break;h.g[X.key]=X}h=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Y(),ve(a.i,a.u,a.A,a.l,a.R,a.m)}Yt.prototype.ca=function(a){a=a.target;const h=this.M;h&&hr(a)==3?h.j():this.Y(a)},Yt.prototype.Y=function(a){try{if(a==this.g)e:{const jt=hr(this.g);var h=this.g.Ba();const Ns=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||Ev(this.g)))){this.J||jt!=4||h==7||(h==8||0>=Ns?Y(3):Y(2)),ur(this);var p=this.g.Z();this.X=p;t:if(Ae(this)){var _=Ev(this.g);a="";var M=_.length,U=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cr(this),Hr(this);var X="";break t}this.h.i=new l.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,a+=this.h.i.decode(_[h],{stream:!(U&&h==M-1)});_.length=0,this.h.g+=a,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=p==200,vt(this.i,this.u,this.A,this.l,this.R,jt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Ct=this.g;if((je=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(je)){var Le=je;break t}}Le=null}if(p=Le)Xe(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sh(this,p);else{this.o=!1,this.s=3,ce(12),cr(this),Hr(this);break e}}if(this.P){p=!0;let Nn;for(;!this.J&&this.C<X.length;)if(Nn=At(this,X),Nn==zr){jt==4&&(this.s=4,ce(14),p=!1),Xe(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==un){this.s=4,ce(15),Xe(this.i,this.l,X,"[Invalid Chunk]"),p=!1;break}else Xe(this.i,this.l,Nn,null),sh(this,Nn);if(Ae(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||X.length!=0||this.h.h||(this.s=1,ce(16),p=!1),this.o=this.o&&p,!p)Xe(this.i,this.l,X,"[Invalid Chunked Response]"),cr(this),Hr(this);else if(0<X.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),dh(Ft),Ft.M=!0,ce(11))}}else Xe(this.i,this.l,X,null),sh(this,X);jt==4&&cr(this),this.o&&!this.J&&(jt==4?Cv(this.j,this):(this.o=!1,Pt(this)))}else VS(this.g),p==400&&0<X.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),cr(this),Hr(this)}}}catch{}finally{}};function Ae(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function At(a,h){var p=a.C,_=h.indexOf(`
`,p);return _==-1?zr:(p=Number(h.substring(p,_)),isNaN(p)?un:(_+=1,_+p>h.length?zr:(h=h.slice(_,_+p),a.C=_+p,h)))}Yt.prototype.cancel=function(){this.J=!0,cr(this)};function Pt(a){a.S=Date.now()+a.I,dt(a,a.I)}function dt(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=re(m(a.ba,a),h)}function ur(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Yt.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(pe(this.i,this.A),this.L!=2&&(Y(),ce(17)),cr(this),this.s=2,Hr(this)):dt(this,this.S-a)};function Hr(a){a.j.G==0||a.J||Cv(a.j,a)}function cr(a){ur(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,qo(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function sh(a,h){try{var p=a.j;if(p.G!=0&&(p.g==a||oh(p.h,a))){if(!a.K&&oh(p.h,a)&&p.G==3){try{var _=p.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var M=_;if(M[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)ou(p),iu(p);else break e;ch(p),ce(18)}}else p.za=M[1],0<p.za-p.T&&37500>M[2]&&p.F&&p.v==0&&!p.C&&(p.C=re(m(p.Za,p),6e3));if(1>=sv(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else $i(p,11)}else if((a.K||p.g==a)&&ou(p),!y(h))for(M=p.Da.g.parse(h),h=0;h<M.length;h++){let Le=M[h];if(p.T=Le[0],Le=Le[1],p.G==2)if(Le[0]=="c"){p.K=Le[1],p.ia=Le[2];const Ft=Le[3];Ft!=null&&(p.la=Ft,p.j.info("VER="+p.la));const jt=Le[4];jt!=null&&(p.Aa=jt,p.j.info("SVER="+p.Aa));const Ns=Le[5];Ns!=null&&typeof Ns=="number"&&0<Ns&&(_=1.5*Ns,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const Nn=a.g;if(Nn){const lu=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lu){var U=_.h;U.g||lu.indexOf("spdy")==-1&&lu.indexOf("quic")==-1&&lu.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(ah(U,U.h),U.h=null))}if(_.D){const hh=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;hh&&(_.ya=hh,qe(_.I,_.D,hh))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var X=a;if(_.qa=xv(_,_.J?_.ia:null,_.W),X.K){ov(_.h,X);var je=X,Ct=_.L;Ct&&(je.I=Ct),je.B&&(ur(je),Pt(je)),_.g=X}else Av(_);0<p.i.length&&su(p)}else Le[0]!="stop"&&Le[0]!="close"||$i(p,7);else p.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?$i(p,7):uh(p):Le[0]!="noop"&&p.l&&p.l.ta(Le),p.v=0)}}Y(4)}catch{}}var ES=class{constructor(a,h){this.g=a,this.map=h}};function rv(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function iv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function sv(a){return a.h?1:a.g?a.g.size:0}function oh(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function ah(a,h){a.g?a.g.add(h):a.h=h}function ov(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}rv.prototype.cancel=function(){if(this.i=av(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function av(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const p of a.g.values())h=h.concat(p.D);return h}return E(a.i)}function TS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],p=a.length,_=0;_<p;_++)h.push(a[_]);return h}h=[],p=0;for(_ in a)h[p++]=a[_];return h}function IS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var p=0;p<a;p++)h.push(p);return h}h=[],p=0;for(const _ in a)h[p++]=_;return h}}}function lv(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var p=IS(a),_=TS(a),M=_.length,U=0;U<M;U++)h.call(void 0,_[U],p&&p[U],a)}var uv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SS(a,h){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var _=a[p].indexOf("="),M=null;if(0<=_){var U=a[p].substring(0,_);M=a[p].substring(_+1)}else U=a[p];h(U,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ui(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ui){this.h=a.h,Zl(this,a.j),this.o=a.o,this.g=a.g,eu(this,a.s),this.l=a.l;var h=a.i,p=new Xo;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),cv(this,p),this.m=a.m}else a&&(h=String(a).match(uv))?(this.h=!1,Zl(this,h[1]||"",!0),this.o=Qo(h[2]||""),this.g=Qo(h[3]||"",!0),eu(this,h[4]),this.l=Qo(h[5]||"",!0),cv(this,h[6]||"",!0),this.m=Qo(h[7]||"")):(this.h=!1,this.i=new Xo(null,this.h))}Ui.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Yo(h,dv,!0),":");var p=this.g;return(p||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Yo(h,dv,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Yo(p,p.charAt(0)=="/"?PS:AS,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Yo(p,RS)),a.join("")};function dr(a){return new Ui(a)}function Zl(a,h,p){a.j=p?Qo(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function eu(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function cv(a,h,p){h instanceof Xo?(a.i=h,bS(a.i,a.h)):(p||(h=Yo(h,CS)),a.i=new Xo(h,a.h))}function qe(a,h,p){a.i.set(h,p)}function tu(a){return qe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Qo(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Yo(a,h,p){return typeof a=="string"?(a=encodeURI(a).replace(h,kS),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function kS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var dv=/[#\/\?@]/g,AS=/[#\?:]/g,PS=/[#\?]/g,CS=/[#\?@]/g,RS=/#/g;function Xo(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Wr(a){a.g||(a.g=new Map,a.h=0,a.i&&SS(a.i,function(h,p){a.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Xo.prototype,t.add=function(a,h){Wr(this),this.i=null,a=bs(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(h),this.h+=1,this};function hv(a,h){Wr(a),h=bs(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function fv(a,h){return Wr(a),h=bs(a,h),a.g.has(h)}t.forEach=function(a,h){Wr(this),this.g.forEach(function(p,_){p.forEach(function(M){a.call(h,M,_,this)},this)},this)},t.na=function(){Wr(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let _=0;_<h.length;_++){const M=a[_];for(let U=0;U<M.length;U++)p.push(h[_])}return p},t.V=function(a){Wr(this);let h=[];if(typeof a=="string")fv(this,a)&&(h=h.concat(this.g.get(bs(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)h=h.concat(a[p])}return h},t.set=function(a,h){return Wr(this),this.i=null,a=bs(this,a),fv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function pv(a,h,p){hv(a,h),0<p.length&&(a.i=null,a.g.set(bs(a,h),E(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var _=h[p];const U=encodeURIComponent(String(_)),X=this.V(_);for(_=0;_<X.length;_++){var M=U;X[_]!==""&&(M+="="+encodeURIComponent(String(X[_]))),a.push(M)}}return this.i=a.join("&")};function bs(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function bS(a,h){h&&!a.j&&(Wr(a),a.i=null,a.g.forEach(function(p,_){var M=_.toLowerCase();_!=M&&(hv(this,_),pv(this,M,p))},a)),a.j=h}function xS(a,h){const p=new me;if(l.Image){const _=new Image;_.onload=w(qr,p,"TestLoadImage: loaded",!0,h,_),_.onerror=w(qr,p,"TestLoadImage: error",!1,h,_),_.onabort=w(qr,p,"TestLoadImage: abort",!1,h,_),_.ontimeout=w(qr,p,"TestLoadImage: timeout",!1,h,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else h(!1)}function NS(a,h){const p=new me,_=new AbortController,M=setTimeout(()=>{_.abort(),qr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:_.signal}).then(U=>{clearTimeout(M),U.ok?qr(p,"TestPingServer: ok",!0,h):qr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),qr(p,"TestPingServer: error",!1,h)})}function qr(a,h,p,_,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),_(p)}catch{}}function DS(){this.g=new As}function OS(a,h,p){const _=p||"";try{lv(a,function(M,U){let X=M;c(M)&&(X=Go(M)),h.push(_+U+"="+encodeURIComponent(X))})}catch(M){throw h.push(_+"type="+encodeURIComponent("_badmap")),M}}function Jo(a){this.l=a.Ub||null,this.j=a.eb||!1}k(Jo,Ps),Jo.prototype.g=function(){return new nu(this.l,this.j)},Jo.prototype.i=function(a){return function(){return a}}({});function nu(a,h){We.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(nu,We),t=nu.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,ea(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ea(this)),this.g&&(this.readyState=3,ea(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function mv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Zo(this):ea(this),this.readyState==3&&mv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Zo(this))},t.Qa=function(a){this.g&&(this.response=a,Zo(this))},t.ga=function(){this.g&&Zo(this)};function Zo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ea(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=h.next();return a.join(`\r
`)};function ea(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(nu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function gv(a){let h="";return j(a,function(p,_){h+=_,h+=":",h+=p,h+=`\r
`}),h}function lh(a,h,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=gv(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):qe(a,h,p))}function ot(a){We.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(ot,We);var LS=/^https?$/i,MS=["POST","PUT"];t=ot.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wn.g(),this.v=this.o?Cs(this.o):Cs(wn),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(U){vv(this,U);return}if(a=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var M in _)p.set(M,_[M]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const U of _.keys())p.set(U,_.get(U));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(U=>U.toLowerCase()=="content-type"),M=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(MS,h,void 0))||_||M||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,X]of p)this.g.setRequestHeader(U,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wv(this),this.u=!0,this.g.send(a),this.u=!1}catch(U){vv(this,U)}};function vv(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,yv(a),ru(a)}function yv(a){a.A||(a.A=!0,ut(a,"complete"),ut(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ut(this,"complete"),ut(this,"abort"),ru(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ru(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_v(this):this.bb())},t.bb=function(){_v(this)};function _v(a){if(a.h&&typeof o<"u"&&(!a.v[1]||hr(a)!=4||a.Z()!=2)){if(a.u&&hr(a)==4)Fi(a.Ea,0,a);else if(ut(a,"readystatechange"),hr(a)==4){a.h=!1;try{const X=a.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var _;if(_=X===0){var M=String(a.D).match(uv)[1]||null;!M&&l.self&&l.self.location&&(M=l.self.location.protocol.slice(0,-1)),_=!LS.test(M?M.toLowerCase():"")}p=_}if(p)ut(a,"complete"),ut(a,"success");else{a.m=6;try{var U=2<hr(a)?a.g.statusText:""}catch{U=""}a.l=U+" ["+a.Z()+"]",yv(a)}}finally{ru(a)}}}}function ru(a,h){if(a.g){wv(a);const p=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||ut(a,"ready");try{p.onreadystatechange=_}catch{}}}function wv(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function hr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),Xl(h)}};function Ev(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function VS(a){const h={};a=(a.g&&2<=hr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(y(a[_]))continue;var p=R(a[_]);const M=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const U=h[M]||[];h[M]=U,U.push(p)}g(h,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ta(a,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||h}function Tv(a){this.Aa=0,this.i=[],this.j=new me,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ta("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ta("baseRetryDelayMs",5e3,a),this.cb=ta("retryDelaySeedMs",1e4,a),this.Wa=ta("forwardChannelMaxRetries",2,a),this.wa=ta("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new rv(a&&a.concurrentRequestLimit),this.Da=new DS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Tv.prototype,t.la=8,t.G=1,t.connect=function(a,h,p,_){ce(0),this.W=a,this.H=h||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=xv(this,null,this.W),su(this)};function uh(a){if(Iv(a),a.G==3){var h=a.U++,p=dr(a.I);if(qe(p,"SID",a.K),qe(p,"RID",h),qe(p,"TYPE","terminate"),na(a,p),h=new Yt(a,a.j,h),h.L=2,h.v=tu(dr(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=h.v,p=!0),p||(h.g=Nv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Pt(h)}bv(a)}function iu(a){a.g&&(dh(a),a.g.cancel(),a.g=null)}function Iv(a){iu(a),a.u&&(l.clearTimeout(a.u),a.u=null),ou(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function su(a){if(!iv(a.h)&&!a.s){a.s=!0;var h=a.Ga;Z||W(),L||(Z(),L=!0),H.add(h,a),a.B=0}}function FS(a,h){return sv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=re(m(a.Ga,a,h),Rv(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const M=new Yt(this,this.j,a);let U=this.o;if(this.S&&(U?(U=v(U),S(U,this.S)):U=this.S),this.m!==null||this.O||(M.H=U,U=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=kv(this,M,h),p=dr(this.I),qe(p,"RID",a),qe(p,"CVER",22),this.D&&qe(p,"X-HTTP-Session-Id",this.D),na(this,p),U&&(this.O?h="headers="+encodeURIComponent(String(gv(U)))+"&"+h:this.m&&lh(p,this.m,U)),ah(this.h,M),this.Ua&&qe(p,"TYPE","init"),this.P?(qe(p,"$req",h),qe(p,"SID","null"),M.T=!0,Br(M,p,null)):Br(M,p,h),this.G=2}}else this.G==3&&(a?Sv(this,a):this.i.length==0||iv(this.h)||Sv(this))};function Sv(a,h){var p;h?p=h.l:p=a.U++;const _=dr(a.I);qe(_,"SID",a.K),qe(_,"RID",p),qe(_,"AID",a.T),na(a,_),a.m&&a.o&&lh(_,a.m,a.o),p=new Yt(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),h&&(a.i=h.D.concat(a.i)),h=kv(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ah(a.h,p),Br(p,_,h)}function na(a,h){a.H&&j(a.H,function(p,_){qe(h,_,p)}),a.l&&lv({},function(p,_){qe(h,_,p)})}function kv(a,h,p){p=Math.min(a.i.length,p);var _=a.l?m(a.l.Na,a.l,a):null;e:{var M=a.i;let U=-1;for(;;){const X=["count="+p];U==-1?0<p?(U=M[0].g,X.push("ofs="+U)):U=0:X.push("ofs="+U);let je=!0;for(let Ct=0;Ct<p;Ct++){let Le=M[Ct].g;const Ft=M[Ct].map;if(Le-=U,0>Le)U=Math.max(0,M[Ct].g-100),je=!1;else try{OS(Ft,X,"req"+Le+"_")}catch{_&&_(Ft)}}if(je){_=X.join("&");break e}}}return a=a.i.splice(0,p),h.D=a,_}function Av(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;Z||W(),L||(Z(),L=!0),H.add(h,a),a.v=0}}function ch(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=re(m(a.Fa,a),Rv(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Pv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=re(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),iu(this),Pv(this))};function dh(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Pv(a){a.g=new Yt(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=dr(a.qa);qe(h,"RID","rpc"),qe(h,"SID",a.K),qe(h,"AID",a.T),qe(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&qe(h,"TO",a.ja),qe(h,"TYPE","xmlhttp"),na(a,h),a.m&&a.o&&lh(h,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=tu(dr(h)),p.m=null,p.P=!0,ji(p,a)}t.Za=function(){this.C!=null&&(this.C=null,iu(this),ch(this),ce(19))};function ou(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Cv(a,h){var p=null;if(a.g==h){ou(a),dh(a),a.g=null;var _=2}else if(oh(a.h,h))p=h.D,ov(a.h,h),_=1;else return;if(a.G!=0){if(h.o)if(_==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var M=a.B;_=F(),ut(_,new fe(_,p)),su(a)}else Av(a);else if(M=h.s,M==3||M==0&&0<h.X||!(_==1&&FS(a,h)||_==2&&ch(a)))switch(p&&0<p.length&&(h=a.h,h.i=h.i.concat(p)),M){case 1:$i(a,5);break;case 4:$i(a,10);break;case 3:$i(a,6);break;default:$i(a,2)}}}function Rv(a,h){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*h}function $i(a,h){if(a.j.info("Error code "+h),h==2){var p=m(a.fb,a),_=a.Xa;const M=!_;_=new Ui(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Zl(_,"https"),tu(_),M?xS(_.toString(),p):NS(_.toString(),p)}else ce(2);a.G=0,a.l&&a.l.sa(h),bv(a),Iv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function bv(a){if(a.G=0,a.ka=[],a.l){const h=av(a.h);(h.length!=0||a.i.length!=0)&&(b(a.ka,h),b(a.ka,a.i),a.h.i.length=0,E(a.i),a.i.length=0),a.l.ra()}}function xv(a,h,p){var _=p instanceof Ui?dr(p):new Ui(p);if(_.g!="")h&&(_.g=h+"."+_.g),eu(_,_.s);else{var M=l.location;_=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var U=new Ui(null);_&&Zl(U,_),h&&(U.g=h),M&&eu(U,M),p&&(U.l=p),_=U}return p=a.D,h=a.ya,p&&h&&qe(_,p,h),qe(_,"VER",a.la),na(a,_),_}function Nv(a,h,p){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new ot(new Jo({eb:p})):new ot(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dv(){}t=Dv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function au(){}au.prototype.g=function(a,h){return new cn(a,h)};function cn(a,h){We.call(this),this.g=new Tv(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!y(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new xs(this)}k(cn,We),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){uh(this.g)},cn.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=Go(a),a=p);h.i.push(new ES(h.Ya++,a)),h.G==3&&su(h)},cn.prototype.N=function(){this.g.l=null,delete this.j,uh(this.g),delete this.g,cn.aa.N.call(this)};function Ov(a){Ko.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const p in h){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}k(Ov,Ko);function Lv(){Rs.call(this),this.status=1}k(Lv,Rs);function xs(a){this.g=a}k(xs,Dv),xs.prototype.ua=function(){ut(this.g,"a")},xs.prototype.ta=function(a){ut(this.g,new Ov(a))},xs.prototype.sa=function(a){ut(this.g,new Lv)},xs.prototype.ra=function(){ut(this.g,"b")},au.prototype.createWebChannel=au.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,zE=function(){return new au},$E=function(){return F()},UE=ar,lp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},et.NO_ERROR=0,et.TIMEOUT=8,et.HTTP_ERROR=6,Ju=et,$r.COMPLETE="complete",jE=$r,Jl.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",We.prototype.listen=We.prototype.K,_a=Jl,FE=Jo,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,VE=ot}).apply(typeof Au<"u"?Au:typeof self<"u"?self:typeof window<"u"?window:{});const I_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Bm("@firebase/firestore");function pa(){return ds.logLevel}function le(t,...e){if(ds.logLevel<=xe.DEBUG){const n=e.map(qm);ds.debug(`Firestore (${jo}): ${t}`,...n)}}function br(t,...e){if(ds.logLevel<=xe.ERROR){const n=e.map(qm);ds.error(`Firestore (${jo}): ${t}`,...n)}}function So(t,...e){if(ds.logLevel<=xe.WARN){const n=e.map(qm);ds.warn(`Firestore (${jo}): ${t}`,...n)}}function qm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t="Unexpected state"){const e=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: `+t;throw br(e),new Error(e)}function Be(t,e){t||_e()}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class E2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class T2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class I2{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new kr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new kr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new BE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Bt(e)}}class S2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class k2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new S2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.R=n.token,new A2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=C2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Me(t,e){return t<e?-1:t>e?1:0}function ko(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Te(e)}static min(){return new Te(new wt(0,0))}static max(){return new Te(new wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return al.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof al?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends al{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const R2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends al{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return R2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ee(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ee(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ee(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he($e.fromString(e))}static fromName(e){return new he($e.fromString(e).popFirst(5))}static empty(){return new he($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new $e(e.slice()))}}function b2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new Ii(i,he.empty(),e)}function x2(t){return new Ii(t.readTime,t.key,-1)}class Ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ii(Te.min(),he.empty(),-1)}static max(){return new Ii(Te.max(),he.empty(),-1)}}function N2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==D2)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function L2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ml(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Gm.oe=-1;function Cd(t){return t==null}function Uc(t){return t===0&&1/t==-1/0}function M2(t){return typeof t=="number"&&Number.isInteger(t)&&!Uc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Es(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bt.RED,this.left=i??bt.EMPTY,this.right=s??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,i,s){return this}insert(e,n,r){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k_(this.data.getIterator())}getIteratorFrom(e){return new k_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class k_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new fn([])}unionWith(e){let n=new Ot(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ko(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new qE("Invalid base64 string: "+s):s}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const V2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if(Be(!!t),typeof t=="string"){let e=0;const n=V2.exec(t);if(Be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hs(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Km(t){const e=t.mapValue.fields.__previous_value__;return Rd(e)?Km(e):e}function ll(t){const e=Si(t.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class ul{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ul("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rd(t)?4:j2(t)?9007199254740991:10:_e()}function nr(t,e){if(t===e)return!0;const n=fs(t);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ll(t).isEqual(ll(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Si(i.timestampValue),l=Si(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return hs(i.bytesValue).isEqual(hs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return pt(i.geoPointValue.latitude)===pt(s.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return pt(i.integerValue)===pt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=pt(i.doubleValue),l=pt(s.doubleValue);return o===l?Uc(o)===Uc(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ko(t.arrayValue.values||[],e.arrayValue.values||[],nr);case 10:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(S_(o)!==S_(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!nr(o[u],l[u])))return!1;return!0}(t,e);default:return _e()}}function cl(t,e){return(t.values||[]).find(n=>nr(n,e))!==void 0}function Ao(t,e){if(t===e)return 0;const n=fs(t),r=fs(e);if(n!==r)return Me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=pt(s.integerValue||s.doubleValue),u=pt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return A_(t.timestampValue,e.timestampValue);case 4:return A_(ll(t),ll(e));case 5:return Me(t.stringValue,e.stringValue);case 6:return function(s,o){const l=hs(s),u=hs(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=Me(l[c],u[c]);if(d!==0)return d}return Me(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Me(pt(s.latitude),pt(o.latitude));return l!==0?l:Me(pt(s.longitude),pt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const l=s.values||[],u=o.values||[];for(let c=0;c<l.length&&c<u.length;++c){const d=Ao(l[c],u[c]);if(d)return d}return Me(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Cu.mapValue&&o===Cu.mapValue)return 0;if(s===Cu.mapValue)return 1;if(o===Cu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const m=Me(u[f],d[f]);if(m!==0)return m;const w=Ao(l[u[f]],c[d[f]]);if(w!==0)return w}return Me(u.length,d.length)}(t.mapValue,e.mapValue);default:throw _e()}}function A_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Si(t),r=Si(e),i=Me(n.seconds,r.seconds);return i!==0?i:Me(n.nanos,r.nanos)}function Po(t){return up(t)}function up(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Si(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=up(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${up(n.fields[o])}`;return i+"}"}(t.mapValue):_e()}function $c(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cp(t){return!!t&&"integerValue"in t}function Qm(t){return!!t&&"arrayValue"in t}function P_(t){return!!t&&"nullValue"in t}function C_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zu(t){return!!t&&"mapValue"in t}function Oa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Es(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Oa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function j2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oa(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Oa(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Es(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new rn(Oa(this.value))}}function GE(t){const e=[];return Es(t.fields,(n,r)=>{const i=new Nt([n]);if(Zu(r)){const s=GE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Wt(e,0,Te.min(),Te.min(),Te.min(),rn.empty(),0)}static newFoundDocument(e,n,r,i){return new Wt(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new Wt(e,2,n,Te.min(),Te.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Te.min(),Te.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n){this.position=e,this.inclusive=n}}function R_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=he.comparator(he.fromName(o.referenceValue),n.key):r=Ao(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function b_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n="asc"){this.field=e,this.dir=n}}function U2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{}class gt extends KE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new z2(e,n,r):n==="array-contains"?new W2(e,r):n==="in"?new q2(e,r):n==="not-in"?new G2(e,r):n==="array-contains-any"?new K2(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new B2(e,r):new H2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ao(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends KE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Hn(e,n)}matches(e){return QE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function QE(t){return t.op==="and"}function YE(t){return $2(t)&&QE(t)}function $2(t){for(const e of t.filters)if(e instanceof Hn)return!1;return!0}function dp(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+Po(t.value);if(YE(t))return t.filters.map(e=>dp(e)).join(",");{const e=t.filters.map(n=>dp(n)).join(",");return`${t.op}(${e})`}}function XE(t,e){return t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&nr(r.value,i.value)}(t,e):t instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&XE(o,i.filters[l]),!0):!1}(t,e):void _e()}function JE(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${Po(n.value)}`}(t):t instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(JE).join(" ,")+"}"}(t):"Filter"}class z2 extends gt{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class B2 extends gt{constructor(e,n){super(e,"in",n),this.keys=ZE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class H2 extends gt{constructor(e,n){super(e,"not-in",n),this.keys=ZE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ZE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class W2 extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qm(n)&&cl(n.arrayValue,this.value)}}class q2 extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cl(this.value.arrayValue,n)}}class G2 extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!cl(this.value.arrayValue,n)}}class K2 extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function x_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Q2(t,e,n,r,i,s,o)}function Ym(t){const e=Ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Cd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Po(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Po(r)).join(",")),e.ue=n}return e.ue}function Xm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!U2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!b_(t.startAt,e.startAt)&&b_(t.endAt,e.endAt)}function hp(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Y2(t,e,n,r,i,s,o,l){return new Ts(t,e,n,r,i,s,o,l)}function bd(t){return new Ts(t)}function N_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Jm(t){return t.collectionGroup!==null}function ao(t){const e=Ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ot(Nt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new dl(s,r))}),n.has(Nt.keyField().canonicalString())||e.ce.push(new dl(Nt.keyField(),r))}return e.ce}function Zn(t){const e=Ie(t);return e.le||(e.le=X2(e,ao(t))),e.le}function X2(t,e){if(t.limitType==="F")return x_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new dl(i.field,s)});const n=t.endAt?new Co(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Co(t.startAt.position,t.startAt.inclusive):null;return x_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fp(t,e){const n=t.filters.concat([e]);return new Ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zc(t,e,n){return new Ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return Xm(Zn(t),Zn(e))&&t.limitType===e.limitType}function eT(t){return`${Ym(Zn(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>JE(i)).join(", ")}]`),Cd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Po(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Po(i)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function Nd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):he.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ao(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=R_(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,ao(r),i)||r.endAt&&!function(o,l,u){const c=R_(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,ao(r),i))}(t,e)}function J2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tT(t){return(e,n)=>{let r=!1;for(const i of ao(t)){const s=Z2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Z2(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Ao(u,c):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return WE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new st(he.comparator);function xr(){return eb}const nT=new st(he.comparator);function wa(...t){let e=nT;for(const n of t)e=e.insert(n.key,n);return e}function rT(t){let e=nT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yi(){return La()}function iT(){return La()}function La(){return new Uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const tb=new st(he.comparator),nb=new Ot(he.comparator);function be(...t){let e=nb;for(const n of t)e=e.add(n);return e}const rb=new Ot(Me);function ib(){return rb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(e)?"-0":e}}function oT(t){return{integerValue:""+t}}function sb(t,e){return M2(e)?oT(e):sT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this._=void 0}}function ob(t,e,n){return t instanceof Bc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Rd(s)&&(s=Km(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof hl?lT(t,e):t instanceof fl?uT(t,e):function(i,s){const o=aT(i,s),l=D_(o)+D_(i.Pe);return cp(o)&&cp(i.Pe)?oT(l):sT(i.serializer,l)}(t,e)}function ab(t,e,n){return t instanceof hl?lT(t,e):t instanceof fl?uT(t,e):n}function aT(t,e){return t instanceof Hc?function(r){return cp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Bc extends Dd{}class hl extends Dd{constructor(e){super(),this.elements=e}}function lT(t,e){const n=cT(e);for(const r of t.elements)n.some(i=>nr(i,r))||n.push(r);return{arrayValue:{values:n}}}class fl extends Dd{constructor(e){super(),this.elements=e}}function uT(t,e){let n=cT(e);for(const r of t.elements)n=n.filter(i=>!nr(i,r));return{arrayValue:{values:n}}}class Hc extends Dd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function D_(t){return pt(t.integerValue||t.doubleValue)}function cT(t){return Qm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function lb(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof hl&&i instanceof hl||r instanceof fl&&i instanceof fl?ko(r.elements,i.elements,nr):r instanceof Hc&&i instanceof Hc?nr(r.Pe,i.Pe):r instanceof Bc&&i instanceof Bc}(t.transform,e.transform)}class ub{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ec(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Od{}function dT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zm(t.key,$n.none()):new Vl(t.key,t.data,$n.none());{const n=t.data,r=rn.empty();let i=new Ot(Nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Li(t.key,r,new fn(i.toArray()),$n.none())}}function cb(t,e,n){t instanceof Vl?function(i,s,o){const l=i.value.clone(),u=L_(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Li?function(i,s,o){if(!ec(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=L_(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(hT(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ma(t,e,n,r){return t instanceof Vl?function(s,o,l,u){if(!ec(s.precondition,o))return l;const c=s.value.clone(),d=M_(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Li?function(s,o,l,u){if(!ec(s.precondition,o))return l;const c=M_(s.fieldTransforms,u,o),d=o.data;return d.setAll(hT(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,l){return ec(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function db(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=aT(r.transform,i||null);s!=null&&(n===null&&(n=rn.empty()),n.set(r.field,s))}return n||null}function O_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ko(r,i,(s,o)=>lb(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vl extends Od{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Li extends Od{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function hT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function L_(t,e,n){const r=new Map;Be(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,ab(o,l,n[i]))}return r}function M_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ob(s,o,e))}return r}class Zm extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hb extends Od{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cb(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ma(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ma(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=dT(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&ko(this.mutations,e.mutations,(n,r)=>O_(n,r))&&ko(this.baseMutations,e.baseMutations,(n,r)=>O_(n,r))}}class eg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Be(e.mutations.length===r.length);let i=function(){return tb}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new eg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Ne;function gb(t){switch(t){default:return _e();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function fT(t){if(t===void 0)return br("GRPC error has no .code"),z.UNKNOWN;switch(t){case ht.OK:return z.OK;case ht.CANCELLED:return z.CANCELLED;case ht.UNKNOWN:return z.UNKNOWN;case ht.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ht.INTERNAL:return z.INTERNAL;case ht.UNAVAILABLE:return z.UNAVAILABLE;case ht.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ht.NOT_FOUND:return z.NOT_FOUND;case ht.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ht.ABORTED:return z.ABORTED;case ht.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ht.DATA_LOSS:return z.DATA_LOSS;default:return _e()}}(Ne=ht||(ht={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new ns([4294967295,4294967295],0);function V_(t){const e=vb().encode(t),n=new ME;return n.update(e),new Uint8Array(n.digest())}function F_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ns([n,r],0),new ns([i,s],0)]}class tg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ea(`Invalid padding: ${n}`);if(r<0)throw new Ea(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ea(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ea(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ns.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ns.fromNumber(r)));return i.compare(yb)===1&&(i=new ns([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=V_(e),[r,i]=F_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new tg(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=V_(e),[r,i]=F_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ea extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ld(Te.min(),i,new st(Me),xr(),be())}}class Fl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fl(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class pT{constructor(e,n){this.targetId=e,this.me=n}}class mT{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class j_{constructor(){this.fe=0,this.ge=$_(),this.pe=Kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=be(),n=be(),r=be();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:_e()}}),new Fl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=$_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _b{constructor(e){this.Le=e,this.Be=new Map,this.ke=xr(),this.qe=U_(),this.Qe=new st(Me)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:_e()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(hp(s))if(r===0){const o=new he(s.path);this.Ue(n,o,Wt.newNoDocument(o,Te.min()))}else Be(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=hs(r).toUint8Array()}catch(u){if(u instanceof qE)return So("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new tg(o,i,s)}catch(u){return So(u instanceof Ea?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&hp(l.target)){const u=new he(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Wt.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=be();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Ld(e,n,this.Qe,this.ke,r);return this.ke=xr(),this.qe=U_(),this.Qe=new st(Me),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new j_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ot(Me),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new j_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function U_(){return new st(he.comparator)}function $_(){return new st(he.comparator)}const wb={asc:"ASCENDING",desc:"DESCENDING"},Eb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tb={and:"AND",or:"OR"};class Ib{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pp(t,e){return t.useProto3Json||Cd(e)?e:{value:e}}function Wc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Sb(t,e){return Wc(t,e.toTimestamp())}function er(t){return Be(!!t),Te.fromTimestamp(function(n){const r=Si(n);return new wt(r.seconds,r.nanos)}(t))}function ng(t,e){return mp(t,e).canonicalString()}function mp(t,e){const n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vT(t){const e=$e.fromString(t);return Be(TT(e)),e}function gp(t,e){return ng(t.databaseId,e.path)}function Gh(t,e){const n=vT(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(_T(n))}function yT(t,e){return ng(t.databaseId,e)}function kb(t){const e=vT(t);return e.length===4?$e.emptyPath():_T(e)}function vp(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _T(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function z_(t,e,n){return{name:gp(t,e),fields:n.value.mapValue.fields}}function Ab(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Be(d===void 0||typeof d=="string"),Kt.fromBase64String(d||"")):(Be(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Kt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const d=c.code===void 0?z.UNKNOWN:fT(c.code);return new ee(d,c.message||"")}(o);n=new mT(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gh(t,r.document.name),s=er(r.document.updateTime),o=r.document.createTime?er(r.document.createTime):Te.min(),l=new rn({mapValue:{fields:r.document.fields}}),u=Wt.newFoundDocument(i,s,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new tc(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gh(t,r.document),s=r.readTime?er(r.readTime):Te.min(),o=Wt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new tc([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gh(t,r.document),s=r.removedTargetIds||[];n=new tc([],s,i,null)}else{if(!("filter"in e))return _e();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new mb(i,s),l=r.targetId;n=new pT(l,o)}}return n}function Pb(t,e){let n;if(e instanceof Vl)n={update:z_(t,e.key,e.value)};else if(e instanceof Zm)n={delete:gp(t,e.key)};else if(e instanceof Li)n={update:z_(t,e.key,e.data),updateMask:Mb(e.fieldMask)};else{if(!(e instanceof hb))return _e();n={verify:gp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Bc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof hl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof fl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Hc)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Sb(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:_e()}(t,e.precondition)),n}function Cb(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?er(i.updateTime):er(s);return o.isEqual(Te.min())&&(o=er(s)),new ub(o,i.transformResults||[])}(n,e))):[]}function Rb(t,e){return{documents:[yT(t,e.path)]}}function bb(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=yT(t,i);const s=function(c){if(c.length!==0)return ET(Hn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:Ms(m.field),direction:Db(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=pp(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function xb(t){let e=kb(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Be(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const m=wT(f);return m instanceof Hn&&YE(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(k){return new dl(Vs(k.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Cd(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,w=f.values||[];return new Co(w,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,w=f.values||[];return new Co(w,m)}(n.endAt)),Y2(e,i,o,s,l,"F",u,c)}function Nb(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vs(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vs(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Vs(n.unaryFilter.field);return gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vs(n.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(Vs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>wT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function Db(t){return wb[t]}function Ob(t){return Eb[t]}function Lb(t){return Tb[t]}function Ms(t){return{fieldPath:t.canonicalString()}}function Vs(t){return Nt.fromServerFormat(t.fieldPath)}function ET(t){return t instanceof gt?function(n){if(n.op==="=="){if(C_(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NAN"}};if(P_(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(C_(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NAN"}};if(P_(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(n.field),op:Ob(n.op),value:n.value}}}(t):t instanceof Hn?function(n){const r=n.getFilters().map(i=>ET(i));return r.length===1?r[0]:{compositeFilter:{op:Lb(n.op),filters:r}}}(t):_e()}function Mb(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n,r,i,s=Te.min(),o=Te.min(),l=Kt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.ct=e}}function Fb(t){const e=xb({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this._n=new Ub}addToCollectionParentIndex(e,n){return this._n.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Ii.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class Ub{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Ro(0)}static Ln(){return new Ro(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.changes=new Uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ma(r.mutation,i,fn.empty(),wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=Yi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=wa();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Yi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=xr();const o=La(),l=function(){return La()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Li)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ma(d.mutation,c,d.mutation.getFieldMask(),wt.now())):o.set(c.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return l.set(c,new zb(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=La();let i=new st((o,l)=>o-l),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||fn.empty();d=l.applyToLocalView(c,d),r.set(u,d);const f=(i.get(l.batchId)||be()).add(u);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,f=iT();d.forEach(m=>{if(!s.has(m)){const w=dT(n.get(m),r.get(m));w!==null&&f.set(m,w),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Jm(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(Yi());let l=-1,u=s;return o.next(c=>q.forEach(c,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),s.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,be())).next(d=>({batchId:l,changes:rT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=wa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=wa();return this.indexManager.getCollectionParents(e,s).next(l=>q.forEach(l,u=>{const c=function(f,m){return new Ts(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Wt.newInvalidDocument(d)))});let l=wa();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&Ma(d.mutation,c,fn.empty(),wt.now()),Nd(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return q.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:er(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Fb(i.bundledQuery),readTime:er(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.overlays=new st(he.comparator),this.hr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yi();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=Yi(),s=n.length+1,o=new he(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new st((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Yi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=Yi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return q.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pb(n,r));let s=this.hr.get(n);s===void 0&&(s=be(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.Pr=new Ot(Tt.Ir),this.Tr=new Ot(Tt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Tt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new he(new $e([])),r=new Tt(n,e),i=new Tt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new he(new $e([])),r=new Tt(n,e),i=new Tt(n,e+1);let s=be();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Tt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return he.comparator(e.key,n.key)||Me(e.pr,n.pr)}static Er(e,n){return Me(e.pr,n.pr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ot(Tt.Ir)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fb(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.wr=this.wr.add(new Tt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),i=new Tt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const l=this.Sr(o.pr);s.push(l)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Me);return n.forEach(i=>{const s=new Tt(i,0),o=new Tt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],l=>{r=r.add(l.pr)})}),q.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;he.isDocumentKey(s)||(s=s.child(""));const o=new Tt(new he(s),0);let l=new Ot(Me);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.pr)),!0)},o),q.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Be(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return q.forEach(n.mutations,i=>{const s=new Tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Tt(n,0),i=this.wr.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.vr=e,this.docs=function(){return new st(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=xr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Wt.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xr();const o=n.path,l=new he(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||N2(x2(d),r)<=0||(i.has(d.key)||Nd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){_e()}Fr(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Kb(this)}getSize(e){return q.resolve(this.size)}}class Kb extends $b{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.persistence=e,this.Mr=new Uo(n=>Ym(n),Xm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Or=0,this.Nr=new rg,this.targetCount=0,this.Lr=Ro.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),q.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.qn(n),q.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n){this.Br={},this.overlays={},this.kr=new Gm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Qb(this),this.indexManager=new jb,this.remoteDocumentCache=function(i){return new Gb(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Vb(n),this.$r=new Hb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Wb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new qb(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new Xb(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return q.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Xb extends O2{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.zr=new rg,this.jr=null}static Hr(e){return new ig(e)}get Jr(){if(this.jr)return this.jr;throw _e()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),q.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Jr,r=>{const i=he.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Te.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return q.or([()=>q.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=be(),i=be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new sg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return sR()?8:L2(Mt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Jb;return this.Ji(e,n,o).next(l=>{if(s.result=l,this.Ui)return this.Yi(e,n,o,l.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(pa()<=xe.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),q.resolve()):(pa()<=xe.DEBUG&&le("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(pa()<=xe.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):q.resolve())}ji(e,n){if(N_(n))return q.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=zc(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=be(...s);return this.zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,l);return this.Xi(n,c,o,u.readTime)?this.ji(e,zc(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return N_(n)||i.isEqual(Te.min())?q.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?q.resolve(null):(pa()<=xe.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ls(n)),this.es(e,o,n,b2(i,-1)).next(l=>l))})}Zi(e,n){let r=new Ot(tT(e));return n.forEach((i,s)=>{Nd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return pa()<=xe.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.zi.getDocumentsMatchingQuery(e,n,Ii.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new st(Me),this.rs=new Uo(s=>Ym(s),Xm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bb(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function tx(t,e,n,r){return new ex(t,e,n,r)}async function IT(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=be();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:o,addedBatchIds:l}))})})}function nx(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const f=c.batch,m=f.keys();let w=q.resolve();return m.forEach(k=>{w=w.next(()=>d.getEntry(u,k)).next(E=>{const b=c.docVersions.get(k);Be(b!==null),E.version.compareTo(b)<0&&(f.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),d.addEntry(E)))})}),w.next(()=>l.mutationQueue.removeMutationBatch(u,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=be();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ST(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function rx(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;l.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,f)));let w=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?w=w.withResumeToken(Kt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,r)),i=i.insert(f,w),function(E,b,I){return E.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(m,w,d)&&l.push(n.Qr.updateTargetData(s,w))});let u=xr(),c=be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(ix(s,o,e.documentUpdates).next(d=>{u=d.cs,c=d.ls})),!r.isEqual(Te.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return q.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ns=i,s))}function ix(t,e,n){let r=be(),i=be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xr();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Te.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):le("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{cs:o,ls:i}})}function sx(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ox(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new oi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function yp(t,e,n){const r=Ie(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ml(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function B_(t,e,n){const r=Ie(t);let i=Te.min(),s=be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=Ie(u),m=f.rs.get(d);return m!==void 0?q.resolve(f.ns.get(m)):f.Qr.getTargetData(c,d)}(r,o,Zn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Te.min(),n?s:be())).next(l=>(ax(r,J2(e),l),{documents:l,hs:s})))}function ax(t,e,n){let r=t.ss.get(e)||Te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class H_{constructor(){this.activeTargetIds=ib()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lx{constructor(){this.no=new H_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new H_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru=null;function Kh(){return Ru===null?Ru=function(){return 268435456+Math.round(2147483648*Math.random())}():Ru++,"0x"+Ru.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class hx extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const l=Kh(),u=this.vo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,u,c,i).then(d=>(le("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw So("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}xo(n,r,i,s,o,l){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=cx[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Kh();return new Promise((o,l)=>{const u=new VE;u.setWithCredentials(!0),u.listenOnce(jE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ju.NO_ERROR:const d=u.getResponseJson();le(zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Ju.TIMEOUT:le(zt,`RPC '${e}' ${s} timed out`),l(new ee(z.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const f=u.getStatus();if(le(zt,`RPC '${e}' ${s} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const k=function(b){const I=b.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(I)>=0?I:z.UNKNOWN}(w.status);l(new ee(k,w.message))}else l(new ee(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ee(z.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{le(zt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);le(zt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=Kh(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=zE(),l=$E(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new FE({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");le(zt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const f=o.createWebChannel(d,u);let m=!1,w=!1;const k=new dx({lo:b=>{w?le(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(m||(le(zt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),le(zt,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},ho:()=>f.close()}),E=(b,I,y)=>{b.listen(I,P=>{try{y(P)}catch(O){setTimeout(()=>{throw O},0)}})};return E(f,_a.EventType.OPEN,()=>{w||(le(zt,`RPC '${e}' stream ${i} transport opened.`),k.mo())}),E(f,_a.EventType.CLOSE,()=>{w||(w=!0,le(zt,`RPC '${e}' stream ${i} transport closed`),k.po())}),E(f,_a.EventType.ERROR,b=>{w||(w=!0,So(zt,`RPC '${e}' stream ${i} transport errored:`,b),k.po(new ee(z.UNAVAILABLE,"The operation could not be completed")))}),E(f,_a.EventType.MESSAGE,b=>{var I;if(!w){const y=b.data[0];Be(!!y);const P=y,O=P.error||((I=P[0])===null||I===void 0?void 0:I.error);if(O){le(zt,`RPC '${e}' stream ${i} received error:`,O);const V=O.status;let j=function(T){const S=ht[T];if(S!==void 0)return fT(S)}(V),g=O.message;j===void 0&&(j=z.INTERNAL,g="Unknown error status: "+V+" with message "+O.message),w=!0,k.po(new ee(j,g)),f.close()}else le(zt,`RPC '${e}' stream ${i} received:`,y),k.yo(y)}}),E(l,UE.STAT_EVENT,b=>{b.stat===lp.PROXY?le(zt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===lp.NOPROXY&&le(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.fo()},0),k}}function Qh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){return new Ib(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n,r,i,s,o,l,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new kT(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new ee(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fx extends AT{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=Ab(this.serializer,e),r=function(s){if(!("targetChange"in s))return Te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Te.min():o.readTime?er(o.readTime):Te.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=vp(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=hp(u)?{documents:Rb(s,u)}:{query:bb(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=gT(s,o.resumeToken);const c=pp(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(Te.min())>0){l.readTime=Wc(s,o.snapshotVersion.toTimestamp());const c=pp(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=Nb(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=vp(this.serializer),n.removeTarget=e,this.i_(n)}}class px extends AT{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=Cb(e.writeResults,e.commitTime),r=er(e.commitTime);return this.listener.A_(r,n)}return Be(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=vp(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Pb(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,mp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(z.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.xo(e,mp(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(z.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class gx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(br(n),this.y_=!1):le("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Is(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Ie(u);c.M_.add(4),await jl(c),c.N_.set("Unknown"),c.M_.delete(4),await Vd(c)}(this))})}),this.N_=new gx(r,i)}}async function Vd(t){if(Is(t))for(const e of t.x_)await e(!0)}async function jl(t){for(const e of t.x_)await e(!1)}function PT(t,e){const n=Ie(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),ug(n)?lg(n):$o(n).Xo()&&ag(n,e))}function og(t,e){const n=Ie(t),r=$o(n);n.F_.delete(e),r.Xo()&&CT(n,e),n.F_.size===0&&(r.Xo()?r.n_():Is(n)&&n.N_.set("Unknown"))}function ag(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$o(t).P_(e)}function CT(t,e){t.L_.xe(e),$o(t).I_(e)}function lg(t){t.L_=new _b({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),$o(t).start(),t.N_.w_()}function ug(t){return Is(t)&&!$o(t).Zo()&&t.F_.size>0}function Is(t){return Ie(t).M_.size===0}function RT(t){t.L_=void 0}async function yx(t){t.N_.set("Online")}async function _x(t){t.F_.forEach((e,n)=>{ag(t,e)})}async function wx(t,e){RT(t),ug(t)?(t.N_.D_(e),lg(t)):t.N_.set("Unknown")}async function Ex(t,e,n){if(t.N_.set("Online"),e instanceof mT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qc(t,r)}else if(e instanceof tc?t.L_.Ke(e):e instanceof pT?t.L_.He(e):t.L_.We(e),!n.isEqual(Te.min()))try{const r=await ST(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.L_.rt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const d=s.F_.get(u);if(!d)return;s.F_.set(u,d.withResumeToken(Kt.EMPTY_BYTE_STRING,d.snapshotVersion)),CT(s,u);const f=new oi(d.target,u,c,d.sequenceNumber);ag(s,f)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await qc(t,r)}}async function qc(t,e,n){if(!Ml(e))throw e;t.M_.add(1),await jl(t),t.N_.set("Offline"),n||(n=()=>ST(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Vd(t)})}function bT(t,e){return e().catch(n=>qc(t,n,e))}async function Fd(t){const e=Ie(t),n=ki(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Tx(e);)try{const i=await sx(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,Ix(e,i)}catch(i){await qc(e,i)}xT(e)&&NT(e)}function Tx(t){return Is(t)&&t.v_.length<10}function Ix(t,e){t.v_.push(e);const n=ki(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function xT(t){return Is(t)&&!ki(t).Zo()&&t.v_.length>0}function NT(t){ki(t).start()}async function Sx(t){ki(t).V_()}async function kx(t){const e=ki(t);for(const n of t.v_)e.d_(n.mutations)}async function Ax(t,e,n){const r=t.v_.shift(),i=eg.from(r,e,n);await bT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Fd(t)}async function Px(t,e){e&&ki(t).E_&&await async function(r,i){if(function(o){return gb(o)&&o!==z.ABORTED}(i.code)){const s=r.v_.shift();ki(r).t_(),await bT(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Fd(r)}}(t,e),xT(t)&&NT(t)}async function q_(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=Is(n);n.M_.add(3),await jl(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Vd(n)}async function Cx(t,e){const n=Ie(t);e?(n.M_.delete(2),await Vd(n)):e||(n.M_.add(2),await jl(n),n.N_.set("Unknown"))}function $o(t){return t.B_||(t.B_=function(n,r,i){const s=Ie(n);return s.f_(),new fx(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:yx.bind(null,t),To:_x.bind(null,t),Ao:wx.bind(null,t),h_:Ex.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),ug(t)?lg(t):t.N_.set("Unknown")):(await t.B_.stop(),RT(t))})),t.B_}function ki(t){return t.k_||(t.k_=function(n,r,i){const s=Ie(n);return s.f_(),new px(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:Sx.bind(null,t),Ao:Px.bind(null,t),R_:kx.bind(null,t),A_:Ax.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Fd(t)):(await t.k_.stop(),t.v_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new cg(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(t,e){if(br("AsyncQueue",`${e}: ${t}`),Ml(t))return new ee(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=wa(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new lo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.q_=new st(he.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):_e():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class bo{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new bo(e,n,lo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class bx{constructor(){this.queries=new Uo(e=>eT(e),xd),this.onlineState="Unknown",this.z_=new Set}}async function hg(t,e){const n=Ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new Rx,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=dg(o,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&pg(n)}async function fg(t,e){const n=Ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xx(t,e){const n=Ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.U_)l.H_(i)&&(r=!0);o.K_=i}}r&&pg(n)}function Nx(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function pg(t){t.z_.forEach(e=>{e.next()})}var _p,K_;(K_=_p||(_p={})).J_="default",K_.Cache="cache";class mg{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==_p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.key=e}}class OT{constructor(e){this.key=e}}class Dx{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=be(),this.mutatedKeys=be(),this.Ia=tT(e),this.Ta=new lo(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new G_,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),w=Nd(this.query,f)?f:null,k=!!m&&this.mutatedKeys.has(m.key),E=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let b=!1;m&&w?m.data.isEqual(w.data)?k!==E&&(r.track({type:3,doc:w}),b=!0):this.Ra(m,w)||(r.track({type:2,doc:w}),b=!0,(u&&this.Ia(w,u)>0||c&&this.Ia(w,c)<0)&&(l=!0)):!m&&w?(r.track({type:0,doc:w}),b=!0):m&&!w&&(r.track({type:1,doc:m}),b=!0,(u||c)&&(l=!0)),b&&(w?(o=o.add(w),s=E?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:l,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,f)=>function(w,k){const E=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return E(w)-E(k)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,o.length!==0||c?{snapshot:new bo(this.query,e.Ta,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new G_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=be(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new OT(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new DT(r))}),n}pa(e){this.la=e.hs,this.Pa=be();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return bo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class Ox{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Lx{constructor(e){this.key=e,this.wa=!1}}class Mx{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Uo(l=>eT(l),xd),this.Da=new Map,this.Ca=new Set,this.va=new st(he.comparator),this.Fa=new Map,this.Ma=new rg,this.xa={},this.Oa=new Map,this.Na=Ro.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function Vx(t,e,n=!0){const r=UT(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await LT(r,e,n,!0),i}async function Fx(t,e){const n=UT(t);await LT(n,e,!0,!1)}async function LT(t,e,n,r){const i=await ox(t.localStore,Zn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let l;return r&&(l=await jx(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&PT(t.remoteStore,i),l}async function jx(t,e,n,r,i){t.Ba=(f,m,w)=>async function(E,b,I,y){let P=b.view.da(I);P.Xi&&(P=await B_(E.localStore,b.query,!1).then(({documents:g})=>b.view.da(g,P)));const O=y&&y.targetChanges.get(b.targetId),V=y&&y.targetMismatches.get(b.targetId)!=null,j=b.view.applyChanges(P,E.isPrimaryClient,O,V);return Y_(E,b.targetId,j.fa),j.snapshot}(t,f,m,w);const s=await B_(t.localStore,e,!0),o=new Dx(e,s.hs),l=o.da(s.documents),u=Fl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);Y_(t,n,c.fa);const d=new Ox(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function Ux(t,e,n){const r=Ie(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!xd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await yp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&og(r.remoteStore,i.targetId),wp(r,i.targetId)}).catch(Ll)):(wp(r,i.targetId),await yp(r.localStore,i.targetId,!0))}async function $x(t,e){const n=Ie(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),og(n.remoteStore,r.targetId))}async function zx(t,e,n){const r=Qx(t);try{const i=await function(o,l){const u=Ie(o),c=wt.now(),d=l.reduce((w,k)=>w.add(k.key),be());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let k=xr(),E=be();return u.os.getEntries(w,d).next(b=>{k=b,k.forEach((I,y)=>{y.isValidDocument()||(E=E.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,k)).next(b=>{f=b;const I=[];for(const y of l){const P=db(y,f.get(y.key).overlayedDocument);P!=null&&I.push(new Li(y.key,P,GE(P.value.mapValue),$n.exists(!0)))}return u.mutationQueue.addMutationBatch(w,c,I,l)}).next(b=>{m=b;const I=b.applyToLocalDocumentSet(f,E);return u.documentOverlayCache.saveOverlays(w,b.batchId,I)})}).then(()=>({batchId:m.batchId,changes:rT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.xa[o.currentUser.toKey()];c||(c=new st(Me)),c=c.insert(l,u),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Ul(r,i.changes),await Fd(r.remoteStore)}catch(i){const s=dg(i,"Failed to persist write");n.reject(s)}}async function MT(t,e){const n=Ie(t);try{const r=await rx(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(Be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Be(o.wa):i.removedDocuments.size>0&&(Be(o.wa),o.wa=!1))}),await Ul(n,r,e)}catch(r){await Ll(r)}}function Q_(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const l=o.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=Ie(o);u.onlineState=l;let c=!1;u.queries.forEach((d,f)=>{for(const m of f.U_)m.j_(l)&&(c=!0)}),c&&pg(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Bx(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new st(he.comparator);o=o.insert(s,Wt.newNoDocument(s,Te.min()));const l=be().add(s),u=new Ld(Te.min(),new Map,new st(Me),o,l);await MT(r,u),r.va=r.va.remove(s),r.Fa.delete(e),gg(r)}else await yp(r.localStore,e,!1).then(()=>wp(r,e,n)).catch(Ll)}async function Hx(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await nx(n.localStore,e);FT(n,r,null),VT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ul(n,i)}catch(i){await Ll(i)}}async function Wx(t,e,n){const r=Ie(t);try{const i=await function(o,l){const u=Ie(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(f=>(Be(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);FT(r,e,n),VT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ul(r,i)}catch(i){await Ll(i)}}function VT(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function FT(t,e,n){const r=Ie(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function wp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||jT(t,r)})}function jT(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(og(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),gg(t))}function Y_(t,e,n){for(const r of n)r instanceof DT?(t.Ma.addReference(r.key,e),qx(t,r)):r instanceof OT?(le("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||jT(t,r.key)):_e()}function qx(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(le("SyncEngine","New document in limbo: "+n),t.Ca.add(r),gg(t))}function gg(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new he($e.fromString(e)),r=t.Na.next();t.Fa.set(r,new Lx(n)),t.va=t.va.insert(n,r),PT(t.remoteStore,new oi(Zn(bd(n.path)),r,"TargetPurposeLimboResolution",Gm.oe))}}async function Ul(t,e,n){const r=Ie(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((l,u)=>{o.push(r.Ba(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient){const d=c&&!c.fromCache;r.sharedClientState.updateQueryState(u.targetId,d?"current":"not-current")}if(c){i.push(c);const d=sg.Ki(u.targetId,c);s.push(d)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,c){const d=Ie(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>q.forEach(c,m=>q.forEach(m.qi,w=>d.persistence.referenceDelegate.addReference(f,m.targetId,w)).next(()=>q.forEach(m.Qi,w=>d.persistence.referenceDelegate.removeReference(f,m.targetId,w)))))}catch(f){if(!Ml(f))throw f;le("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const w=d.ns.get(m),k=w.snapshotVersion,E=w.withLastLimboFreeSnapshotVersion(k);d.ns=d.ns.insert(m,E)}}}(r.localStore,s))}async function Gx(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await IT(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(l=>{l.forEach(u=>{u.reject(new ee(z.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ul(n,r.us)}}function Kx(t,e){const n=Ie(t),r=n.Fa.get(e);if(r&&r.wa)return be().add(r.key);{let i=be();const s=n.Da.get(e);if(!s)return i;for(const o of s){const l=n.ba.get(o);i=i.unionWith(l.view.Ea)}return i}}function UT(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bx.bind(null,e),e.Sa.h_=xx.bind(null,e.eventManager),e.Sa.ka=Nx.bind(null,e.eventManager),e}function Qx(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wx.bind(null,e),e}class X_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Md(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return tx(this.persistence,new Zb,e.initialUser,this.serializer)}createPersistence(e){return new Yb(ig.Hr,this.serializer)}createSharedClientState(e){return new lx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Yx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Q_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gx.bind(null,this.syncEngine),await Cx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bx}()}createDatastore(e){const n=Md(e.databaseInfo.databaseId),r=function(s){return new hx(s)}(e.databaseInfo);return function(s,o,l,u){return new mx(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new vx(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Q_(this.syncEngine,n,0),function(){return W_.D()?new W_:new ux}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,d){const f=new Mx(i,s,o,l,u,c);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ie(r);le("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await jl(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=HE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{le("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(le("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yh(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await IT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function J_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Zx(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>q_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>q_(e.remoteStore,i)),t._onlineComponents=e}function Jx(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Zx(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Jx(n))throw n;So("Error using user provided cache. Falling back to memory cache: "+n),await Yh(t,new X_)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await Yh(t,new X_);return t._offlineComponents}async function $T(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await J_(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await J_(t,new Yx))),t._onlineComponents}function eN(t){return $T(t).then(e=>e.syncEngine)}async function Gc(t){const e=await $T(t),n=e.eventManager;return n.onListen=Vx.bind(null,e.syncEngine),n.onUnlisten=Ux.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Fx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$x.bind(null,e.syncEngine),n}function tN(t,e,n={}){const r=new kr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const d=new vg({next:m=>{o.enqueueAndForget(()=>fg(s,f));const w=m.docs.has(l);!w&&m.fromCache?c.reject(new ee(z.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&m.fromCache&&u&&u.source==="server"?c.reject(new ee(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new mg(bd(l.path),d,{includeMetadataChanges:!0,ra:!0});return hg(s,f)}(await Gc(t),t.asyncQueue,e,n,r)),r.promise}function nN(t,e,n={}){const r=new kr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const d=new vg({next:m=>{o.enqueueAndForget(()=>fg(s,f)),m.fromCache&&u.source==="server"?c.reject(new ee(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new mg(l,d,{includeMetadataChanges:!0,ra:!0});return hg(s,f)}(await Gc(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t,e,n){if(!n)throw new ee(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rN(t,e,n,r){if(e===!0&&r===!0)throw new ee(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function e0(t){if(!he.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function t0(t){if(he.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function Pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jd(t);throw new ee(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ud{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ee(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new E2;switch(r.type){case"firstParty":return new k2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Z_.get(n);r&&(le("ComponentProvider","Removing Datastore"),Z_.delete(n),r.terminate())}(this),Promise.resolve()}}function iN(t,e,n,r={}){var i;const s=(t=Pn(t,Ud))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&So("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Bt.MOCK_USER;else{l=ZC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ee(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Bt(c)}t._authCredentials=new T2(new BE(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ir(this.firestore,e,this._query)}}class Zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class wi extends ir{constructor(e,n,r){super(e,n,bd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new he(e))}withConverter(e){return new wi(this.firestore,e,this._path)}}function wr(t,e,...n){if(t=Vt(t),BT("collection","path",e),t instanceof Ud){const r=$e.fromString(e,...n);return t0(r),new wi(t,null,r)}{if(!(t instanceof Zt||t instanceof wi))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return t0(r),new wi(t.firestore,null,r)}}function pl(t,e,...n){if(t=Vt(t),arguments.length===1&&(e=HE.newId()),BT("doc","path",e),t instanceof Ud){const r=$e.fromString(e,...n);return e0(r),new Zt(t,null,new he(r))}{if(!(t instanceof Zt||t instanceof wi))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return e0(r),new Zt(t.firestore,t instanceof wi?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new kT(this,"async_queue_retry"),this.hu=()=>{const n=Qh();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Qh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Qh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new kr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Ml(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw br("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=cg.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&_e()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function r0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ai extends Ud{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new sN}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||HT(this),this._firestoreClient.terminate()}}function oN(t,e){const n=typeof t=="object"?t:DE(),r=typeof t=="string"?t:"(default)",i=Wm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=XC("firestore");s&&iN(i,...s)}return i}function $d(t){return t._firestoreClient||HT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function HT(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,d){return new F2(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,zT(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Xx(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xo(Kt.fromBase64String(e))}catch(n){throw new ee(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xo(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=/^__.*__$/;class lN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Li(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vl(e,this.data,n,this.fieldTransforms)}}class WT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Li(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class wg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new wg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Kc(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(qT(this.fu)&&aN.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class uN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Md(e)}Fu(e,n,r,i=!1){return new wg({fu:e,methodName:n,vu:r,path:Nt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bd(t){const e=t._freezeSettings(),n=Md(t._databaseId);return new uN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cN(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Eg("Data must be an object, but it was:",o,r);const l=KT(r,o);let u,c;if(s.merge)u=new fn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const m=Ep(e,f,n);if(!o.contains(m))throw new ee(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);YT(d,m)||d.push(m)}u=new fn(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new lN(new rn(l),u,c)}class Hd extends yg{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hd}}function dN(t,e,n,r){const i=t.Fu(1,e,n);Eg("Data must be an object, but it was:",i,r);const s=[],o=rn.empty();Es(r,(u,c)=>{const d=Tg(e,u,n);c=Vt(c);const f=i.Su(d);if(c instanceof Hd)s.push(d);else{const m=$l(c,f);m!=null&&(s.push(d),o.set(d,m))}});const l=new fn(s);return new WT(o,l,i.fieldTransforms)}function hN(t,e,n,r,i,s){const o=t.Fu(1,e,n),l=[Ep(e,r,n)],u=[i];if(s.length%2!=0)throw new ee(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(Ep(e,s[m])),u.push(s[m+1]);const c=[],d=rn.empty();for(let m=l.length-1;m>=0;--m)if(!YT(c,l[m])){const w=l[m];let k=u[m];k=Vt(k);const E=o.Su(w);if(k instanceof Hd)c.push(w);else{const b=$l(k,E);b!=null&&(c.push(w),d.set(w,b))}}const f=new fn(c);return new WT(d,f,o.fieldTransforms)}function GT(t,e,n,r=!1){return $l(n,t.Fu(r?4:3,e))}function $l(t,e){if(QT(t=Vt(t)))return Eg("Unsupported field value:",e,t),KT(t,e);if(t instanceof yg)return function(r,i){if(!qT(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=$l(l,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sb(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=wt.fromDate(r);return{timestampValue:Wc(i.serializer,s)}}if(r instanceof wt){const s=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wc(i.serializer,s)}}if(r instanceof _g)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xo)return{bytesValue:gT(i.serializer,r._byteString)};if(r instanceof Zt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ng(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${jd(r)}`)}(t,e)}function KT(t,e){const n={};return WE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(t,(r,i)=>{const s=$l(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function QT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof _g||t instanceof xo||t instanceof Zt||t instanceof yg)}function Eg(t,e,n){if(!QT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=jd(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Ep(t,e,n){if((e=Vt(e))instanceof zd)return e._internalPath;if(typeof e=="string")return Tg(t,e);throw Kc("Field path arguments must be of type string or ",t,!1,void 0,n)}const fN=new RegExp("[~\\*/\\[\\]]");function Tg(t,e,n){if(e.search(fN)>=0)throw Kc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zd(...e.split("."))._internalPath}catch{throw Kc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ee(z.INVALID_ARGUMENT,l+t+u)}function YT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pN extends Ig{data(){return super.data()}}function Wd(t,e){return typeof e=="string"?Tg(t,e):e instanceof zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class qd extends Sg{}function ai(t,e,...n){let r=[];e instanceof Sg&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof kg).length,l=s.filter(u=>u instanceof Gd).length;if(o>1||o>0&&l>0)throw new ee(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Gd extends qd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gd(e,n,r)}_apply(e){const n=this._parse(e);return ZT(e._query,n),new ir(e.firestore,e.converter,fp(e._query,n))}_parse(e){const n=Bd(e.firestore);return function(s,o,l,u,c,d,f){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ee(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){s0(f,d);const w=[];for(const k of f)w.push(i0(u,s,k));m={arrayValue:{values:w}}}else m=i0(u,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||s0(f,d),m=GT(l,o,f,d==="in"||d==="not-in");return gt.create(c,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ml(t,e,n){const r=e,i=Wd("where",t);return Gd._create(i,r,n)}class kg extends Sg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)ZT(o,u),o=fp(o,u)}(e._query,n),new ir(e.firestore,e.converter,fp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ag extends qd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ag(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ee(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ee(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dl(s,o)}(e._query,this._field,this._direction);return new ir(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ts(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Va(t,e="asc"){const n=e,r=Wd("orderBy",t);return Ag._create(r,n)}class Pg extends qd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Pg(e,n,r)}_apply(e){return new ir(e.firestore,e.converter,zc(e._query,this._limit,this._limitType))}}function Qc(t){return Pg._create("limit",t,"F")}class Cg extends qd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Cg(e,n,r)}_apply(e){const n=mN(e,this.type,this._docOrFields,this._inclusive);return new ir(e.firestore,e.converter,function(i,s){return new Ts(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function JT(...t){return Cg._create("startAfter",t,!1)}function mN(t,e,n,r){if(n[0]=Vt(n[0]),n[0]instanceof Ig)return function(s,o,l,u,c){if(!u)throw new ee(z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const f of ao(s))if(f.field.isKeyField())d.push($c(o,u.key));else{const m=u.data.field(f.field);if(Rd(m))throw new ee(z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(m===null){const w=f.field.canonicalString();throw new ee(z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}d.push(m)}return new Co(d,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Bd(t.firestore);return function(o,l,u,c,d,f){const m=o.explicitOrderBy;if(d.length>m.length)throw new ee(z.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const w=[];for(let k=0;k<d.length;k++){const E=d[k];if(m[k].field.isKeyField()){if(typeof E!="string")throw new ee(z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof E}`);if(!Jm(o)&&E.indexOf("/")!==-1)throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${E}' contains a slash.`);const b=o.path.child($e.fromString(E));if(!he.isDocumentKey(b))throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const I=new he(b);w.push($c(l,I))}else{const b=GT(u,c,E);w.push(b)}}return new Co(w,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function i0(t,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new ee(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jm(e)&&n.indexOf("/")!==-1)throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!he.isDocumentKey(r))throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $c(t,new he(r))}if(n instanceof Zt)return $c(t,n._key);throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jd(n)}.`)}function s0(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZT(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gN{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw _e()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Es(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new _g(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Km(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ll(e));default:return null}}convertTimestamp(e){const n=Si(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Be(TT(r));const i=new ul(r.get(1),r.get(3)),s=new he(r.popFirst(5));return i.isEqual(n)||br(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eI extends Ig{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class nc extends eI{data(e={}){return super.data(e)}}class tI{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ta(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nc(this._firestore,this._userDataWriter,r.key,r,new Ta(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new nc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ta(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new nc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ta(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:yN(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t){t=Pn(t,Zt);const e=Pn(t.firestore,Ai);return tN($d(e),t._key).then(n=>rI(e,t,n))}class Rg extends gN{constructor(e){super(),this.firestore=e}convertBytes(e){return new xo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function Fa(t){t=Pn(t,ir);const e=Pn(t.firestore,Ai),n=$d(e),r=new Rg(e);return XT(t._query),nN(n,t._query).then(i=>new tI(e,r,t,i))}function nI(t,e,n,...r){t=Pn(t,Zt);const i=Pn(t.firestore,Ai),s=Bd(i);let o;return o=typeof(e=Vt(e))=="string"||e instanceof zd?hN(s,"updateDoc",t._key,e,n,r):dN(s,"updateDoc",t._key,e),bg(i,[o.toMutation(t._key,$n.exists(!0))])}function wN(t){return bg(Pn(t.firestore,Ai),[new Zm(t._key,$n.none())])}function EN(t,e){const n=Pn(t.firestore,Ai),r=pl(t),i=vN(t.converter,e);return bg(n,[cN(Bd(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then(()=>r)}function Kd(t,...e){var n,r,i;t=Vt(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||r0(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(r0(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let u,c,d;if(t instanceof Zt)c=Pn(t.firestore,Ai),d=bd(t._key.path),u={next:f=>{e[o]&&e[o](rI(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Pn(t,ir);c=Pn(f.firestore,Ai),d=f._query;const m=new Rg(c);u={next:w=>{e[o]&&e[o](new tI(c,m,f,w))},error:e[o+1],complete:e[o+2]},XT(t._query)}return function(m,w,k,E){const b=new vg(E),I=new mg(w,b,k);return m.asyncQueue.enqueueAndForget(async()=>hg(await Gc(m),I)),()=>{b.$a(),m.asyncQueue.enqueueAndForget(async()=>fg(await Gc(m),I))}}($d(c),d,l,u)}function bg(t,e){return function(r,i){const s=new kr;return r.asyncQueue.enqueueAndForget(async()=>zx(await eN(r),i,s)),s.promise}($d(t),e)}function rI(t,e,n){const r=n.docs.get(e._key),i=new Rg(t);return new eI(t,i,e._key,r,new Ta(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){jo=i})(Fo),Io(new us("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Ai(new I2(r.getProvider("auth-internal")),new P2(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),_i(I_,"4.6.3",e),_i(I_,"4.6.3","esm2017")})();var TN="firebase",IN="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(TN,IN,"app");function xg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SN=iI,sI=new Dl("auth","Firebase",iI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Bm("@firebase/auth");function kN(t,...e){Yc.logLevel<=xe.WARN&&Yc.warn(`Auth (${Fo}): ${t}`,...e)}function rc(t,...e){Yc.logLevel<=xe.ERROR&&Yc.error(`Auth (${Fo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t,...e){throw Dg(t,...e)}function zn(t,...e){return Dg(t,...e)}function Ng(t,e,n){const r=Object.assign(Object.assign({},SN()),{[e]:n});return new Dl("auth","Firebase",r).create(e,{appName:t.name})}function rs(t){return Ng(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AN(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&rr(t,"argument-error"),Ng(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sI.create(t,...e)}function ye(t,e,...n){if(!t)throw Dg(e,...n)}function Er(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rc(e),new Error(e)}function Nr(t,e){t||Er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function PN(){return o0()==="http:"||o0()==="https:"}function o0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PN()||nR()||"connection"in navigator)?navigator.onLine:!0}function RN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=eR()||rR()}get(){return CN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){Nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new zl(3e4,6e4);function Lg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zo(t,e,n,r,i={}){return aI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Ol(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),oI.fetch()(lI(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function aI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bN),e);try{const i=new DN(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw bu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw bu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw bu(t,"user-disabled",o);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ng(t,d,c);rr(t,d)}}catch(i){if(i instanceof Vr)throw i;rr(t,"network-request-failed",{message:String(i)})}}async function NN(t,e,n,r,i={}){const s=await zo(t,e,n,r,i);return"mfaPendingCredential"in s&&rr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function lI(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Og(t.config,i):`${t.config.apiScheme}://${i}`}class DN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),xN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(t,e){return zo(t,"POST","/v1/accounts:delete",e)}async function uI(t,e){return zo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LN(t,e=!1){const n=Vt(t),r=await n.getIdToken(e),i=Mg(r);ye(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ja(Xh(i.auth_time)),issuedAtTime:ja(Xh(i.iat)),expirationTime:ja(Xh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Xh(t){return Number(t)*1e3}function Mg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rc("JWT malformed, contained fewer than 3 sections"),null;try{const i=AE(n);return i?JSON.parse(i):(rc("Failed to decode base64 JWT payload"),null)}catch(i){return rc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function a0(t){const e=Mg(t);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vr&&MN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function MN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await gl(t,uI(n,{idToken:r}));ye(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?cI(s.providerUserInfo):[],l=jN(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=u?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Ip(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function FN(t){const e=Vt(t);await Xc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jN(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cI(t){return t.map(e=>{var{providerId:n}=e,r=xg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(t,e){const n=await aI(t,{},async()=>{const r=Ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=lI(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",oI.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $N(t,e){return zo(t,"POST","/v2/accounts:revokeToken",Lg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=a0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await UN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new uo;return r&&(ye(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ye(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ye(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){ye(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=xg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ip(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await gl(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LN(this,e)}reload(){return FN(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_r(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await gl(this,ON(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,u,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,k=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,I=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:P,emailVerified:O,isAnonymous:V,providerData:j,stsTokenManager:g}=n;ye(P&&g,e,"internal-error");const v=uo.fromJSON(this.name,g);ye(typeof P=="string",e,"internal-error"),Kr(f,e.name),Kr(m,e.name),ye(typeof O=="boolean",e,"internal-error"),ye(typeof V=="boolean",e,"internal-error"),Kr(w,e.name),Kr(k,e.name),Kr(E,e.name),Kr(b,e.name),Kr(I,e.name),Kr(y,e.name);const T=new Tr({uid:P,auth:e,email:m,emailVerified:O,displayName:f,isAnonymous:V,photoURL:k,phoneNumber:w,tenantId:E,stsTokenManager:v,createdAt:I,lastLoginAt:y});return j&&Array.isArray(j)&&(T.providerData=j.map(S=>Object.assign({},S))),b&&(T._redirectEventId=b),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new uo;i.updateFromServerResponse(n);const s=new Tr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ye(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?cI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new uo;l.updateFromIdToken(r);const u=new Tr({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ip(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Map;function Ir(t){Nr(t instanceof Function,"Expected a class definition");let e=l0.get(t);return e?(Nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,l0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dI.type="NONE";const u0=dI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t,e,n){return`firebase:${t}:${e}:${n}`}class co{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ic(this.userKey,i.apiKey,s),this.fullPersistenceKey=ic("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new co(Ir(u0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ir(u0);const o=ic(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const d=await c._get(o);if(d){const f=Tr._fromJSON(e,d);c!==s&&(l=f),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new co(s,e,r):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new co(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gI(e))return"Blackberry";if(vI(e))return"Webos";if(Vg(e))return"Safari";if((e.includes("chrome/")||fI(e))&&!e.includes("edge/"))return"Chrome";if(mI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hI(t=Mt()){return/firefox\//i.test(t)}function Vg(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fI(t=Mt()){return/crios\//i.test(t)}function pI(t=Mt()){return/iemobile/i.test(t)}function mI(t=Mt()){return/android/i.test(t)}function gI(t=Mt()){return/blackberry/i.test(t)}function vI(t=Mt()){return/webos/i.test(t)}function Qd(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zN(t=Mt()){var e;return Qd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BN(){return iR()&&document.documentMode===10}function yI(t=Mt()){return Qd(t)||mI(t)||vI(t)||gI(t)||/windows phone/i.test(t)||pI(t)}function HN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e=[]){let n;switch(t){case"Browser":n=c0(Mt());break;case"Worker":n=`${c0(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(t,e={}){return zo(t,"GET","/v2/passwordPolicy",Lg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=6;class KN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:GN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d0(this),this.idTokenSubscription=new d0(this),this.beforeStateQueue=new WN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ir(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uI(this,{idToken:e}),r=await Tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_r(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_r(this.app))return Promise.reject(rs(this));const n=e?Vt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _r(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _r(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qN(this),n=new KN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $N(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ir(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[Ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_I(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&kN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yd(t){return Vt(t)}class d0{constructor(e){this.auth=e,this.observer=null,this.addObserver=hR(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YN(t){Fg=t}function XN(t){return Fg.loadJS(t)}function JN(){return Fg.gapiScript}function ZN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(t,e){const n=Wm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Fc(s,e??{}))return i;rr(i,"already-initialized")}return n.initialize({options:e})}function tD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ir);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function nD(t,e,n){const r=Yd(t);ye(r._canInitEmulator,r,"emulator-config-failed"),ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=wI(e),{host:o,port:l}=rD(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),iD()}function wI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rD(t){const e=wI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:h0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:h0(o)}}}function h0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,n){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(t,e){return NN(t,"POST","/v1/accounts:signInWithIdp",Lg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="http://localhost";class ps extends EI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=xg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ps(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:sD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ol(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl extends jg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Bl{constructor(){super("facebook.com")}static credential(e){return ps._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ps._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return gr.credential(n,r)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Bl{constructor(){super("github.com")}static credential(e){return ps._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.GITHUB_SIGN_IN_METHOD="github.com";ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Bl{constructor(){super("twitter.com")}static credential(e,n){return ps._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ri.credential(n,r)}catch{return null}}}ri.TWITTER_SIGN_IN_METHOD="twitter.com";ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Tr._fromIdTokenResponse(e,r,i),o=f0(r);return new No({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=f0(r);return new No({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function f0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Vr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Jc(e,n,r,i)}}function TI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(t,s,e,r):s})}async function oD(t,e,n=!1){const r=await gl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return No._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t,e,n=!1){const{auth:r}=t;if(_r(r.app))return Promise.reject(rs(r));const i="reauthenticate";try{const s=await gl(t,TI(r,i,e,t),n);ye(s.idToken,r,"internal-error");const o=Mg(s.idToken);ye(o,r,"internal-error");const{sub:l}=o;return ye(t.uid===l,r,"user-mismatch"),No._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&rr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t,e,n=!1){if(_r(t.app))return Promise.reject(rs(t));const r="signIn",i=await TI(t,r,e),s=await No._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function uD(t,e,n,r){return Vt(t).onIdTokenChanged(e,n,r)}function cD(t,e,n){return Vt(t).beforeAuthStateChanged(e,n)}const Zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){const t=Mt();return Vg(t)||Qd(t)}const hD=1e3,fD=10;class SI extends II{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=dD()&&HN(),this.fallbackToPolling=yI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);BN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fD):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SI.type="LOCAL";const pD=SI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI extends II{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kI.type="SESSION";const AI=kI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Xd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,s)),u=await mD(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const c=Ug("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return window}function vD(t){tr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function yD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _D(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wD(){return PI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="firebaseLocalStorageDb",ED=1,ed="firebaseLocalStorage",RI="fbase_key";class Hl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jd(t,e){return t.transaction([ed],e?"readwrite":"readonly").objectStore(ed)}function TD(){const t=indexedDB.deleteDatabase(CI);return new Hl(t).toPromise()}function Sp(){const t=indexedDB.open(CI,ED);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ed,{keyPath:RI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ed)?e(r):(r.close(),await TD(),e(await Sp()))})})}async function p0(t,e,n){const r=Jd(t,!0).put({[RI]:e,value:n});return new Hl(r).toPromise()}async function ID(t,e){const n=Jd(t,!1).get(e),r=await new Hl(n).toPromise();return r===void 0?null:r.value}function m0(t,e){const n=Jd(t,!0).delete(e);return new Hl(n).toPromise()}const SD=800,kD=3;class bI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xd._getInstance(wD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await yD(),!this.activeServiceWorker)return;this.sender=new gD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_D()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sp();return await p0(e,Zc,"1"),await m0(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>p0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ID(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>m0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Jd(i,!1).getAll();return new Hl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bI.type="LOCAL";const AD=bI;new zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t,e){return e?Ir(e):(ye(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g extends EI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PD(t){return lD(t.auth,new $g(t),t.bypassAuthState)}function CD(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),aD(n,new $g(t),t.bypassAuthState)}async function RD(t){const{auth:e,user:n}=t;return ye(n,e,"internal-error"),oD(n,new $g(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PD;case"linkViaPopup":case"linkViaRedirect":return RD;case"reauthViaPopup":case"reauthViaRedirect":return CD;default:rr(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=new zl(2e3,1e4);async function xD(t,e,n){if(_r(t.app))return Promise.reject(zn(t,"operation-not-supported-in-this-environment"));const r=Yd(t);AN(t,e,jg);const i=xI(r,n);return new Xi(r,"signInViaPopup",e,i).executeNotNull()}class Xi extends NI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Xi.currentPopupAction&&Xi.currentPopupAction.cancel(),Xi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=Ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bD.get())};e()}}Xi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="pendingRedirect",sc=new Map;class DD extends NI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=sc.get(this.auth._key());if(!e){try{const r=await OD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}sc.set(this.auth._key(),e)}return this.bypassAuthState||sc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OD(t,e){const n=VD(e),r=MD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function LD(t,e){sc.set(t._key(),e)}function MD(t){return Ir(t._redirectPersistence)}function VD(t){return ic(ND,t.config.apiKey,t.name)}async function FD(t,e,n=!1){if(_r(t.app))return Promise.reject(rs(t));const r=Yd(t),i=xI(r,e),o=await new DD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=10*60*1e3;class UD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$D(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jD&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(e))}saveEventToCache(e){this.cachedEventUids.add(g0(e)),this.lastProcessedEventTime=Date.now()}}function g0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $D(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(t,e={}){return zo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HD=/^https?/;async function WD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zD(t);for(const n of e)try{if(qD(n))return}catch{}rr(t,"unauthorized-domain")}function qD(t){const e=Tp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!HD.test(n))return!1;if(BD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new zl(3e4,6e4);function v0(){const t=tr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KD(t){return new Promise((e,n)=>{var r,i,s;function o(){v0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v0(),n(zn(t,"network-request-failed"))},timeout:GD.get()})}if(!((i=(r=tr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=tr().gapi)===null||s===void 0)&&s.load)o();else{const l=ZN("iframefcb");return tr()[l]=()=>{gapi.load?o():n(zn(t,"network-request-failed"))},XN(`${JN()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw oc=null,e})}let oc=null;function QD(t){return oc=oc||KD(t),oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new zl(5e3,15e3),XD="__/auth/iframe",JD="emulator/auth/iframe",ZD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tO(t){const e=t.config;ye(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Og(e,JD):`https://${t.config.authDomain}/${XD}`,r={apiKey:e.apiKey,appName:t.name,v:Fo},i=eO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ol(r).slice(1)}`}async function nO(t){const e=await QD(t),n=tr().gapi;return ye(n,t,"internal-error"),e.open({where:document.body,url:tO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=zn(t,"network-request-failed"),l=tr().setTimeout(()=>{s(o)},YD.get());function u(){tr().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iO=500,sO=600,oO="_blank",aO="http://localhost";class y0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lO(t,e,n,r=iO,i=sO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},rO),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Mt().toLowerCase();n&&(l=fI(c)?oO:n),hI(c)&&(e=e||aO,u.scrollbars="yes");const d=Object.entries(u).reduce((m,[w,k])=>`${m}${w}=${k},`,"");if(zN(c)&&l!=="_self")return uO(e||"",l),new y0(null);const f=window.open(e||"",l,d);ye(f,t,"popup-blocked");try{f.focus()}catch{}return new y0(f)}function uO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="__/auth/handler",dO="emulator/auth/handler",hO=encodeURIComponent("fac");async function _0(t,e,n,r,i,s){ye(t.config.authDomain,t,"auth-domain-config-required"),ye(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fo,eventId:i};if(e instanceof jg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",dR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Bl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await t._getAppCheckToken(),c=u?`#${hO}=${encodeURIComponent(u)}`:"";return`${fO(t)}?${Ol(l).slice(1)}${c}`}function fO({config:t}){return t.emulator?Og(t,dO):`https://${t.authDomain}/${cO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="webStorageSupport";class pO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AI,this._completeRedirectFn=FD,this._overrideRedirectResult=LD}async _openPopup(e,n,r,i){var s;Nr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await _0(e,n,r,Tp(),i);return lO(e,o,Ug())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await _0(e,n,r,Tp(),i);return vD(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Nr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nO(e),r=new UD(e);return n.register("authEvent",i=>(ye(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jh,{type:Jh},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Jh];o!==void 0&&n(!!o),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yI()||Vg()||Qd()}}const mO=pO;var w0="@firebase/auth",E0="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yO(t){Io(new us("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;ye(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_I(t)},c=new QN(r,i,s,u);return tD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Io(new us("auth-internal",e=>{const n=Yd(e.getProvider("auth").getImmediate());return(r=>new gO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(w0,E0,vO(t)),_i(w0,E0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=5*60,wO=RE("authIdTokenMaxAge")||_O;let T0=null;const EO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wO)return;const i=n==null?void 0:n.token;T0!==i&&(T0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function TO(t=DE()){const e=Wm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=eD(t,{popupRedirectResolver:mO,persistence:[AD,pD,AI]}),r=RE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=EO(s.toString());cD(n,o,()=>o(n.currentUser)),uD(n,l=>o(l))}}const i=PE("auth");return i&&nD(n,`http://${i}`),n}function IO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}YN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",IO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yO("Browser");const SO={apiKey:"AIzaSyAIxAGgXD5PfoxNFakRqvIqZyY9UmG71D4",authDomain:"storycorner-30cf4.firebaseapp.com",projectId:"storycorner-30cf4",storageBucket:"storycorner-30cf4.appspot.com",messagingSenderId:"273132527834",appId:"1:273132527834:web:6e96e9f916b52cad8785e3",measurementId:"G-XQ1J4HM0L7"},OI=NE(SO),kO=TO(OI),AO=new gr,pn=oN(OI),PO=()=>A.jsxs("div",{className:"skeleton__newPost",children:[A.jsxs("div",{className:"skeleton__newPost_user",children:[A.jsx("div",{className:"skeleton__newPost_user-image skeleton"}),A.jsxs("div",{className:"skeleton__newPost_user-greet",children:[A.jsx("div",{className:"skeleton__newPost_user-greet-name skeleton"}),A.jsx("div",{className:"skeleton__newPost_user-greet-question skeleton"})]})]}),A.jsx("div",{className:"skeleton__newPost_input skeleton"})]}),zg=({setIsModalOpen:t,isModalOpen:e,story:n,setStory:r})=>{var R;const i="",[s,o]=N.useState((n==null?void 0:n.title)||""),[l,u]=N.useState((n==null?void 0:n.post)||""),[c,d]=N.useState((n==null?void 0:n.keyWords.toString().replaceAll(","," "))||""),[f,m]=N.useState((n==null?void 0:n.image)||i),[w,k]=N.useState(""),E=N.useContext(bn);N.useEffect(()=>{e&&n&&(o(n.title||""),u(n.post||""),d(n.keyWords.toString().replaceAll(","," ")||""),m(n.image||i),I(n.image||i),k(""))},[e,n]);const[b,I]=N.useState((n==null?void 0:n.image)||i),y=async x=>{try{const C=await EN(wr(pn,"posts"),x);console.log("Document written with ID: ",C.id)}catch(C){console.error("Error adding document: ",C)}},P=async(x,C)=>{try{const G=pl(pn,"posts",C);await nI(G,{...x}),console.log("Document updated with ID: ",C)}catch(G){console.error("Error updating document: ",G)}},O=()=>{const x=new Date,C=x.getUTCFullYear(),G=x.getUTCMonth()+1,B=x.getUTCDate(),Q=x.getUTCHours(),Z=x.getUTCMinutes(),L=x.getUTCSeconds(),H=`${C}-${G.toString().padStart(2,"0")}-${B.toString().padStart(2,"0")}`,W=`${Q.toString().padStart(2,"0")}:${Z.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`;return`${H} ${W}`},V=(x,C,G,B)=>{const Q=new FileReader;Q.onload=Z=>{var H;const L=new Image;L.onload=()=>{const W=document.createElement("canvas"),ae=W.getContext("2d");let ne=L.width,de=L.height;ne>de?ne>C&&(de*=C/ne,ne=C):de>G&&(ne*=G/de,de=G),W.width=ne,W.height=de,ae==null||ae.drawImage(L,0,0,ne,de);const ke=W.toDataURL("image/jpeg");B(ke)},L.src=(H=Z.target)==null?void 0:H.result},Q.readAsDataURL(x)},j=x=>{var G;const C=(G=x.target.files)==null?void 0:G[0];C&&V(C,800,800,B=>{I(B),m(B)})},g=()=>{t(!1),n||v()},v=()=>{I(""),m(i),o(""),u(""),d("")},T=(x,C)=>x.title!==C.title||x.post!==C.post||x.keyWords.toString()!==C.keyWords.toString()||x.image!==C.image,S=x=>{var B,Q,Z;x.preventDefault();const C=O(),G={title:s,post:l,keyWords:Array.from(new Set(c.replaceAll(",","").split(" ")??[""])),likeCount:(n==null?void 0:n.likeCount)||[],writtenOn:(n==null?void 0:n.writtenOn)||C,lastUpdated:C,authorName:((B=E==null?void 0:E.user)==null?void 0:B.displayName)??"",authorId:((Q=E==null?void 0:E.user)==null?void 0:Q.uid)??"",authorImage:((Z=E==null?void 0:E.user)==null?void 0:Z.photoURL)??"",image:b!==""?b:i};n?T(n,G)?(P(G,n.id),r&&r({...G,id:n.id}),g()):k("No changes detected, post not updated."):(y(G),g())};return A.jsx(zm,{open:e,addClass:"newPost__modal",children:A.jsxs("div",{className:"newPost__modal_content",children:[A.jsxs("div",{className:"newPost__modal_content_user",children:[A.jsx("div",{className:"newPost__modal_content_user-details",children:A.jsx(Nl,{image:(R=E==null?void 0:E.user)==null?void 0:R.photoURL,about:"profile picture",addClass:"newPost__modal_content_user-picture",name:"Harikrishnan",description:`${n?"Ready to make changes to your post?":"What do you have in mind?"}`})}),A.jsx("div",{className:"newPost__modal_interaction",children:A.jsx(xt,{handleFunction:g,type:"button",addClass:"closs-button",children:"X"})})]}),A.jsx("p",{className:`newPost__modal_message${w!==""?" show":""}`,children:w}),A.jsxs("form",{className:"newPost__modal_informations",onSubmit:S,children:[A.jsx(oo,{placeholder:"Post title",addClass:"newPost__modal_informations-title",required:!0,value:s,handlerFunctionOnChange:x=>o(x.target.value)}),A.jsx(BC,{placeholder:"Let's begin the post",rows:5,addClass:"newPost__modal_informations-post",required:!0,value:l,handlerFunctionOnChange:x=>u(x.target.value)}),A.jsx(oo,{placeholder:"Add some keywords",addClass:"newPost__modal_informations-keyWords",required:!0,value:c,handlerFunctionOnChange:x=>d(x.target.value)}),A.jsx("p",{className:"newPost__modal_informations-keyWords-message",children:"Add some keywords separated by space. To club words use hyphen (-) (example: first-second-thired)"}),A.jsxs("div",{className:"newPost__modal_informations-upload",children:[A.jsxs("div",{className:"newPost__modal_informations-upload-file-message",children:[A.jsx(oo,{placeholder:"jhsbdckj",addClass:"newPost__modal_informations-file",file:!0,handlerFunctionOnChange:j}),A.jsx("p",{className:"newPost__modal_informations-message",children:"If no image is selected a default one will be added"})]}),(b||f)&&A.jsx("img",{src:b||f,alt:"Uploaded",className:"newPost__modal_informations-upload-image"})]}),A.jsxs("div",{className:"newPost__modal_interaction",children:[n?A.jsx(A.Fragment,{}):A.jsx(xt,{handleFunction:v,type:"button",children:"Reset"}),A.jsx(xt,{type:"submit",addClass:`${n?"update-button":""}`,children:n?"Update":"Post now"})]})]})]})})},CO=({isLoading:t})=>{var o,l;const e=N.useContext(bn),[n,r]=N.useState(!1),i=N.useRef(null),s=()=>{r(!0)};return N.useEffect(()=>{!n&&i.current&&i.current.blur()},[n]),A.jsx(Vo,{addClass:"newPost",children:t?A.jsx(PO,{}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"newPost__user",children:A.jsx(Nl,{image:(o=e==null?void 0:e.user)==null?void 0:o.photoURL,about:"profile picture",name:(l=e==null?void 0:e.user)==null?void 0:l.displayName,description:"What do you have in mind?"})}),A.jsx(oo,{placeholder:"Start writing a post...",handlerFunctionOnClick:s,addClass:"newPost__input",ref:i}),A.jsx(zg,{isModalOpen:n,setIsModalOpen:r,story:null})]})})};function I0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function se(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I0(Object(n),!0).forEach(function(r){Et(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function RO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xO(t,e,n){return e&&bO(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Et(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bg(t,e){return DO(t)||LO(t,e)||LI(t,e)||VO()}function Wl(t){return NO(t)||OO(t)||LI(t)||MO()}function NO(t){if(Array.isArray(t))return kp(t)}function DO(t){if(Array.isArray(t))return t}function OO(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LO(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function LI(t,e){if(t){if(typeof t=="string")return kp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kp(t,e)}}function kp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MO(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S0=function(){},Hg={},MI={},VI=null,FI={mark:S0,measure:S0};try{typeof window<"u"&&(Hg=window),typeof document<"u"&&(MI=document),typeof MutationObserver<"u"&&(VI=MutationObserver),typeof performance<"u"&&(FI=performance)}catch{}var FO=Hg.navigator||{},k0=FO.userAgent,A0=k0===void 0?"":k0,Pi=Hg,Ye=MI,P0=VI,xu=FI;Pi.document;var Fr=!!Ye.documentElement&&!!Ye.head&&typeof Ye.addEventListener=="function"&&typeof Ye.createElement=="function",jI=~A0.indexOf("MSIE")||~A0.indexOf("Trident/"),Nu,Du,Ou,Lu,Mu,Dr="___FONT_AWESOME___",Ap=16,UI="fa",$I="svg-inline--fa",ms="data-fa-i2svg",Pp="data-fa-pseudo-element",jO="data-fa-pseudo-element-pending",Wg="data-prefix",qg="data-icon",C0="fontawesome-i2svg",UO="async",$O=["HTML","HEAD","STYLE","SCRIPT"],zI=function(){try{return!0}catch{return!1}}(),Ke="classic",lt="sharp",Gg=[Ke,lt];function ql(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Ke]}})}var vl=ql((Nu={},Et(Nu,Ke,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),Et(Nu,lt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),Nu)),yl=ql((Du={},Et(Du,Ke,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Et(Du,lt,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),Du)),_l=ql((Ou={},Et(Ou,Ke,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Et(Ou,lt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),Ou)),zO=ql((Lu={},Et(Lu,Ke,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Et(Lu,lt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),Lu)),BO=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,BI="fa-layers-text",HO=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,WO=ql((Mu={},Et(Mu,Ke,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Et(Mu,lt,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),Mu)),HI=[1,2,3,4,5,6,7,8,9,10],qO=HI.concat([11,12,13,14,15,16,17,18,19,20]),GO=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ji={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},wl=new Set;Object.keys(yl[Ke]).map(wl.add.bind(wl));Object.keys(yl[lt]).map(wl.add.bind(wl));var KO=[].concat(Gg,Wl(wl),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ji.GROUP,Ji.SWAP_OPACITY,Ji.PRIMARY,Ji.SECONDARY]).concat(HI.map(function(t){return"".concat(t,"x")})).concat(qO.map(function(t){return"w-".concat(t)})),Ua=Pi.FontAwesomeConfig||{};function QO(t){var e=Ye.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function YO(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Ye&&typeof Ye.querySelector=="function"){var XO=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];XO.forEach(function(t){var e=Bg(t,2),n=e[0],r=e[1],i=YO(QO(n));i!=null&&(Ua[r]=i)})}var WI={styleDefault:"solid",familyDefault:"classic",cssPrefix:UI,replacementClass:$I,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ua.familyPrefix&&(Ua.cssPrefix=Ua.familyPrefix);var Do=se(se({},WI),Ua);Do.autoReplaceSvg||(Do.observeMutations=!1);var ue={};Object.keys(WI).forEach(function(t){Object.defineProperty(ue,t,{enumerable:!0,set:function(n){Do[t]=n,$a.forEach(function(r){return r(ue)})},get:function(){return Do[t]}})});Object.defineProperty(ue,"familyPrefix",{enumerable:!0,set:function(e){Do.cssPrefix=e,$a.forEach(function(n){return n(ue)})},get:function(){return Do.cssPrefix}});Pi.FontAwesomeConfig=ue;var $a=[];function JO(t){return $a.push(t),function(){$a.splice($a.indexOf(t),1)}}var Qr=Ap,Yn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function ZO(t){if(!(!t||!Fr)){var e=Ye.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Ye.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return Ye.head.insertBefore(e,r),t}}var eL="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function El(){for(var t=12,e="";t-- >0;)e+=eL[Math.random()*62|0];return e}function Bo(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function Kg(t){return t.classList?Bo(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function qI(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function tL(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(qI(t[n]),'" ')},"").trim()}function Zd(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function Qg(t){return t.size!==Yn.size||t.x!==Yn.x||t.y!==Yn.y||t.rotate!==Yn.rotate||t.flipX||t.flipY}function nL(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),l="rotate(".concat(e.rotate," 0 0)"),u={transform:"".concat(s," ").concat(o," ").concat(l)},c={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:u,path:c}}function rL(t){var e=t.transform,n=t.width,r=n===void 0?Ap:n,i=t.height,s=i===void 0?Ap:i,o=t.startCentered,l=o===void 0?!1:o,u="";return l&&jI?u+="translate(".concat(e.x/Qr-r/2,"em, ").concat(e.y/Qr-s/2,"em) "):l?u+="translate(calc(-50% + ".concat(e.x/Qr,"em), calc(-50% + ").concat(e.y/Qr,"em)) "):u+="translate(".concat(e.x/Qr,"em, ").concat(e.y/Qr,"em) "),u+="scale(".concat(e.size/Qr*(e.flipX?-1:1),", ").concat(e.size/Qr*(e.flipY?-1:1),") "),u+="rotate(".concat(e.rotate,"deg) "),u}var iL=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, 0));
          transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function GI(){var t=UI,e=$I,n=ue.cssPrefix,r=ue.replacementClass,i=iL;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),l=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(l,".".concat(r))}return i}var R0=!1;function Zh(){ue.autoAddCss&&!R0&&(ZO(GI()),R0=!0)}var sL={mixout:function(){return{dom:{css:GI,insertCss:Zh}}},hooks:function(){return{beforeDOMElementCreation:function(){Zh()},beforeI2svg:function(){Zh()}}}},Or=Pi||{};Or[Dr]||(Or[Dr]={});Or[Dr].styles||(Or[Dr].styles={});Or[Dr].hooks||(Or[Dr].hooks={});Or[Dr].shims||(Or[Dr].shims=[]);var Fn=Or[Dr],KI=[],oL=function t(){Ye.removeEventListener("DOMContentLoaded",t),nd=1,KI.map(function(e){return e()})},nd=!1;Fr&&(nd=(Ye.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ye.readyState),nd||Ye.addEventListener("DOMContentLoaded",oL));function aL(t){Fr&&(nd?setTimeout(t,0):KI.push(t))}function Gl(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?qI(t):"<".concat(e," ").concat(tL(r),">").concat(s.map(Gl).join(""),"</").concat(e,">")}function b0(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var ef=function(e,n,r,i){var s=Object.keys(e),o=s.length,l=n,u,c,d;for(r===void 0?(u=1,d=e[s[0]]):(u=0,d=r);u<o;u++)c=s[u],d=l(d,e[c],c,e);return d};function lL(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function Cp(t){var e=lL(t);return e.length===1?e[0].toString(16):null}function uL(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function x0(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function Rp(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=x0(e);typeof Fn.hooks.addPack=="function"&&!i?Fn.hooks.addPack(t,x0(e)):Fn.styles[t]=se(se({},Fn.styles[t]||{}),s),t==="fas"&&Rp("fa",e)}var Vu,Fu,ju,Xs=Fn.styles,cL=Fn.shims,dL=(Vu={},Et(Vu,Ke,Object.values(_l[Ke])),Et(Vu,lt,Object.values(_l[lt])),Vu),Yg=null,QI={},YI={},XI={},JI={},ZI={},hL=(Fu={},Et(Fu,Ke,Object.keys(vl[Ke])),Et(Fu,lt,Object.keys(vl[lt])),Fu);function fL(t){return~KO.indexOf(t)}function pL(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!fL(i)?i:null}var eS=function(){var e=function(s){return ef(Xs,function(o,l,u){return o[u]=ef(l,s,{}),o},{})};QI=e(function(i,s,o){if(s[3]&&(i[s[3]]=o),s[2]){var l=s[2].filter(function(u){return typeof u=="number"});l.forEach(function(u){i[u.toString(16)]=o})}return i}),YI=e(function(i,s,o){if(i[o]=o,s[2]){var l=s[2].filter(function(u){return typeof u=="string"});l.forEach(function(u){i[u]=o})}return i}),ZI=e(function(i,s,o){var l=s[2];return i[o]=o,l.forEach(function(u){i[u]=o}),i});var n="far"in Xs||ue.autoFetchSvg,r=ef(cL,function(i,s){var o=s[0],l=s[1],u=s[2];return l==="far"&&!n&&(l="fas"),typeof o=="string"&&(i.names[o]={prefix:l,iconName:u}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:l,iconName:u}),i},{names:{},unicodes:{}});XI=r.names,JI=r.unicodes,Yg=eh(ue.styleDefault,{family:ue.familyDefault})};JO(function(t){Yg=eh(t.styleDefault,{family:ue.familyDefault})});eS();function Xg(t,e){return(QI[t]||{})[e]}function mL(t,e){return(YI[t]||{})[e]}function Zi(t,e){return(ZI[t]||{})[e]}function tS(t){return XI[t]||{prefix:null,iconName:null}}function gL(t){var e=JI[t],n=Xg("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Ci(){return Yg}var Jg=function(){return{prefix:null,iconName:null,rest:[]}};function eh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?Ke:n,i=vl[r][t],s=yl[r][t]||yl[r][i],o=t in Fn.styles?t:null;return s||o||null}var N0=(ju={},Et(ju,Ke,Object.keys(_l[Ke])),Et(ju,lt,Object.keys(_l[lt])),ju);function th(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,s=(e={},Et(e,Ke,"".concat(ue.cssPrefix,"-").concat(Ke)),Et(e,lt,"".concat(ue.cssPrefix,"-").concat(lt)),e),o=null,l=Ke;(t.includes(s[Ke])||t.some(function(c){return N0[Ke].includes(c)}))&&(l=Ke),(t.includes(s[lt])||t.some(function(c){return N0[lt].includes(c)}))&&(l=lt);var u=t.reduce(function(c,d){var f=pL(ue.cssPrefix,d);if(Xs[d]?(d=dL[l].includes(d)?zO[l][d]:d,o=d,c.prefix=d):hL[l].indexOf(d)>-1?(o=d,c.prefix=eh(d,{family:l})):f?c.iconName=f:d!==ue.replacementClass&&d!==s[Ke]&&d!==s[lt]&&c.rest.push(d),!i&&c.prefix&&c.iconName){var m=o==="fa"?tS(c.iconName):{},w=Zi(c.prefix,c.iconName);m.prefix&&(o=null),c.iconName=m.iconName||w||c.iconName,c.prefix=m.prefix||c.prefix,c.prefix==="far"&&!Xs.far&&Xs.fas&&!ue.autoFetchSvg&&(c.prefix="fas")}return c},Jg());return(t.includes("fa-brands")||t.includes("fab"))&&(u.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(u.prefix="fad"),!u.prefix&&l===lt&&(Xs.fass||ue.autoFetchSvg)&&(u.prefix="fass",u.iconName=Zi(u.prefix,u.iconName)||u.iconName),(u.prefix==="fa"||o==="fa")&&(u.prefix=Ci()||"fas"),u}var vL=function(){function t(){RO(this,t),this.definitions={}}return xO(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(l){n.definitions[l]=se(se({},n.definitions[l]||{}),o[l]),Rp(l,o[l]);var u=_l[Ke][l];u&&Rp(u,o[l]),eS()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var o=i[s],l=o.prefix,u=o.iconName,c=o.icon,d=c[2];n[l]||(n[l]={}),d.length>0&&d.forEach(function(f){typeof f=="string"&&(n[l][f]=c)}),n[l][u]=c}),n}}]),t}(),D0=[],Js={},fo={},yL=Object.keys(fo);function _L(t,e){var n=e.mixoutsTo;return D0=t,Js={},Object.keys(fo).forEach(function(r){yL.indexOf(r)===-1&&delete fo[r]}),D0.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){typeof i[o]=="function"&&(n[o]=i[o]),td(i[o])==="object"&&Object.keys(i[o]).forEach(function(l){n[o]||(n[o]={}),n[o][l]=i[o][l]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(o){Js[o]||(Js[o]=[]),Js[o].push(s[o])})}r.provides&&r.provides(fo)}),n}function bp(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=Js[t]||[];return s.forEach(function(o){e=o.apply(null,[e].concat(r))}),e}function gs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=Js[t]||[];i.forEach(function(s){s.apply(null,n)})}function Lr(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return fo[t]?fo[t].apply(null,e):void 0}function xp(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Ci();if(e)return e=Zi(n,e)||e,b0(nS.definitions,n,e)||b0(Fn.styles,n,e)}var nS=new vL,wL=function(){ue.autoReplaceSvg=!1,ue.observeMutations=!1,gs("noAuto")},EL={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Fr?(gs("beforeI2svg",e),Lr("pseudoElements2svg",e),Lr("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;ue.autoReplaceSvg===!1&&(ue.autoReplaceSvg=!0),ue.observeMutations=!0,aL(function(){IL({autoReplaceSvgRoot:n}),gs("watch",e)})}},TL={icon:function(e){if(e===null)return null;if(td(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Zi(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=eh(e[0]);return{prefix:r,iconName:Zi(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(ue.cssPrefix,"-"))>-1||e.match(BO))){var i=th(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Ci(),iconName:Zi(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var s=Ci();return{prefix:s,iconName:Zi(s,e)||e}}}},_n={noAuto:wL,config:ue,dom:EL,parse:TL,library:nS,findIconDefinition:xp,toHtml:Gl},IL=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?Ye:n;(Object.keys(Fn.styles).length>0||ue.autoFetchSvg)&&Fr&&ue.autoReplaceSvg&&_n.dom.i2svg({node:r})};function nh(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Gl(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Fr){var r=Ye.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function SL(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,o=t.transform;if(Qg(o)&&n.found&&!r.found){var l=n.width,u=n.height,c={x:l/u/2,y:.5};i.style=Zd(se(se({},s),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function kL(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,o=s===!0?"".concat(e,"-").concat(ue.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:se(se({},i),{},{id:o}),children:r}]}]}function Zg(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,o=t.transform,l=t.symbol,u=t.title,c=t.maskId,d=t.titleId,f=t.extra,m=t.watchable,w=m===void 0?!1:m,k=r.found?r:n,E=k.width,b=k.height,I=i==="fak",y=[ue.replacementClass,s?"".concat(ue.cssPrefix,"-").concat(s):""].filter(function(T){return f.classes.indexOf(T)===-1}).filter(function(T){return T!==""||!!T}).concat(f.classes).join(" "),P={children:[],attributes:se(se({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:y,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(E," ").concat(b)})},O=I&&!~f.classes.indexOf("fa-fw")?{width:"".concat(E/b*16*.0625,"em")}:{};w&&(P.attributes[ms]=""),u&&(P.children.push({tag:"title",attributes:{id:P.attributes["aria-labelledby"]||"title-".concat(d||El())},children:[u]}),delete P.attributes.title);var V=se(se({},P),{},{prefix:i,iconName:s,main:n,mask:r,maskId:c,transform:o,symbol:l,styles:se(se({},O),f.styles)}),j=r.found&&n.found?Lr("generateAbstractMask",V)||{children:[],attributes:{}}:Lr("generateAbstractIcon",V)||{children:[],attributes:{}},g=j.children,v=j.attributes;return V.children=g,V.attributes=v,l?kL(V):SL(V)}function O0(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,o=t.extra,l=t.watchable,u=l===void 0?!1:l,c=se(se(se({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});u&&(c[ms]="");var d=se({},o.styles);Qg(i)&&(d.transform=rL({transform:i,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);var f=Zd(d);f.length>0&&(c.style=f);var m=[];return m.push({tag:"span",attributes:c,children:[e]}),s&&m.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),m}function AL(t){var e=t.content,n=t.title,r=t.extra,i=se(se(se({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=Zd(r.styles);s.length>0&&(i.style=s);var o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var tf=Fn.styles;function Np(t){var e=t[0],n=t[1],r=t.slice(4),i=Bg(r,1),s=i[0],o=null;return Array.isArray(s)?o={tag:"g",attributes:{class:"".concat(ue.cssPrefix,"-").concat(Ji.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ue.cssPrefix,"-").concat(Ji.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(ue.cssPrefix,"-").concat(Ji.PRIMARY),fill:"currentColor",d:s[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:o}}var PL={found:!1,width:512,height:512};function CL(t,e){!zI&&!ue.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Dp(t,e){var n=e;return e==="fa"&&ue.styleDefault!==null&&(e=Ci()),new Promise(function(r,i){if(Lr("missingIconAbstract"),n==="fa"){var s=tS(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&tf[e]&&tf[e][t]){var o=tf[e][t];return r(Np(o))}CL(t,e),r(se(se({},PL),{},{icon:ue.showMissingIcons&&t?Lr("missingIconAbstract")||{}:{}}))})}var L0=function(){},Op=ue.measurePerformance&&xu&&xu.mark&&xu.measure?xu:{mark:L0,measure:L0},Ia='FA "6.5.2"',RL=function(e){return Op.mark("".concat(Ia," ").concat(e," begins")),function(){return rS(e)}},rS=function(e){Op.mark("".concat(Ia," ").concat(e," ends")),Op.measure("".concat(Ia," ").concat(e),"".concat(Ia," ").concat(e," begins"),"".concat(Ia," ").concat(e," ends"))},ev={begin:RL,end:rS},ac=function(){};function M0(t){var e=t.getAttribute?t.getAttribute(ms):null;return typeof e=="string"}function bL(t){var e=t.getAttribute?t.getAttribute(Wg):null,n=t.getAttribute?t.getAttribute(qg):null;return e&&n}function xL(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(ue.replacementClass)}function NL(){if(ue.autoReplaceSvg===!0)return lc.replace;var t=lc[ue.autoReplaceSvg];return t||lc.replace}function DL(t){return Ye.createElementNS("http://www.w3.org/2000/svg",t)}function OL(t){return Ye.createElement(t)}function iS(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?DL:OL:n;if(typeof t=="string")return Ye.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(o){i.setAttribute(o,t.attributes[o])});var s=t.children||[];return s.forEach(function(o){i.appendChild(iS(o,{ceFn:r}))}),i}function LL(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var lc={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(iS(i),n)}),n.getAttribute(ms)===null&&ue.keepOriginalSource){var r=Ye.createComment(LL(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~Kg(n).indexOf(ue.replacementClass))return lc.replace(e);var i=new RegExp("".concat(ue.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(l,u){return u===ue.replacementClass||u.match(i)?l.toSvg.push(u):l.toNode.push(u),l},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var o=r.map(function(l){return Gl(l)}).join(`
`);n.setAttribute(ms,""),n.innerHTML=o}};function V0(t){t()}function sS(t,e){var n=typeof e=="function"?e:ac;if(t.length===0)n();else{var r=V0;ue.mutateApproach===UO&&(r=Pi.requestAnimationFrame||V0),r(function(){var i=NL(),s=ev.begin("mutate");t.map(i),s(),n()})}}var tv=!1;function oS(){tv=!0}function Lp(){tv=!1}var rd=null;function F0(t){if(P0&&ue.observeMutations){var e=t.treeCallback,n=e===void 0?ac:e,r=t.nodeCallback,i=r===void 0?ac:r,s=t.pseudoElementsCallback,o=s===void 0?ac:s,l=t.observeMutationsRoot,u=l===void 0?Ye:l;rd=new P0(function(c){if(!tv){var d=Ci();Bo(c).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!M0(f.addedNodes[0])&&(ue.searchPseudoElements&&o(f.target),n(f.target)),f.type==="attributes"&&f.target.parentNode&&ue.searchPseudoElements&&o(f.target.parentNode),f.type==="attributes"&&M0(f.target)&&~GO.indexOf(f.attributeName))if(f.attributeName==="class"&&bL(f.target)){var m=th(Kg(f.target)),w=m.prefix,k=m.iconName;f.target.setAttribute(Wg,w||d),k&&f.target.setAttribute(qg,k)}else xL(f.target)&&i(f.target)})}}),Fr&&rd.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function ML(){rd&&rd.disconnect()}function VL(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),o=s[0],l=s.slice(1);return o&&l.length>0&&(r[o]=l.join(":").trim()),r},{})),n}function FL(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=th(Kg(t));return i.prefix||(i.prefix=Ci()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=mL(i.prefix,t.innerText)||Xg(i.prefix,Cp(t.innerText))),!i.iconName&&ue.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function jL(t){var e=Bo(t.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return ue.autoA11y&&(n?e["aria-labelledby"]="".concat(ue.replacementClass,"-title-").concat(r||El()):(e["aria-hidden"]="true",e.focusable="false")),e}function UL(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Yn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function j0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=FL(t),r=n.iconName,i=n.prefix,s=n.rest,o=jL(t),l=bp("parseNodeAttributes",{},t),u=e.styleParser?VL(t):[];return se({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Yn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:u,attributes:o}},l)}var $L=Fn.styles;function aS(t){var e=ue.autoReplaceSvg==="nest"?j0(t,{styleParser:!1}):j0(t);return~e.extra.classes.indexOf(BI)?Lr("generateLayersText",t,e):Lr("generateSvgReplacementMutation",t,e)}var Ri=new Set;Gg.map(function(t){Ri.add("fa-".concat(t))});Object.keys(vl[Ke]).map(Ri.add.bind(Ri));Object.keys(vl[lt]).map(Ri.add.bind(Ri));Ri=Wl(Ri);function U0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Fr)return Promise.resolve();var n=Ye.documentElement.classList,r=function(f){return n.add("".concat(C0,"-").concat(f))},i=function(f){return n.remove("".concat(C0,"-").concat(f))},s=ue.autoFetchSvg?Ri:Gg.map(function(d){return"fa-".concat(d)}).concat(Object.keys($L));s.includes("fa")||s.push("fa");var o=[".".concat(BI,":not([").concat(ms,"])")].concat(s.map(function(d){return".".concat(d,":not([").concat(ms,"])")})).join(", ");if(o.length===0)return Promise.resolve();var l=[];try{l=Bo(t.querySelectorAll(o))}catch{}if(l.length>0)r("pending"),i("complete");else return Promise.resolve();var u=ev.begin("onTree"),c=l.reduce(function(d,f){try{var m=aS(f);m&&d.push(m)}catch(w){zI||w.name==="MissingIcon"&&console.error(w)}return d},[]);return new Promise(function(d,f){Promise.all(c).then(function(m){sS(m,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),u(),d()})}).catch(function(m){u(),f(m)})})}function zL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;aS(t).then(function(n){n&&sS([n],e)})}function BL(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:xp(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:xp(i||{})),t(r,se(se({},n),{},{mask:i}))}}var HL=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?Yn:r,s=n.symbol,o=s===void 0?!1:s,l=n.mask,u=l===void 0?null:l,c=n.maskId,d=c===void 0?null:c,f=n.title,m=f===void 0?null:f,w=n.titleId,k=w===void 0?null:w,E=n.classes,b=E===void 0?[]:E,I=n.attributes,y=I===void 0?{}:I,P=n.styles,O=P===void 0?{}:P;if(e){var V=e.prefix,j=e.iconName,g=e.icon;return nh(se({type:"icon"},e),function(){return gs("beforeDOMElementCreation",{iconDefinition:e,params:n}),ue.autoA11y&&(m?y["aria-labelledby"]="".concat(ue.replacementClass,"-title-").concat(k||El()):(y["aria-hidden"]="true",y.focusable="false")),Zg({icons:{main:Np(g),mask:u?Np(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:V,iconName:j,transform:se(se({},Yn),i),symbol:o,title:m,maskId:d,titleId:k,extra:{attributes:y,styles:O,classes:b}})})}},WL={mixout:function(){return{icon:BL(HL)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=U0,n.nodeCallback=zL,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?Ye:r,s=n.callback,o=s===void 0?function(){}:s;return U0(i,o)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,o=r.titleId,l=r.prefix,u=r.transform,c=r.symbol,d=r.mask,f=r.maskId,m=r.extra;return new Promise(function(w,k){Promise.all([Dp(i,l),d.iconName?Dp(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(E){var b=Bg(E,2),I=b[0],y=b[1];w([n,Zg({icons:{main:I,mask:y},prefix:l,iconName:i,transform:u,symbol:c,maskId:f,title:s,titleId:o,extra:m,watchable:!0})])}).catch(k)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.transform,l=n.styles,u=Zd(l);u.length>0&&(i.style=u);var c;return Qg(o)&&(c=Lr("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),r.push(c||s.icon),{children:r,attributes:i}}}},qL={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,s=i===void 0?[]:i;return nh({type:"layer"},function(){gs("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(l){Array.isArray(l)?l.map(function(u){o=o.concat(u.abstract)}):o=o.concat(l.abstract)}),[{tag:"span",attributes:{class:["".concat(ue.cssPrefix,"-layers")].concat(Wl(s)).join(" ")},children:o}]})}}}},GL={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,s=i===void 0?null:i,o=r.classes,l=o===void 0?[]:o,u=r.attributes,c=u===void 0?{}:u,d=r.styles,f=d===void 0?{}:d;return nh({type:"counter",content:n},function(){return gs("beforeDOMElementCreation",{content:n,params:r}),AL({content:n.toString(),title:s,extra:{attributes:c,styles:f,classes:["".concat(ue.cssPrefix,"-layers-counter")].concat(Wl(l))}})})}}}},KL={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,s=i===void 0?Yn:i,o=r.title,l=o===void 0?null:o,u=r.classes,c=u===void 0?[]:u,d=r.attributes,f=d===void 0?{}:d,m=r.styles,w=m===void 0?{}:m;return nh({type:"text",content:n},function(){return gs("beforeDOMElementCreation",{content:n,params:r}),O0({content:n,transform:se(se({},Yn),s),title:l,extra:{attributes:f,styles:w,classes:["".concat(ue.cssPrefix,"-layers-text")].concat(Wl(c))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,o=r.extra,l=null,u=null;if(jI){var c=parseInt(getComputedStyle(n).fontSize,10),d=n.getBoundingClientRect();l=d.width/c,u=d.height/c}return ue.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,O0({content:n.innerHTML,width:l,height:u,transform:s,title:i,extra:o,watchable:!0})])}}},QL=new RegExp('"',"ug"),$0=[1105920,1112319];function YL(t){var e=t.replace(QL,""),n=uL(e,0),r=n>=$0[0]&&n<=$0[1],i=e.length===2?e[0]===e[1]:!1;return{value:Cp(i?e[0]:e),isSecondary:r||i}}function z0(t,e){var n="".concat(jO).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var s=Bo(t.children),o=s.filter(function(g){return g.getAttribute(Pp)===e})[0],l=Pi.getComputedStyle(t,e),u=l.getPropertyValue("font-family").match(HO),c=l.getPropertyValue("font-weight"),d=l.getPropertyValue("content");if(o&&!u)return t.removeChild(o),r();if(u&&d!=="none"&&d!==""){var f=l.getPropertyValue("content"),m=~["Sharp"].indexOf(u[2])?lt:Ke,w=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?yl[m][u[2].toLowerCase()]:WO[m][c],k=YL(f),E=k.value,b=k.isSecondary,I=u[0].startsWith("FontAwesome"),y=Xg(w,E),P=y;if(I){var O=gL(E);O.iconName&&O.prefix&&(y=O.iconName,w=O.prefix)}if(y&&!b&&(!o||o.getAttribute(Wg)!==w||o.getAttribute(qg)!==P)){t.setAttribute(n,P),o&&t.removeChild(o);var V=UL(),j=V.extra;j.attributes[Pp]=e,Dp(y,w).then(function(g){var v=Zg(se(se({},V),{},{icons:{main:g,mask:Jg()},prefix:w,iconName:P,extra:j,watchable:!0})),T=Ye.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(T,t.firstChild):t.appendChild(T),T.outerHTML=v.map(function(S){return Gl(S)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function XL(t){return Promise.all([z0(t,"::before"),z0(t,"::after")])}function JL(t){return t.parentNode!==document.head&&!~$O.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Pp)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function B0(t){if(Fr)return new Promise(function(e,n){var r=Bo(t.querySelectorAll("*")).filter(JL).map(XL),i=ev.begin("searchPseudoElements");oS(),Promise.all(r).then(function(){i(),Lp(),e()}).catch(function(){i(),Lp(),n()})})}var ZL={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=B0,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?Ye:r;ue.searchPseudoElements&&B0(i)}}},H0=!1,eM={mixout:function(){return{dom:{unwatch:function(){oS(),H0=!0}}}},hooks:function(){return{bootstrap:function(){F0(bp("mutationObserverCallbacks",{}))},noAuto:function(){ML()},watch:function(n){var r=n.observeMutationsRoot;H0?Lp():F0(bp("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},W0=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),o=s[0],l=s.slice(1).join("-");if(o&&l==="h")return r.flipX=!0,r;if(o&&l==="v")return r.flipY=!0,r;if(l=parseFloat(l),isNaN(l))return r;switch(o){case"grow":r.size=r.size+l;break;case"shrink":r.size=r.size-l;break;case"left":r.x=r.x-l;break;case"right":r.x=r.x+l;break;case"up":r.y=r.y-l;break;case"down":r.y=r.y+l;break;case"rotate":r.rotate=r.rotate+l;break}return r},n)},tM={mixout:function(){return{parse:{transform:function(n){return W0(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=W0(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.containerWidth,o=n.iconWidth,l={transform:"translate(".concat(s/2," 256)")},u="translate(".concat(i.x*32,", ").concat(i.y*32,") "),c="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),d="rotate(".concat(i.rotate," 0 0)"),f={transform:"".concat(u," ").concat(c," ").concat(d)},m={transform:"translate(".concat(o/2*-1," -256)")},w={outer:l,inner:f,path:m};return{tag:"g",attributes:se({},w.outer),children:[{tag:"g",attributes:se({},w.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:se(se({},r.icon.attributes),w.path)}]}]}}}},nf={x:0,y:0,width:"100%",height:"100%"};function q0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function nM(t){return t.tag==="g"?t.children:[t]}var rM={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?th(i.split(" ").map(function(o){return o.trim()})):Jg();return s.prefix||(s.prefix=Ci()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,o=n.mask,l=n.maskId,u=n.transform,c=s.width,d=s.icon,f=o.width,m=o.icon,w=nL({transform:u,containerWidth:f,iconWidth:c}),k={tag:"rect",attributes:se(se({},nf),{},{fill:"white"})},E=d.children?{children:d.children.map(q0)}:{},b={tag:"g",attributes:se({},w.inner),children:[q0(se({tag:d.tag,attributes:se(se({},d.attributes),w.path)},E))]},I={tag:"g",attributes:se({},w.outer),children:[b]},y="mask-".concat(l||El()),P="clip-".concat(l||El()),O={tag:"mask",attributes:se(se({},nf),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[k,I]},V={tag:"defs",children:[{tag:"clipPath",attributes:{id:P},children:nM(m)},O]};return r.push(V,{tag:"rect",attributes:se({fill:"currentColor","clip-path":"url(#".concat(P,")"),mask:"url(#".concat(y,")")},nf)}),{children:r,attributes:i}}}},iM={provides:function(e){var n=!1;Pi.matchMedia&&(n=Pi.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:se(se({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=se(se({},s),{},{attributeName:"opacity"}),l={tag:"circle",attributes:se(se({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||l.children.push({tag:"animate",attributes:se(se({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:se(se({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(l),r.push({tag:"path",attributes:se(se({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:se(se({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:se(se({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:se(se({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},sM={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return n.symbol=s,n}}}},oM=[sL,WL,qL,GL,KL,ZL,eM,tM,rM,iM,sM];_L(oM,{mixoutsTo:_n});_n.noAuto;_n.config;_n.library;_n.dom;var Mp=_n.parse;_n.findIconDefinition;_n.toHtml;var aM=_n.icon;_n.layer;_n.text;_n.counter;var lS={exports:{}},lM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uM=lM,cM=uM;function uS(){}function cS(){}cS.resetWarningCache=uS;var dM=function(){function t(r,i,s,o,l,u){if(u!==cM){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:cS,resetWarningCache:uS};return n.PropTypes=n,n};lS.exports=dM();var hM=lS.exports;const Pe=vs(hM);function G0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G0(Object(n),!0).forEach(function(r){Zs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function Zs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fM(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pM(t,e){if(t==null)return{};var n=fM(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vp(t){return mM(t)||gM(t)||vM(t)||yM()}function mM(t){if(Array.isArray(t))return Fp(t)}function gM(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vM(t,e){if(t){if(typeof t=="string")return Fp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fp(t,e)}}function Fp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _M(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,l=t.flash,u=t.spin,c=t.spinPulse,d=t.spinReverse,f=t.pulse,m=t.fixedWidth,w=t.inverse,k=t.border,E=t.listItem,b=t.flip,I=t.size,y=t.rotation,P=t.pull,O=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":l,"fa-spin":u,"fa-spin-reverse":d,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":m,"fa-inverse":w,"fa-border":k,"fa-li":E,"fa-flip":b===!0,"fa-flip-horizontal":b==="horizontal"||b==="both","fa-flip-vertical":b==="vertical"||b==="both"},Zs(e,"fa-".concat(I),typeof I<"u"&&I!==null),Zs(e,"fa-rotate-".concat(y),typeof y<"u"&&y!==null&&y!==0),Zs(e,"fa-pull-".concat(P),typeof P<"u"&&P!==null),Zs(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(O).map(function(V){return O[V]?V:null}).filter(function(V){return V})}function wM(t){return t=t-0,t===t}function dS(t){return wM(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var EM=["style"];function TM(t){return t.charAt(0).toUpperCase()+t.slice(1)}function IM(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=dS(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[TM(i)]=s:e[i]=s,e},{})}function hS(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(u){return hS(t,u)}),i=Object.keys(e.attributes||{}).reduce(function(u,c){var d=e.attributes[c];switch(c){case"class":u.attrs.className=d,delete e.attributes.class;break;case"style":u.attrs.style=IM(d);break;default:c.indexOf("aria-")===0||c.indexOf("data-")===0?u.attrs[c.toLowerCase()]=d:u.attrs[dS(c)]=d}return u},{attrs:{}}),s=n.style,o=s===void 0?{}:s,l=pM(n,EM);return i.attrs.style=Kn(Kn({},i.attrs.style),o),t.apply(void 0,[e.tag,Kn(Kn({},i.attrs),l)].concat(Vp(r)))}var fS=!1;try{fS=!0}catch{}function SM(){if(!fS&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function K0(t){if(t&&id(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Mp.icon)return Mp.icon(t);if(t===null)return null;if(t&&id(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function rf(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Zs({},t,e):{}}var Q0={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},qt=Il.forwardRef(function(t,e){var n=Kn(Kn({},Q0),t),r=n.icon,i=n.mask,s=n.symbol,o=n.className,l=n.title,u=n.titleId,c=n.maskId,d=K0(r),f=rf("classes",[].concat(Vp(_M(n)),Vp((o||"").split(" ")))),m=rf("transform",typeof n.transform=="string"?Mp.transform(n.transform):n.transform),w=rf("mask",K0(i)),k=aM(d,Kn(Kn(Kn(Kn({},f),m),w),{},{symbol:s,title:l,titleId:u,maskId:c}));if(!k)return SM("Could not find icon",d),null;var E=k.abstract,b={ref:e};return Object.keys(n).forEach(function(I){Q0.hasOwnProperty(I)||(b[I]=n[I])}),kM(E[0],b)});qt.displayName="FontAwesomeIcon";qt.propTypes={beat:Pe.bool,border:Pe.bool,beatFade:Pe.bool,bounce:Pe.bool,className:Pe.string,fade:Pe.bool,flash:Pe.bool,mask:Pe.oneOfType([Pe.object,Pe.array,Pe.string]),maskId:Pe.string,fixedWidth:Pe.bool,inverse:Pe.bool,flip:Pe.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Pe.oneOfType([Pe.object,Pe.array,Pe.string]),listItem:Pe.bool,pull:Pe.oneOf(["right","left"]),pulse:Pe.bool,rotation:Pe.oneOf([0,90,180,270]),shake:Pe.bool,size:Pe.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Pe.bool,spinPulse:Pe.bool,spinReverse:Pe.bool,symbol:Pe.oneOfType([Pe.bool,Pe.string]),title:Pe.string,titleId:Pe.string,transform:Pe.oneOfType([Pe.string,Pe.object]),swapOpacity:Pe.bool};var kM=hS.bind(null,Il.createElement),jp={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"]},AM={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},PM={prefix:"fas",iconName:"arrow-right-from-bracket",icon:[512,512,["sign-out"],"f08b","M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 192 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM160 96c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 32C43 32 0 75 0 128L0 384c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},CM=PM,RM={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]},bM={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},nv={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},xM={prefix:"fas",iconName:"font",icon:[448,512,[],"f031","M254 52.8C249.3 40.3 237.3 32 224 32s-25.3 8.3-30 20.8L57.8 416H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32h-1.8l18-48H303.8l18 48H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H390.2L254 52.8zM279.8 304H168.2L224 155.1 279.8 304z"]},pS={prefix:"fas",iconName:"arrow-up",icon:[384,512,[8593],"f062","M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2V448c0 17.7 14.3 32 32 32s32-14.3 32-32V141.2L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z"]};const NM=()=>A.jsxs("div",{className:"skeleton__profile",children:[A.jsx("div",{className:"skeleton skeleton__profile__picture"}),A.jsx("div",{className:"skeleton skeleton__profile__name"}),A.jsx("div",{className:"skeleton skeleton__profile__post"})]}),Up=({isClickable:t})=>{var u,c,d,f;const e=N.useContext(bn),[n,r]=N.useState([]),[i,s]=N.useState(!0),o=ws();if(N.useEffect(()=>{var E;if(!((E=e==null?void 0:e.user)!=null&&E.uid))return;const m=wr(pn,"posts"),w=ai(m,ml("authorId","==",e.user.uid)),k=Kd(w,b=>{const I=b.docs.map(y=>({id:y.id,image:y.data().image||"",post:y.data().post||"",title:y.data().title||"",keyWords:y.data().keyWords||[],authorName:y.data().authorName||"",authorId:y.data().authorId||"",writtenOn:y.data().writtenOn||"",lastUpdated:y.data().lastUpdated||"",likeCount:y.data().likeCount||[],authorImage:y.data().authorImage||""}));r(I),s(!1)});return()=>{k()}},[(u=e==null?void 0:e.user)==null?void 0:u.uid]),i)return A.jsx(NM,{});const l=()=>{if(t)o("/storycorner/myPosts");else return};return A.jsxs(Vo,{addClass:`profile ${t?"":" bg-image"}`,children:[t?A.jsx(A.Fragment,{}):A.jsx(xt,{type:"button",handleFunction:()=>o("/storycorner"),addClass:"profile__back",children:A.jsx(qt,{icon:nv})}),A.jsx(Nl,{image:(c=e==null?void 0:e.user)==null?void 0:c.photoURL,about:"profile photo",addClass:"profile__picture"}),A.jsx("p",{className:"profile__name",children:(d=e==null?void 0:e.user)==null?void 0:d.displayName}),t?A.jsx(A.Fragment,{}):A.jsx("p",{className:"profile__name",children:(f=e==null?void 0:e.user)==null?void 0:f.email}),A.jsx("div",{className:"profile__post",onClick:l,children:A.jsxs("p",{className:`profile__post_count ${t?"":" left-align"}`,children:[A.jsx("span",{className:"profile__post_count-label",children:"My posts"}),A.jsx("span",{className:"profile__post_count-value",children:n.length})]})})]})},DM=()=>A.jsxs("div",{className:"skeleton__recent",children:[A.jsx("div",{className:"skeleton skeleton__recent_title"}),A.jsx("div",{className:"skeleton skeleton__recent_postOne"}),A.jsx("div",{className:"skeleton skeleton__recent_postTwo"})]}),OM=()=>{var o;const t=ws(),e=N.useContext(bn),[n,r]=N.useState([]),[i,s]=N.useState(!0);return N.useEffect(()=>{var d;if(!((d=e==null?void 0:e.user)!=null&&d.uid))return;const l=wr(pn,"posts"),u=ai(l,ml("authorId","==",e.user.uid)),c=Kd(u,f=>{const w=f.docs.map(k=>({id:k.id,image:k.data().image||"",post:k.data().post||"",title:k.data().title||"",keyWords:k.data().keyWords||[],authorName:k.data().authorName||"",authorId:k.data().authorId||"",writtenOn:k.data().writtenOn||"",lastUpdated:k.data().lastUpdated||"",likeCount:k.data().likeCount||[],authorImage:k.data().authorImage||""})).sort((k,E)=>{const b=new Date(k.writtenOn);return new Date(E.writtenOn).getTime()-b.getTime()}).slice(0,5);r(w),s(!1)});return()=>{c()}},[(o=e==null?void 0:e.user)==null?void 0:o.uid]),i?A.jsx(DM,{}):A.jsxs(Vo,{addClass:"recent",children:[A.jsx("h3",{className:"recent__title",children:"Recent posts"}),A.jsxs("div",{className:"recent__posts",children:[n.map(l=>A.jsxs("p",{className:"recent__posts_item",onClick:()=>t("story",{state:{post:l,isEdit:!1}}),children:[l.title.substring(0,25),"..."]},l.id)),n.length===0&&"No posts"]})]})};var mS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(sd,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",l="minute",u="hour",c="day",d="week",f="month",m="quarter",w="year",k="date",E="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,I=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(G){var B=["th","st","nd","rd"],Q=G%100;return"["+G+(B[(Q-20)%10]||B[Q]||B[0])+"]"}},P=function(G,B,Q){var Z=String(G);return!Z||Z.length>=B?G:""+Array(B+1-Z.length).join(Q)+G},O={s:P,z:function(G){var B=-G.utcOffset(),Q=Math.abs(B),Z=Math.floor(Q/60),L=Q%60;return(B<=0?"+":"-")+P(Z,2,"0")+":"+P(L,2,"0")},m:function G(B,Q){if(B.date()<Q.date())return-G(Q,B);var Z=12*(Q.year()-B.year())+(Q.month()-B.month()),L=B.clone().add(Z,f),H=Q-L<0,W=B.clone().add(Z+(H?-1:1),f);return+(-(Z+(Q-L)/(H?L-W:W-L))||0)},a:function(G){return G<0?Math.ceil(G)||0:Math.floor(G)},p:function(G){return{M:f,y:w,w:d,d:c,D:k,h:u,m:l,s:o,ms:s,Q:m}[G]||String(G||"").toLowerCase().replace(/s$/,"")},u:function(G){return G===void 0}},V="en",j={};j[V]=y;var g="$isDayjsObject",v=function(G){return G instanceof x||!(!G||!G[g])},T=function G(B,Q,Z){var L;if(!B)return V;if(typeof B=="string"){var H=B.toLowerCase();j[H]&&(L=H),Q&&(j[H]=Q,L=H);var W=B.split("-");if(!L&&W.length>1)return G(W[0])}else{var ae=B.name;j[ae]=B,L=ae}return!Z&&L&&(V=L),L||!Z&&V},S=function(G,B){if(v(G))return G.clone();var Q=typeof B=="object"?B:{};return Q.date=G,Q.args=arguments,new x(Q)},R=O;R.l=T,R.i=v,R.w=function(G,B){return S(G,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var x=function(){function G(Q){this.$L=T(Q.locale,null,!0),this.parse(Q),this.$x=this.$x||Q.x||{},this[g]=!0}var B=G.prototype;return B.parse=function(Q){this.$d=function(Z){var L=Z.date,H=Z.utc;if(L===null)return new Date(NaN);if(R.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var W=L.match(b);if(W){var ae=W[2]-1||0,ne=(W[7]||"0").substring(0,3);return H?new Date(Date.UTC(W[1],ae,W[3]||1,W[4]||0,W[5]||0,W[6]||0,ne)):new Date(W[1],ae,W[3]||1,W[4]||0,W[5]||0,W[6]||0,ne)}}return new Date(L)}(Q),this.init()},B.init=function(){var Q=this.$d;this.$y=Q.getFullYear(),this.$M=Q.getMonth(),this.$D=Q.getDate(),this.$W=Q.getDay(),this.$H=Q.getHours(),this.$m=Q.getMinutes(),this.$s=Q.getSeconds(),this.$ms=Q.getMilliseconds()},B.$utils=function(){return R},B.isValid=function(){return this.$d.toString()!==E},B.isSame=function(Q,Z){var L=S(Q);return this.startOf(Z)<=L&&L<=this.endOf(Z)},B.isAfter=function(Q,Z){return S(Q)<this.startOf(Z)},B.isBefore=function(Q,Z){return this.endOf(Z)<S(Q)},B.$g=function(Q,Z,L){return R.u(Q)?this[Z]:this.set(L,Q)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(Q,Z){var L=this,H=!!R.u(Z)||Z,W=R.p(Q),ae=function(Se,we){var Ee=R.w(L.$u?Date.UTC(L.$y,we,Se):new Date(L.$y,we,Se),L);return H?Ee:Ee.endOf(c)},ne=function(Se,we){return R.w(L.toDate()[Se].apply(L.toDate("s"),(H?[0,0,0,0]:[23,59,59,999]).slice(we)),L)},de=this.$W,ke=this.$M,J=this.$D,te="set"+(this.$u?"UTC":"");switch(W){case w:return H?ae(1,0):ae(31,11);case f:return H?ae(1,ke):ae(0,ke+1);case d:var ge=this.$locale().weekStart||0,Oe=(de<ge?de+7:de)-ge;return ae(H?J-Oe:J+(6-Oe),ke);case c:case k:return ne(te+"Hours",0);case u:return ne(te+"Minutes",1);case l:return ne(te+"Seconds",2);case o:return ne(te+"Milliseconds",3);default:return this.clone()}},B.endOf=function(Q){return this.startOf(Q,!1)},B.$set=function(Q,Z){var L,H=R.p(Q),W="set"+(this.$u?"UTC":""),ae=(L={},L[c]=W+"Date",L[k]=W+"Date",L[f]=W+"Month",L[w]=W+"FullYear",L[u]=W+"Hours",L[l]=W+"Minutes",L[o]=W+"Seconds",L[s]=W+"Milliseconds",L)[H],ne=H===c?this.$D+(Z-this.$W):Z;if(H===f||H===w){var de=this.clone().set(k,1);de.$d[ae](ne),de.init(),this.$d=de.set(k,Math.min(this.$D,de.daysInMonth())).$d}else ae&&this.$d[ae](ne);return this.init(),this},B.set=function(Q,Z){return this.clone().$set(Q,Z)},B.get=function(Q){return this[R.p(Q)]()},B.add=function(Q,Z){var L,H=this;Q=Number(Q);var W=R.p(Z),ae=function(ke){var J=S(H);return R.w(J.date(J.date()+Math.round(ke*Q)),H)};if(W===f)return this.set(f,this.$M+Q);if(W===w)return this.set(w,this.$y+Q);if(W===c)return ae(1);if(W===d)return ae(7);var ne=(L={},L[l]=r,L[u]=i,L[o]=n,L)[W]||1,de=this.$d.getTime()+Q*ne;return R.w(de,this)},B.subtract=function(Q,Z){return this.add(-1*Q,Z)},B.format=function(Q){var Z=this,L=this.$locale();if(!this.isValid())return L.invalidDate||E;var H=Q||"YYYY-MM-DDTHH:mm:ssZ",W=R.z(this),ae=this.$H,ne=this.$m,de=this.$M,ke=L.weekdays,J=L.months,te=L.meridiem,ge=function(we,Ee,He,Fe){return we&&(we[Ee]||we(Z,H))||He[Ee].slice(0,Fe)},Oe=function(we){return R.s(ae%12||12,we,"0")},Se=te||function(we,Ee,He){var Fe=we<12?"AM":"PM";return He?Fe.toLowerCase():Fe};return H.replace(I,function(we,Ee){return Ee||function(He){switch(He){case"YY":return String(Z.$y).slice(-2);case"YYYY":return R.s(Z.$y,4,"0");case"M":return de+1;case"MM":return R.s(de+1,2,"0");case"MMM":return ge(L.monthsShort,de,J,3);case"MMMM":return ge(J,de);case"D":return Z.$D;case"DD":return R.s(Z.$D,2,"0");case"d":return String(Z.$W);case"dd":return ge(L.weekdaysMin,Z.$W,ke,2);case"ddd":return ge(L.weekdaysShort,Z.$W,ke,3);case"dddd":return ke[Z.$W];case"H":return String(ae);case"HH":return R.s(ae,2,"0");case"h":return Oe(1);case"hh":return Oe(2);case"a":return Se(ae,ne,!0);case"A":return Se(ae,ne,!1);case"m":return String(ne);case"mm":return R.s(ne,2,"0");case"s":return String(Z.$s);case"ss":return R.s(Z.$s,2,"0");case"SSS":return R.s(Z.$ms,3,"0");case"Z":return W}return null}(we)||W.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(Q,Z,L){var H,W=this,ae=R.p(Z),ne=S(Q),de=(ne.utcOffset()-this.utcOffset())*r,ke=this-ne,J=function(){return R.m(W,ne)};switch(ae){case w:H=J()/12;break;case f:H=J();break;case m:H=J()/3;break;case d:H=(ke-de)/6048e5;break;case c:H=(ke-de)/864e5;break;case u:H=ke/i;break;case l:H=ke/r;break;case o:H=ke/n;break;default:H=ke}return L?H:R.a(H)},B.daysInMonth=function(){return this.endOf(f).$D},B.$locale=function(){return j[this.$L]},B.locale=function(Q,Z){if(!Q)return this.$L;var L=this.clone(),H=T(Q,Z,!0);return H&&(L.$L=H),L},B.clone=function(){return R.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},G}(),C=x.prototype;return S.prototype=C,[["$ms",s],["$s",o],["$m",l],["$H",u],["$W",c],["$M",f],["$y",w],["$D",k]].forEach(function(G){C[G[1]]=function(B){return this.$g(B,G[0],G[1])}}),S.extend=function(G,B){return G.$i||(G(B,x,S),G.$i=!0),S},S.locale=T,S.isDayjs=v,S.unix=function(G){return S(1e3*G)},S.en=j[V],S.Ls=j,S.p={},S})})(mS);var LM=mS.exports;const po=vs(LM);var gS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(sd,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,l){var u=o.prototype;l.utc=function(E){var b={date:E,utc:!0,args:arguments};return new o(b)},u.utc=function(E){var b=l(this.toDate(),{locale:this.$L,utc:!0});return E?b.add(this.utcOffset(),n):b},u.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var c=u.parse;u.parse=function(E){E.utc&&(this.$u=!0),this.$utils().u(E.$offset)||(this.$offset=E.$offset),c.call(this,E)};var d=u.init;u.init=function(){if(this.$u){var E=this.$d;this.$y=E.getUTCFullYear(),this.$M=E.getUTCMonth(),this.$D=E.getUTCDate(),this.$W=E.getUTCDay(),this.$H=E.getUTCHours(),this.$m=E.getUTCMinutes(),this.$s=E.getUTCSeconds(),this.$ms=E.getUTCMilliseconds()}else d.call(this)};var f=u.utcOffset;u.utcOffset=function(E,b){var I=this.$utils().u;if(I(E))return this.$u?0:I(this.$offset)?f.call(this):this.$offset;if(typeof E=="string"&&(E=function(V){V===void 0&&(V="");var j=V.match(r);if(!j)return null;var g=(""+j[0]).match(i)||["-",0,0],v=g[0],T=60*+g[1]+ +g[2];return T===0?0:v==="+"?T:-T}(E),E===null))return this;var y=Math.abs(E)<=16?60*E:E,P=this;if(b)return P.$offset=y,P.$u=E===0,P;if(E!==0){var O=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(P=this.local().add(y+O,n)).$offset=y,P.$x.$localOffset=O}else P=this.utc();return P};var m=u.format;u.format=function(E){var b=E||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return m.call(this,b)},u.valueOf=function(){var E=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*E},u.isUTC=function(){return!!this.$u},u.toISOString=function(){return this.toDate().toISOString()},u.toString=function(){return this.toDate().toUTCString()};var w=u.toDate;u.toDate=function(E){return E==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():w.call(this)};var k=u.diff;u.diff=function(E,b,I){if(E&&this.$u===E.$u)return k.call(this,E,b,I);var y=this.local(),P=l(E).local();return k.call(y,P,b,I)}}})})(gS);var MM=gS.exports;const VM=vs(MM);var vS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(sd,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,s,o){var l,u=function(m,w,k){k===void 0&&(k={});var E=new Date(m),b=function(I,y){y===void 0&&(y={});var P=y.timeZoneName||"short",O=I+"|"+P,V=r[O];return V||(V=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:I,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:P}),r[O]=V),V}(w,k);return b.formatToParts(E)},c=function(m,w){for(var k=u(m,w),E=[],b=0;b<k.length;b+=1){var I=k[b],y=I.type,P=I.value,O=n[y];O>=0&&(E[O]=parseInt(P,10))}var V=E[3],j=V===24?0:V,g=E[0]+"-"+E[1]+"-"+E[2]+" "+j+":"+E[4]+":"+E[5]+":000",v=+m;return(o.utc(g).valueOf()-(v-=v%1e3))/6e4},d=s.prototype;d.tz=function(m,w){m===void 0&&(m=l);var k=this.utcOffset(),E=this.toDate(),b=E.toLocaleString("en-US",{timeZone:m}),I=Math.round((E-new Date(b))/1e3/60),y=o(b,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(E.getTimezoneOffset()/15)-I,!0);if(w){var P=y.utcOffset();y=y.add(k-P,"minute")}return y.$x.$timezone=m,y},d.offsetName=function(m){var w=this.$x.$timezone||o.tz.guess(),k=u(this.valueOf(),w,{timeZoneName:m}).find(function(E){return E.type.toLowerCase()==="timezonename"});return k&&k.value};var f=d.startOf;d.startOf=function(m,w){if(!this.$x||!this.$x.$timezone)return f.call(this,m,w);var k=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return f.call(k,m,w).tz(this.$x.$timezone,!0)},o.tz=function(m,w,k){var E=k&&w,b=k||w||l,I=c(+o(),b);if(typeof m!="string")return o(m).tz(b);var y=function(j,g,v){var T=j-60*g*1e3,S=c(T,v);if(g===S)return[T,g];var R=c(T-=60*(S-g)*1e3,v);return S===R?[T,S]:[j-60*Math.min(S,R)*1e3,Math.max(S,R)]}(o.utc(m,E).valueOf(),I,b),P=y[0],O=y[1],V=o(P).utcOffset(O);return V.$x.$timezone=b,V},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(m){l=m}}})})(vS);var FM=vS.exports;const jM=vs(FM);var yS={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(sd,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function l(c,d,f,m){return s.fromToBase(c,d,f,m)}i.en.relativeTime=o,s.fromToBase=function(c,d,f,m,w){for(var k,E,b,I=f.$locale().relativeTime||o,y=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],P=y.length,O=0;O<P;O+=1){var V=y[O];V.d&&(k=m?i(c).diff(f,V.d,!0):f.diff(c,V.d,!0));var j=(n.rounding||Math.round)(Math.abs(k));if(b=k>0,j<=V.r||!V.r){j<=1&&O>0&&(V=y[O-1]);var g=I[V.l];w&&(j=w(""+j)),E=typeof g=="string"?g.replace("%d",j):g(j,d,V.l,b);break}}if(d)return E;var v=b?I.future:I.past;return typeof v=="function"?v(E):v.replace("%s",E)},s.to=function(c,d){return l(c,d,this,!0)},s.from=function(c,d){return l(c,d,this)};var u=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(u(this),c)},s.fromNow=function(c){return this.from(u(this),c)}}})})(yS);var UM=yS.exports;const $M=vs(UM);po.extend(VM);po.extend(jM);po.extend($M);const uc=t=>{const n=po.utc(t).local();return po().to(po(n))},_S=({likeCount:t,id:e,onLikePost:n})=>{var f;const[r,i]=N.useState(!1),[s,o]=N.useState(!1),[l,u]=N.useState(t),c=N.useContext(bn);N.useEffect(()=>{const m=pl(pn,"posts",e),w=Kd(m,k=>{var E;if(k.exists()){const I=k.data().likeCount;u(I),(E=c==null?void 0:c.user)!=null&&E.uid&&i(I.includes(c.user.uid))}});return()=>w()},[e,(f=c==null?void 0:c.user)==null?void 0:f.uid]);const d=async()=>{var k,E;i(b=>!b),o(!0),setTimeout(()=>{o(!1)},700);const m=pl(pn,"posts",e),w=await _N(m);if(console.log(w.exists()),w.exists()){const b=w.data().likeCount;let I;b&&(b.includes((k=c==null?void 0:c.user)==null?void 0:k.uid)?(I=b.filter(y=>{var P;return y!==((P=c==null?void 0:c.user)==null?void 0:P.uid)}),i(!1)):(I=[...b,(E=c==null?void 0:c.user)==null?void 0:E.uid],i(!0))),u(I),await nI(m,{likeCount:I})}else n(e)};return A.jsxs("div",{className:`like ${r?"clicked":""} ${s?"heartbeat":""}`,onClick:d,children:[A.jsx(qt,{icon:RM,className:"fa-lg like-button"}),A.jsx("span",{children:l.length})]})},mr=()=>A.jsxs("div",{className:"skeleton-story",children:[A.jsx("div",{className:"skeleton skeleton__image"}),A.jsxs("div",{className:"skeleton__story__description",children:[A.jsxs("div",{className:"skeleton__story__description_about",children:[A.jsx("div",{className:"skeleton__story__description_title skeleton"}),A.jsx("div",{className:"skeleton__story__description_post skeleton"})]}),A.jsxs("div",{className:"skeleton__story__description_author",children:[A.jsxs("div",{className:"skeleton__story__description_author-information",children:[A.jsx("div",{className:"skeleton skeleton__story__description_author-information-picture"}),A.jsx("div",{className:"skeleton skeleton__story__description_author-information-name"})]}),A.jsx("div",{className:" skeleton skeleton__story__description_about-interaction"})]})]})]}),wS=({story:t,showEdit:e,onDelete:n,onLikePost:r})=>{var b;const[i,s]=N.useState(!1),[o,l]=N.useState(!1),[u,c]=N.useState(t),d=N.useContext(bn),[f,m]=N.useState(!1),w=()=>{m(!0)},k=async()=>{t.id&&(await wN(pl(pn,"posts",t.id)),n(t.id),m(!1))},E=()=>{if(t.id)return A.jsxs("div",{className:"deleteConfirmation",children:[A.jsx("p",{className:"deleteConfirmation_question",children:"Are you sure that you want to delete the post?"}),A.jsxs("div",{className:"deleteConfirmation_button",children:[A.jsx(xt,{children:"Delete",type:"button",handleFunction:()=>k()}),A.jsx(xt,{children:"Go Back",type:"button",handleFunction:()=>m(!1)})]})]})};return A.jsxs(Vo,{addClass:`story ${i?"story__block":""}`,children:[A.jsxs("div",{className:"story__description_about-header-tablet",children:[A.jsx("h1",{className:"story__description_title",children:u.title}),e&&A.jsx(xt,{addClass:"myStory__edit",handleFunction:()=>l(!0),type:"button",children:A.jsx(qt,{icon:jp,title:"Click to edit the post"})})]}),A.jsx("div",{className:"story__left",children:A.jsx("img",{src:u.image,alt:"story picture",className:`story__image ${i?"story__image_scalDown":""}`})}),A.jsxs("div",{className:"story__description",children:[A.jsxs("div",{className:"story__description_about",children:[A.jsxs("div",{className:"story__description_about-header",children:[A.jsx("h1",{className:"story__description_title",children:u.title}),e&&A.jsx(xt,{addClass:"myStory__edit",handleFunction:()=>l(!0),type:"button",children:A.jsx(qt,{icon:jp,title:"Click to edit the post"})})]}),i&&A.jsx("div",{className:"story__description_image-container",children:A.jsx("img",{src:u.image,alt:"story picture",className:"story__description_image"})}),A.jsxs("p",{className:"story__description_post",children:[i?u.post:u.post.substring(0,300)+"...",u.post.length>300&&!i&&A.jsx(xt,{children:"see more",handleFunction:()=>s(!0),type:"button",addClass:"story__description_post-button"}),u.post.length>300&&i&&A.jsx(xt,{children:"show less",handleFunction:()=>s(!1),type:"button",addClass:"story__description_post-button"})]})]}),A.jsxs("div",{className:"story__description_author",children:[A.jsxs("div",{className:"story__description_author-information",children:[A.jsx(Nl,{image:u.authorImage,about:"writter picture",addClass:"story__description_author-information-picture"}),A.jsxs("div",{className:"story__description_author-information-part1",children:[A.jsx("h4",{className:"story__description_author-information-name",children:u.authorName}),A.jsx("p",{className:"story__description_author-information-date",children:uc(u.lastUpdated)})]})]}),A.jsxs("div",{className:"story__description_about-interaction",children:[t.authorId===((b=d==null?void 0:d.user)==null?void 0:b.uid)?A.jsx(qt,{icon:bM,title:"Click to delete the post",onClick:w,className:"delete"}):A.jsx(A.Fragment,{}),A.jsx(_S,{likeCount:t.likeCount,id:t.id,onLikePost:r})]})]})]}),A.jsx(zg,{setIsModalOpen:l,isModalOpen:o,story:u,setStory:c}),A.jsx(zm,{open:f,addClass:"deleteConfirmation_modal",children:A.jsx(E,{})})]})},zM=()=>{var ke;const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState(!1),[o,l]=N.useState(!1),[u,c]=N.useState(!1),[d,f]=N.useState([]),[m,w]=N.useState(null),k=N.useRef(!1),[E,b]=N.useState([]),[I,y]=N.useState(null),[P,O]=N.useState(!0),V=N.useRef(null),[j,g]=N.useState([]),[v,T]=N.useState([]),S=N.useRef(new Set),[R,x]=N.useState(!1),[C,G]=N.useState(!1),B=N.useContext(bn),Q=J=>{for(let te=J.length-1;te>0;te--){const ge=Math.floor(Math.random()*(te+1));[J[te],J[ge]]=[J[ge],J[te]]}return J};N.useEffect(()=>{window.scrollTo(0,0)},[]),N.useEffect(()=>{(async()=>{try{r(!0);const te=wr(pn,"posts"),ge=ai(te,Va("lastUpdated","desc"),Qc(10)),Oe=await Fa(ge),Se=Oe.docs.map(we=>({id:we.id,image:we.data().image||"",post:we.data().post||"",title:we.data().title||"",keyWords:we.data().keyWords||[],authorName:we.data().authorName||"",authorId:we.data().authorId||"",writtenOn:we.data().writtenOn||"",lastUpdated:we.data().lastUpdated||"",likeCount:we.data().likeCount||[],authorImage:we.data().authorImage||""}));e(Se),y(Oe.docs[Oe.docs.length-1]),S.current=new Set(Se.map(we=>we.id)),O(Oe.docs.length===10)}catch(te){console.error("Error fetching initial posts:",te)}finally{r(!1)}})()},[]);const Z=J=>{x(!0),e(te=>te.filter(ge=>ge.id!==J))};N.useEffect(()=>{const J=Kd(ai(wr(pn,"posts"),Va("lastUpdated","desc")),te=>{const Oe=te.docs.map(Se=>({id:Se.id,image:Se.data().image||"",post:Se.data().post||"",title:Se.data().title||"",keyWords:Se.data().keyWords||[],authorName:Se.data().authorName||"",authorId:Se.data().authorId||"",writtenOn:Se.data().writtenOn||"",lastUpdated:Se.data().lastUpdated||0,likeCount:Se.data().likeCount||[],authorImage:Se.data().authorImage||""})).filter(Se=>!S.current.has(Se.id)&&!t.some(we=>we.id===Se.id));if(Oe.length>0){const Se=Oe.filter(Fe=>{var kt;return Fe.authorId===((kt=B==null?void 0:B.user)==null?void 0:kt.uid)}),we=Oe.filter(Fe=>{var kt;return Fe.authorId!==((kt=B==null?void 0:B.user)==null?void 0:kt.uid)});Se.length>0&&e(Fe=>[...Se,...Fe]);const Ee=t.length===0?null:t.reduce((Fe,kt)=>kt.lastUpdated>Fe.lastUpdated?kt:Fe),He=Ee?Ee.lastUpdated:0;we.length>0&&g(Fe=>{const kt=new Set(Fe.map(Qt=>Qt.id)),sr=we.filter(Qt=>!kt.has(Qt.id)&&Qt.lastUpdated>He);return console.log(sr),sr.length>0?(l(!0),[...Fe,...sr]):Fe})}});return()=>J()},[t,(ke=B==null?void 0:B.user)==null?void 0:ke.uid]),N.useEffect(()=>{const J=Array.from(new Set(j.map(te=>te.authorImage)));T(J)},[j]);const L=N.useCallback(J=>{if(n)return;V.current&&V.current.disconnect();const te=async()=>{if(!(!I||n))try{r(!0);const ge=wr(pn,"posts"),Oe=ai(ge,Va("lastUpdated","desc"),JT(I),Qc(10)),Se=await Fa(Oe),we=Se.docs.map(Ee=>({id:Ee.id,image:Ee.data().image||"",post:Ee.data().post||"",title:Ee.data().title||"",keyWords:Ee.data().keyWords||[],authorName:Ee.data().authorName||"",authorId:Ee.data().authorId||"",writtenOn:Ee.data().writtenOn||"",lastUpdated:Ee.data().lastUpdated||"",likeCount:Ee.data().likeCount||[],authorImage:Ee.data().authorImage||""}));e(Ee=>[...Ee,...we]),y(Se.docs[Se.docs.length-1]),O(Se.docs.length===10)}catch(ge){console.error("Error fetching more posts:",ge)}finally{r(!1)}};V.current=new IntersectionObserver(ge=>{ge[0].isIntersecting&&P&&te()}),J&&V.current.observe(J)},[n,I,P]);N.useEffect(()=>{if(t.length>0&&!k.current){const J=Array.from(new Set(t.flatMap(te=>te.keyWords||[]).filter(te=>te.trim().length>0)));f(Q(J).slice(0,15)),k.current=!0}},[t]);const H=async J=>{const te=d[J];if(m===J){w(null),b([]);return}w(J);const ge=wr(pn,"posts"),Oe=ai(ge,ml("keyWords","array-contains",te)),we=(await Fa(Oe)).docs.map(Ee=>({id:Ee.id,image:Ee.data().image||"",post:Ee.data().post||"",title:Ee.data().title||"",keyWords:Ee.data().keyWords||[],authorName:Ee.data().authorName||"",authorId:Ee.data().authorId||"",writtenOn:Ee.data().writtenOn||"",lastUpdated:Ee.data().lastUpdated||"",likeCount:Ee.data().likeCount||[],authorImage:Ee.data().authorImage||""}));b(we)},W=J=>{const te=J.target.value.toLowerCase(),ge=Array.from(new Set(t.flatMap(Oe=>Oe.keyWords||[]).filter(Oe=>Oe.toLowerCase().includes(te)))).slice(0,15);f(ge)},ae=N.useRef(null);N.useEffect(()=>{const J=te=>{ae.current&&!ae.current.contains(te.target)&&c(!1)};return document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[]);const ne=J=>{s(!0),e(te=>te.filter(ge=>ge.id!==J)),setTimeout(()=>{s(!1)},5e3)},de=()=>A.jsxs("div",{className:"deleteConfirmation",children:[A.jsx("p",{className:"deleteConfirmation_question",children:"This post is not available now..."}),A.jsx("div",{className:"deleteConfirmation_button",children:A.jsx(xt,{children:"Go Back",type:"button",handleFunction:()=>x(!1)})})]});return A.jsxs(A.Fragment,{children:[i&&A.jsx("div",{className:"deleted",children:A.jsx("p",{children:"Post Deleted..."})}),o&&A.jsx("div",{className:`notification ${C?"slide-up":""}`,onClick:()=>{G(!0),setTimeout(()=>{e(J=>{const te=new Set(J.map(Oe=>Oe.id));return[...j.filter(Oe=>!te.has(Oe.id)),...J]}),g([]),T([]),l(!1),G(!1),window.scrollTo(0,0)},500)},children:A.jsxs("div",{className:"notification-images",children:[A.jsx(qt,{icon:pS,title:"Click to view new posts"}),v.map((J,te)=>A.jsx("img",{src:J,className:`notification-image_${te}`},te)),A.jsx("span",{children:j.length})]})}),A.jsxs("div",{className:"stories",children:[A.jsxs("div",{className:"stories__profile",children:[A.jsx(Up,{isClickable:!0}),A.jsx(OM,{})]}),A.jsxs("div",{className:"stories__right",children:[A.jsxs("div",{className:"stories__list",children:[A.jsx("div",{className:"stories__newPost",children:A.jsx(CO,{isLoading:n})}),A.jsx("div",{onClick:()=>c(J=>!J),ref:ae,className:`stories__filters_button ${m!==null?"keyword":""}`,children:A.jsx(qt,{icon:AM,title:"Click to edit the post"})}),n?A.jsxs(A.Fragment,{children:[A.jsx(mr,{}),A.jsx(mr,{}),A.jsx(mr,{})]}):m!==null?E.length>0?E.map((J,te)=>A.jsx("div",{ref:te===t.length-1?L:null,children:A.jsx(Y0,{story:J,onDelete:ne,onLikePost:Z})},J.id)):A.jsxs(A.Fragment,{children:[A.jsx(mr,{}),A.jsx(mr,{}),A.jsx(mr,{})]}):t.map((J,te)=>A.jsx("div",{ref:te===t.length-1?L:null,children:A.jsx(Y0,{story:J,onDelete:ne,onLikePost:Z})},J.id))]}),A.jsxs("div",{className:"stories__filters",children:[A.jsx("div",{className:"stories__filters_search",children:A.jsx(oo,{placeholder:"Search keyword...",icon:"",handlerFunctionOnChange:W,title:"Separate word using hyphen (-) (example: first-second-thired)"})}),A.jsxs("div",{className:"stories__filters_items",children:[d.map((J,te)=>A.jsx("div",{className:`stories__filters_items-item ${m===te?"selected":""}`,onClick:()=>H(te),children:J},te)),d.length===0?"No results found...":""]})]}),A.jsxs("div",{className:`stories__filters_slider ${u?"visible":""}`,children:[A.jsx(Up,{isClickable:!0}),A.jsx("div",{className:"stories__filters_search",children:A.jsx(oo,{placeholder:"Search keyword...",icon:"",handlerFunctionOnChange:W,title:"Separate word using hyphen (-) (example: first-second-thired)"})}),A.jsxs("div",{className:"stories__filters_items",children:[d.map((J,te)=>A.jsx("div",{className:`stories__filters_items-item ${m===te?"selected":""}`,onClick:()=>H(te),children:J},te)),d.length===0?"No results found...":""]})]})]})]}),A.jsx(zm,{open:R,addClass:"noPost_modal",children:A.jsx(de,{})})]})},Y0=Il.memo(wS),BM=({toggleFun:t})=>A.jsxs("div",{className:"themeToggle",children:[A.jsx("input",{type:"checkbox",className:"themeToggle_input",id:"switchInput",onChange:t}),A.jsx("label",{htmlFor:"switchInput",className:"themeToggle_label"})]}),HM=()=>{const t=N.useContext(kd),e=N.useContext(Ad),n=N.useContext(bn),r=ws(),[i,s]=N.useState(!0),[o,l]=N.useState(0),u=()=>{t==null||t.toggleTheme()},c=()=>{n==null||n.logout()},d=()=>{e==null||e.toggleFont()};return N.useEffect(()=>{const f=()=>{typeof window<"u"&&(window.scrollY>o&&o>200?s(!1):s(!0),l(window.scrollY))};if(typeof window<"u")return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[o]),A.jsxs("div",{className:`header ${i?" header-visible":"header-hidden"}`,children:[A.jsx("h2",{className:"header__title",onClick:()=>r("/storycorner"),children:"Story Corner"}),A.jsxs("div",{className:"header__action",children:[A.jsx(qt,{icon:xM,onClick:d,className:"header__action_font",title:"Change font"}),A.jsx(BM,{toggleFun:u}),(n==null?void 0:n.user)&&A.jsx(qt,{icon:CM,onClick:c,title:"Log out"})]})]})},WM=()=>A.jsxs("div",{className:"footer",children:[A.jsx("p",{children:"A place where you can write to inspire and explore"}),A.jsx("p",{className:"footer__link",children:A.jsx("a",{className:"footer__portfolio",target:"#",href:"https://harikrishnanmohan.in/",children:"Harikrishnan Mohan"})})]});function qM(){const t=N.useContext(kd),e=N.useContext(Ad),[n,r]=N.useState(!1),i=()=>{typeof window<"u"&&(window.scrollY>100?r(!0):r(!1))};return N.useEffect(()=>{if(typeof window<"u")return window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i)}},[]),A.jsxs("div",{className:`app app${(t==null?void 0:t.theme)==="light"?"__light":"__dark"} app__${(e==null?void 0:e.font)==="Kalam"?"handWriting":"typeWriting"}`,children:[A.jsx(HM,{}),A.jsx(SC,{}),A.jsx(xt,{type:"button",handleFunction:()=>window.scroll(0,0),addClass:`app__top ${n?"visible":""}`,children:A.jsx(qt,{icon:pS,title:"Go top"})}),A.jsx(WM,{})]})}var GM={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]};const KM=()=>{const t=N.useContext(bn),e=ws(),n=()=>{xD(kO,AO).then(r=>{if(r.user.displayName&&r.user.email&&r.user.photoURL&&r.user.uid){const i={displayName:r.user.displayName,email:r.user.email,photoURL:r.user.photoURL,uid:r.user.uid};t==null||t.login(i),e("/storycorner")}}).catch(r=>console.log(r))};return A.jsx("div",{className:"login",children:A.jsxs("div",{className:"login__container",children:[A.jsxs("div",{className:"login__welcome",children:[A.jsx("h1",{className:"login__welcome_title",children:"Welcome to Story Corner"}),A.jsx("p",{className:"login__welcome_description",children:"Welcome to our vibrant blogosphere, where ideas flourish! Share your thoughts, stories, and expertise with the world. Join a community of passionate writers and readers, engage with like-minded individuals, and spark discussions that matter. Explore diverse topics, and let your creativity shine. Start writing your next masterpiece today!"})]}),A.jsxs("div",{className:"login__section",children:[A.jsx("h3",{className:"login__section_subTitle",children:"Let's start by logging in..."}),A.jsxs(xt,{handleFunction:n,type:"button",addClass:"login__section_button",children:["Login",A.jsx(qt,{icon:GM,title:"Click to delete the post",className:"delete"})]})]})]})})},QM=()=>{var l,u;const t=ws(),e=Sd(),[n,r]=N.useState(!1),[i,s]=N.useState((l=e==null?void 0:e.state)==null?void 0:l.post);N.useEffect(()=>{var c;(c=e==null?void 0:e.state)!=null&&c.isEdit&&r(!0)},[(u=e==null?void 0:e.state)==null?void 0:u.isEdit]);const o=()=>{r(!0)};return A.jsxs(A.Fragment,{children:[i&&A.jsx("div",{className:"myStory",children:A.jsx("div",{className:"myStory__container",children:A.jsxs(Vo,{addClass:"myStory__container_post",children:[A.jsxs("div",{className:"myStory__interaction",children:[A.jsxs("div",{className:"myStory__interaction_title",children:[A.jsx(xt,{type:"button",handleFunction:()=>t("/storycorner"),addClass:"myStory__header_back",children:A.jsx(qt,{icon:nv})}),A.jsx("h1",{className:"myStory__title",children:i.title}),A.jsx(xt,{addClass:"myStory__edit",handleFunction:o,type:"button",children:A.jsx(qt,{icon:jp,title:"Click to edit the post"})})]}),A.jsx("div",{className:"myStory__about",children:A.jsxs("div",{className:"myStory__about_informations",children:[A.jsx("div",{className:"myStory__image_container",children:A.jsx("img",{src:i.image,alt:"story picture",className:"myStory__image"})}),A.jsxs("div",{className:"myStory__about_informations-like",children:[A.jsxs("div",{className:"myStory__about_informations-like-items",children:[i.lastUpdated!=i.writtenOn?A.jsxs(A.Fragment,{children:[A.jsxs("p",{children:["Written on: ",uc(i.writtenOn)]}),A.jsxs("p",{children:["Last updated:"," ",uc(i.lastUpdated)]})]}):A.jsxs("p",{children:["Written on: ",uc(i.writtenOn)]}),A.jsx(_S,{id:i.id,likeCount:i.likeCount,onLikePost:()=>{}})]}),A.jsx("div",{className:"myStory__about_keyWords",children:i.keyWords.map((c,d)=>A.jsx("div",{className:"myStory__about_keyWords-item",children:c},d))})]})]})})]}),A.jsxs("div",{className:"myStory__post",children:[A.jsx("p",{className:"myStory__post",children:i.post}),A.jsx("div",{className:"myStory__post_author",children:A.jsxs("div",{className:"myStory__post_author-information",children:[A.jsx(Nl,{image:i.authorImage,about:"writter picture",addClass:"myStory__post_author-information-picture"}),A.jsx("h4",{className:"myStory__post_author-information-name",children:i.authorName})]})})]})]})})}),A.jsx(zg,{setIsModalOpen:r,isModalOpen:n,story:i,setStory:s})]})},sf=({children:t})=>{const e=N.useContext(bn);return e!=null&&e.user?t:A.jsx(IC,{to:"/storycorner/login"})},YM=()=>{var P,O;const t=N.useContext(bn),e=ws(),[n,r]=N.useState([]),[i,s]=N.useState(!0),[o,l]=N.useState(!1),[u,c]=N.useState(!1),[d,f]=N.useState(null),m=N.useRef(new Set),[w,k]=N.useState(!0),E=N.useRef(null);N.useEffect(()=>{window.scrollTo(0,0)},[]),N.useEffect(()=>{(async()=>{var j;try{s(!0);const g=wr(pn,"posts"),v=ai(g,ml("authorId","==",(j=t==null?void 0:t.user)==null?void 0:j.uid),Va("lastUpdated","desc"),Qc(10)),T=await Fa(v),S=T.docs.map(R=>({id:R.id,image:R.data().image||"",post:R.data().post||"",title:R.data().title||"",keyWords:R.data().keyWords||[],authorName:R.data().authorName||"",authorId:R.data().authorId||"",writtenOn:R.data().writtenOn||"",lastUpdated:R.data().lastUpdated||"",likeCount:R.data().likeCount||[],authorImage:R.data().authorImage||""}));r(S),f(T.docs[T.docs.length-1]),m.current=new Set(S.map(R=>R.id)),k(T.docs.length===10)}catch(g){console.error("Error fetching initial posts:",g)}finally{s(!1)}})()},[(P=t==null?void 0:t.user)==null?void 0:P.uid]);const b=N.useCallback(V=>{if(i)return;E.current&&E.current.disconnect();const j=async()=>{var g;if(!(!d||i))try{s(!0);const v=wr(pn,"posts"),T=ai(v,ml("authorId","==",(g=t==null?void 0:t.user)==null?void 0:g.uid),Va("lastUpdated","desc"),JT(d),Qc(10)),S=await Fa(T),R=S.docs.map(x=>({id:x.id,image:x.data().image||"",post:x.data().post||"",title:x.data().title||"",keyWords:x.data().keyWords||[],authorName:x.data().authorName||"",authorId:x.data().authorId||"",writtenOn:x.data().writtenOn||"",lastUpdated:x.data().lastUpdated||"",likeCount:x.data().likeCount||[],authorImage:x.data().authorImage||""}));r(x=>[...x,...R]),f(S.docs[S.docs.length-1]),k(S.docs.length===10)}catch(v){console.error("Error fetching more posts:",v)}finally{s(!1)}};E.current=new IntersectionObserver(g=>{g[0].isIntersecting&&w&&j()}),V&&E.current.observe(V)},[i,d,(O=t==null?void 0:t.user)==null?void 0:O.uid,w]),I=()=>{typeof window<"u"&&(window.scrollY>400?l(!0):l(!1))};N.useEffect(()=>{if(typeof window<"u")return window.addEventListener("scroll",I),()=>{window.removeEventListener("scroll",I)}},[]);const y=V=>{c(!0),r(j=>j.filter(g=>g.id!==V)),setTimeout(()=>{c(!1)},5e3)};return A.jsxs(A.Fragment,{children:[u&&A.jsx("div",{className:"deleted",children:A.jsx("p",{children:"Post Deleted..."})}),A.jsxs("div",{className:"totalPosts",children:[A.jsx(xt,{type:"button",handleFunction:()=>e("/storycorner"),addClass:`totalPosts__back ${o?"visible":""}`,children:A.jsx(qt,{icon:nv,title:"Go back"})}),A.jsxs("div",{className:"totalPosts__posts",children:[A.jsx(Up,{isClickable:!1}),i?A.jsxs(A.Fragment,{children:[A.jsx(mr,{}),A.jsx(mr,{}),A.jsx(mr,{})]}):n.map((V,j)=>A.jsx("div",{ref:j===n.length-1?b:null,children:A.jsx(wS,{story:V,showEdit:!0,onDelete:y,onLikePost:()=>{}})},V.id)),n.length===0&&A.jsxs(Vo,{addClass:"totalPosts__noPost",children:["Join the Conversation! - There are no posts yet. Share your thoughts and be the first to post.",A.jsx(xt,{handleFunction:()=>e("/storycorner"),type:"button",addClass:"goHome-button",children:"Go to home"})]})]})]})]})},XM=CC([{path:"/storycorner/",element:A.jsx(qM,{}),children:[{path:"/storycorner/login",element:A.jsx(KM,{})},{path:"/storycorner/",element:A.jsx(sf,{children:A.jsx(zM,{})})},{path:"/storycorner/myPosts",element:A.jsx(sf,{children:A.jsx(YM,{})})},{path:"/storycorner/story",element:A.jsx(sf,{children:A.jsx(QM,{})})}]}]);of.createRoot(document.getElementById("root")).render(A.jsx(Il.StrictMode,{children:A.jsx(zC,{children:A.jsx(jC,{children:A.jsx(UC,{children:A.jsx(VC,{router:XM})})})})}));
